var f5=Object.defineProperty;var p5=n=>{throw TypeError(n)};var g5=(n,e,t)=>e in n?f5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var qi=(n,e,t)=>g5(n,typeof e!="symbol"?e+"":e,t);var cl=(n,e,t)=>e.has(n)?p5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t);function m5(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ge(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var t4={exports:{}},ng={},n4={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=Symbol.for("react.element"),v5=Symbol.for("react.portal"),y5=Symbol.for("react.fragment"),b5=Symbol.for("react.strict_mode"),w5=Symbol.for("react.profiler"),C5=Symbol.for("react.provider"),B5=Symbol.for("react.context"),x5=Symbol.for("react.forward_ref"),_5=Symbol.for("react.suspense"),S5=Symbol.for("react.memo"),E5=Symbol.for("react.lazy"),tC=Symbol.iterator;function F5(n){return n===null||typeof n!="object"?null:(n=tC&&n[tC]||n["@@iterator"],typeof n=="function"?n:null)}var r4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i4=Object.assign,s4={};function jA(n,e,t){this.props=n,this.context=e,this.refs=s4,this.updater=t||r4}jA.prototype.isReactComponent={};jA.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};jA.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function o4(){}o4.prototype=jA.prototype;function M1(n,e,t){this.props=n,this.context=e,this.refs=s4,this.updater=t||r4}var L1=M1.prototype=new o4;L1.constructor=M1;i4(L1,jA.prototype);L1.isPureReactComponent=!0;var nC=Array.isArray,a4=Object.prototype.hasOwnProperty,N1={current:null},A4={key:!0,ref:!0,__self:!0,__source:!0};function l4(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)a4.call(e,r)&&!A4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var A=Array(a),c=0;c<a;c++)A[c]=arguments[c+2];i.children=A}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ih,type:n,key:s,ref:o,props:i,_owner:N1.current}}function T5(n,e){return{$$typeof:ih,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function R1(n){return typeof n=="object"&&n!==null&&n.$$typeof===ih}function P5(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var rC=/\/+/g;function ym(n,e){return typeof n=="object"&&n!==null&&n.key!=null?P5(""+n.key):e.toString(36)}function sd(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case ih:case v5:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+ym(o,0):r,nC(i)?(t="",n!=null&&(t=n.replace(rC,"$&/")+"/"),sd(i,e,t,"",function(c){return c})):i!=null&&(R1(i)&&(i=T5(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rC,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",nC(n))for(var a=0;a<n.length;a++){s=n[a];var A=r+ym(s,a);o+=sd(s,e,t,A,i)}else if(A=F5(n),typeof A=="function")for(n=A.call(n),a=0;!(s=n.next()).done;)s=s.value,A=r+ym(s,a++),o+=sd(s,e,t,A,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mh(n,e,t){if(n==null)return n;var r=[],i=0;return sd(n,r,"","",function(s){return e.call(t,s,i++)}),r}function O5(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Fn={current:null},od={transition:null},I5={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:od,ReactCurrentOwner:N1};function c4(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Mh,forEach:function(n,e,t){Mh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Mh(n,function(){e++}),e},toArray:function(n){return Mh(n,function(e){return e})||[]},only:function(n){if(!R1(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ye.Component=jA;ye.Fragment=y5;ye.Profiler=w5;ye.PureComponent=M1;ye.StrictMode=b5;ye.Suspense=_5;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I5;ye.act=c4;ye.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=i4({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=N1.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(A in e)a4.call(e,A)&&!A4.hasOwnProperty(A)&&(r[A]=e[A]===void 0&&a!==void 0?a[A]:e[A])}var A=arguments.length-2;if(A===1)r.children=t;else if(1<A){a=Array(A);for(var c=0;c<A;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ih,type:n.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(n){return n={$$typeof:B5,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:C5,_context:n},n.Consumer=n};ye.createElement=l4;ye.createFactory=function(n){var e=l4.bind(null,n);return e.type=n,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(n){return{$$typeof:x5,render:n}};ye.isValidElement=R1;ye.lazy=function(n){return{$$typeof:E5,_payload:{_status:-1,_result:n},_init:O5}};ye.memo=function(n,e){return{$$typeof:S5,type:n,compare:e===void 0?null:e}};ye.startTransition=function(n){var e=od.transition;od.transition={};try{n()}finally{od.transition=e}};ye.unstable_act=c4;ye.useCallback=function(n,e){return Fn.current.useCallback(n,e)};ye.useContext=function(n){return Fn.current.useContext(n)};ye.useDebugValue=function(){};ye.useDeferredValue=function(n){return Fn.current.useDeferredValue(n)};ye.useEffect=function(n,e){return Fn.current.useEffect(n,e)};ye.useId=function(){return Fn.current.useId()};ye.useImperativeHandle=function(n,e,t){return Fn.current.useImperativeHandle(n,e,t)};ye.useInsertionEffect=function(n,e){return Fn.current.useInsertionEffect(n,e)};ye.useLayoutEffect=function(n,e){return Fn.current.useLayoutEffect(n,e)};ye.useMemo=function(n,e){return Fn.current.useMemo(n,e)};ye.useReducer=function(n,e,t){return Fn.current.useReducer(n,e,t)};ye.useRef=function(n){return Fn.current.useRef(n)};ye.useState=function(n){return Fn.current.useState(n)};ye.useSyncExternalStore=function(n,e,t){return Fn.current.useSyncExternalStore(n,e,t)};ye.useTransition=function(){return Fn.current.useTransition()};ye.version="18.3.1";n4.exports=ye;var H=n4.exports;const b=Ge(H);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5=H,k5=Symbol.for("react.element"),D5=Symbol.for("react.fragment"),Q5=Object.prototype.hasOwnProperty,M5=U5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L5={key:!0,ref:!0,__self:!0,__source:!0};function h4(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Q5.call(e,r)&&!L5.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:k5,type:n,key:s,ref:o,props:i,_owner:M5.current}}ng.Fragment=D5;ng.jsx=h4;ng.jsxs=h4;t4.exports=ng;var _=t4.exports,u4={exports:{}},er={},d4={exports:{}},f4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(Q,R){var B=Q.length;Q.push(R);e:for(;0<B;){var O=B-1>>>1,k=Q[O];if(0<i(k,R))Q[O]=R,Q[B]=k,B=O;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var R=Q[0],B=Q.pop();if(B!==R){Q[0]=B;e:for(var O=0,k=Q.length,L=k>>>1;O<L;){var j=2*(O+1)-1,K=Q[j],J=j+1,Y=Q[J];if(0>i(K,B))J<k&&0>i(Y,K)?(Q[O]=Y,Q[J]=B,O=J):(Q[O]=K,Q[j]=B,O=j);else if(J<k&&0>i(Y,B))Q[O]=Y,Q[J]=B,O=J;else break e}}return R}function i(Q,R){var B=Q.sortIndex-R.sortIndex;return B!==0?B:Q.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var A=[],c=[],l=1,h=null,u=3,d=!1,p=!1,f=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Q){for(var R=t(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=Q)r(c),R.sortIndex=R.expirationTime,e(A,R);else break;R=t(c)}}function C(Q){if(f=!1,w(Q),!p)if(t(A)!==null)p=!0,G(S);else{var R=t(c);R!==null&&V(C,R.startTime-Q)}}function S(Q,R){p=!1,f&&(f=!1,m(T),T=-1),d=!0;var B=u;try{for(w(R),h=t(A);h!==null&&(!(h.expirationTime>R)||Q&&!U());){var O=h.callback;if(typeof O=="function"){h.callback=null,u=h.priorityLevel;var k=O(h.expirationTime<=R);R=n.unstable_now(),typeof k=="function"?h.callback=k:h===t(A)&&r(A),w(R)}else r(A);h=t(A)}if(h!==null)var L=!0;else{var j=t(c);j!==null&&V(C,j.startTime-R),L=!1}return L}finally{h=null,u=B,d=!1}}var x=!1,E=null,T=-1,P=5,F=-1;function U(){return!(n.unstable_now()-F<P)}function I(){if(E!==null){var Q=n.unstable_now();F=Q;var R=!0;try{R=E(!0,Q)}finally{R?D():(x=!1,E=null)}}else x=!1}var D;if(typeof y=="function")D=function(){y(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,M=$.port2;$.port1.onmessage=I,D=function(){M.postMessage(null)}}else D=function(){v(I,0)};function G(Q){E=Q,x||(x=!0,D())}function V(Q,R){T=v(function(){Q(n.unstable_now())},R)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){p||d||(p=!0,G(S))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return u},n.unstable_getFirstCallbackNode=function(){return t(A)},n.unstable_next=function(Q){switch(u){case 1:case 2:case 3:var R=3;break;default:R=u}var B=u;u=R;try{return Q()}finally{u=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,R){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var B=u;u=Q;try{return R()}finally{u=B}},n.unstable_scheduleCallback=function(Q,R,B){var O=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?O+B:O):B=O,Q){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=B+k,Q={id:l++,callback:R,priorityLevel:Q,startTime:B,expirationTime:k,sortIndex:-1},B>O?(Q.sortIndex=B,e(c,Q),t(A)===null&&Q===t(c)&&(f?(m(T),T=-1):f=!0,V(C,B-O))):(Q.sortIndex=k,e(A,Q),p||d||(p=!0,G(S))),Q},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(Q){var R=u;return function(){var B=u;u=R;try{return Q.apply(this,arguments)}finally{u=B}}}})(f4);d4.exports=f4;var N5=d4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R5=H,Zn=N5;function z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p4=new Set,xc={};function oa(n,e){BA(n,e),BA(n+"Capture",e)}function BA(n,e){for(xc[n]=e,n=0;n<e.length;n++)p4.add(e[n])}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fv=Object.prototype.hasOwnProperty,H5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iC={},sC={};function $5(n){return Fv.call(sC,n)?!0:Fv.call(iC,n)?!1:H5.test(n)?sC[n]=!0:(iC[n]=!0,!1)}function j5(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function K5(n,e,t,r){if(e===null||typeof e>"u"||j5(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tn(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){en[n]=new Tn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];en[e]=new Tn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){en[n]=new Tn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){en[n]=new Tn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){en[n]=new Tn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){en[n]=new Tn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){en[n]=new Tn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){en[n]=new Tn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){en[n]=new Tn(n,5,!1,n.toLowerCase(),null,!1,!1)});var H1=/[\-:]([a-z])/g;function $1(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(H1,$1);en[e]=new Tn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(H1,$1);en[e]=new Tn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(H1,$1);en[e]=new Tn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){en[n]=new Tn(n,1,!1,n.toLowerCase(),null,!1,!1)});en.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){en[n]=new Tn(n,1,!1,n.toLowerCase(),null,!0,!0)});function j1(n,e,t,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(K5(e,t,i,r)&&(t=null),r||i===null?$5(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Xi=R5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lh=Symbol.for("react.element"),Xa=Symbol.for("react.portal"),Ya=Symbol.for("react.fragment"),K1=Symbol.for("react.strict_mode"),Tv=Symbol.for("react.profiler"),g4=Symbol.for("react.provider"),m4=Symbol.for("react.context"),G1=Symbol.for("react.forward_ref"),Pv=Symbol.for("react.suspense"),Ov=Symbol.for("react.suspense_list"),V1=Symbol.for("react.memo"),vs=Symbol.for("react.lazy"),v4=Symbol.for("react.offscreen"),oC=Symbol.iterator;function hl(n){return n===null||typeof n!="object"?null:(n=oC&&n[oC]||n["@@iterator"],typeof n=="function"?n:null)}var ut=Object.assign,bm;function Rl(n){if(bm===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);bm=e&&e[1]||""}return`
`+bm+n}var wm=!1;function Cm(n,e){if(!n||wm)return"";wm=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var A=`
`+i[o].replace(" at new "," at ");return n.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",n.displayName)),A}while(1<=o&&0<=a);break}}}finally{wm=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Rl(n):""}function G5(n){switch(n.tag){case 5:return Rl(n.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return n=Cm(n.type,!1),n;case 11:return n=Cm(n.type.render,!1),n;case 1:return n=Cm(n.type,!0),n;default:return""}}function Iv(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ya:return"Fragment";case Xa:return"Portal";case Tv:return"Profiler";case K1:return"StrictMode";case Pv:return"Suspense";case Ov:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case m4:return(n.displayName||"Context")+".Consumer";case g4:return(n._context.displayName||"Context")+".Provider";case G1:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V1:return e=n.displayName||null,e!==null?e:Iv(n.type)||"Memo";case vs:e=n._payload,n=n._init;try{return Iv(n(e))}catch{}}return null}function V5(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iv(e);case 8:return e===K1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function js(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function y4(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function z5(n){var e=y4(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Nh(n){n._valueTracker||(n._valueTracker=z5(n))}function b4(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=y4(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Ld(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Uv(n,e){var t=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function aC(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=js(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function w4(n,e){e=e.checked,e!=null&&j1(n,"checked",e,!1)}function kv(n,e){w4(n,e);var t=js(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Dv(n,e.type,t):e.hasOwnProperty("defaultValue")&&Dv(n,e.type,js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function AC(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Dv(n,e,t){(e!=="number"||Ld(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Hl=Array.isArray;function cA(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+js(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Qv(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function lC(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(z(92));if(Hl(t)){if(1<t.length)throw Error(z(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:js(t)}}function C4(n,e){var t=js(e.value),r=js(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function cC(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function B4(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mv(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?B4(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Rh,x4=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Rh=Rh||document.createElement("div"),Rh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rh.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function _c(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W5=["Webkit","ms","Moz","O"];Object.keys(nc).forEach(function(n){W5.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),nc[e]=nc[n]})});function _4(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||nc.hasOwnProperty(n)&&nc[n]?(""+e).trim():e+"px"}function S4(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=_4(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var X5=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lv(n,e){if(e){if(X5[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Nv(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rv=null;function z1(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hv=null,hA=null,uA=null;function hC(n){if(n=ah(n)){if(typeof Hv!="function")throw Error(z(280));var e=n.stateNode;e&&(e=ag(e),Hv(n.stateNode,n.type,e))}}function E4(n){hA?uA?uA.push(n):uA=[n]:hA=n}function F4(){if(hA){var n=hA,e=uA;if(uA=hA=null,hC(n),e)for(n=0;n<e.length;n++)hC(e[n])}}function T4(n,e){return n(e)}function P4(){}var Bm=!1;function O4(n,e,t){if(Bm)return n(e,t);Bm=!0;try{return T4(n,e,t)}finally{Bm=!1,(hA!==null||uA!==null)&&(P4(),F4())}}function Sc(n,e){var t=n.stateNode;if(t===null)return null;var r=ag(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(z(231,e,typeof t));return t}var $v=!1;if($i)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){$v=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{$v=!1}function Y5(n,e,t,r,i,s,o,a,A){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(l){this.onError(l)}}var rc=!1,Nd=null,Rd=!1,jv=null,J5={onError:function(n){rc=!0,Nd=n}};function Z5(n,e,t,r,i,s,o,a,A){rc=!1,Nd=null,Y5.apply(J5,arguments)}function q5(n,e,t,r,i,s,o,a,A){if(Z5.apply(this,arguments),rc){if(rc){var c=Nd;rc=!1,Nd=null}else throw Error(z(198));Rd||(Rd=!0,jv=c)}}function aa(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function I4(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function uC(n){if(aa(n)!==n)throw Error(z(188))}function eI(n){var e=n.alternate;if(!e){if(e=aa(n),e===null)throw Error(z(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return uC(i),n;if(s===r)return uC(i),e;s=s.sibling}throw Error(z(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(t.alternate!==r)throw Error(z(190))}if(t.tag!==3)throw Error(z(188));return t.stateNode.current===t?n:e}function U4(n){return n=eI(n),n!==null?k4(n):null}function k4(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=k4(n);if(e!==null)return e;n=n.sibling}return null}var D4=Zn.unstable_scheduleCallback,dC=Zn.unstable_cancelCallback,tI=Zn.unstable_shouldYield,nI=Zn.unstable_requestPaint,St=Zn.unstable_now,rI=Zn.unstable_getCurrentPriorityLevel,W1=Zn.unstable_ImmediatePriority,Q4=Zn.unstable_UserBlockingPriority,Hd=Zn.unstable_NormalPriority,iI=Zn.unstable_LowPriority,M4=Zn.unstable_IdlePriority,rg=null,oi=null;function sI(n){if(oi&&typeof oi.onCommitFiberRoot=="function")try{oi.onCommitFiberRoot(rg,n,void 0,(n.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:AI,oI=Math.log,aI=Math.LN2;function AI(n){return n>>>=0,n===0?32:31-(oI(n)/aI|0)|0}var Hh=64,$h=4194304;function $l(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function $d(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=$l(a):(s&=o,s!==0&&(r=$l(s)))}else o=t&~i,o!==0?r=$l(o):s!==0&&(r=$l(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Hr(e),i=1<<t,r|=n[t],e&=~i;return r}function lI(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cI(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Hr(s),a=1<<o,A=i[o];A===-1?(!(a&t)||a&r)&&(i[o]=lI(a,e)):A<=e&&(n.expiredLanes|=a),s&=~a}}function Kv(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function L4(){var n=Hh;return Hh<<=1,!(Hh&4194240)&&(Hh=64),n}function xm(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function sh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Hr(e),n[e]=t}function hI(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Hr(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function X1(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Hr(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Le=0;function N4(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var R4,Y1,H4,$4,j4,Gv=!1,jh=[],Ps=null,Os=null,Is=null,Ec=new Map,Fc=new Map,Cs=[],uI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fC(n,e){switch(n){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Ec.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(e.pointerId)}}function dl(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ah(e),e!==null&&Y1(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function dI(n,e,t,r,i){switch(e){case"focusin":return Ps=dl(Ps,n,e,t,r,i),!0;case"dragenter":return Os=dl(Os,n,e,t,r,i),!0;case"mouseover":return Is=dl(Is,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Ec.set(s,dl(Ec.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fc.set(s,dl(Fc.get(s)||null,n,e,t,r,i)),!0}return!1}function K4(n){var e=Oo(n.target);if(e!==null){var t=aa(e);if(t!==null){if(e=t.tag,e===13){if(e=I4(t),e!==null){n.blockedOn=e,j4(n.priority,function(){H4(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ad(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Vv(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Rv=r,t.target.dispatchEvent(r),Rv=null}else return e=ah(t),e!==null&&Y1(e),n.blockedOn=t,!1;e.shift()}return!0}function pC(n,e,t){ad(n)&&t.delete(e)}function fI(){Gv=!1,Ps!==null&&ad(Ps)&&(Ps=null),Os!==null&&ad(Os)&&(Os=null),Is!==null&&ad(Is)&&(Is=null),Ec.forEach(pC),Fc.forEach(pC)}function fl(n,e){n.blockedOn===e&&(n.blockedOn=null,Gv||(Gv=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,fI)))}function Tc(n){function e(i){return fl(i,n)}if(0<jh.length){fl(jh[0],n);for(var t=1;t<jh.length;t++){var r=jh[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Ps!==null&&fl(Ps,n),Os!==null&&fl(Os,n),Is!==null&&fl(Is,n),Ec.forEach(e),Fc.forEach(e),t=0;t<Cs.length;t++)r=Cs[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Cs.length&&(t=Cs[0],t.blockedOn===null);)K4(t),t.blockedOn===null&&Cs.shift()}var dA=Xi.ReactCurrentBatchConfig,jd=!0;function pI(n,e,t,r){var i=Le,s=dA.transition;dA.transition=null;try{Le=1,J1(n,e,t,r)}finally{Le=i,dA.transition=s}}function gI(n,e,t,r){var i=Le,s=dA.transition;dA.transition=null;try{Le=4,J1(n,e,t,r)}finally{Le=i,dA.transition=s}}function J1(n,e,t,r){if(jd){var i=Vv(n,e,t,r);if(i===null)km(n,e,r,Kd,t),fC(n,r);else if(dI(i,n,e,t,r))r.stopPropagation();else if(fC(n,r),e&4&&-1<uI.indexOf(n)){for(;i!==null;){var s=ah(i);if(s!==null&&R4(s),s=Vv(n,e,t,r),s===null&&km(n,e,r,Kd,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else km(n,e,r,null,t)}}var Kd=null;function Vv(n,e,t,r){if(Kd=null,n=z1(r),n=Oo(n),n!==null)if(e=aa(n),e===null)n=null;else if(t=e.tag,t===13){if(n=I4(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Kd=n,null}function G4(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rI()){case W1:return 1;case Q4:return 4;case Hd:case iI:return 16;case M4:return 536870912;default:return 16}default:return 16}}var xs=null,Z1=null,Ad=null;function V4(){if(Ad)return Ad;var n,e=Z1,t=e.length,r,i="value"in xs?xs.value:xs.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Ad=i.slice(n,1<r?1-r:void 0)}function ld(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Kh(){return!0}function gC(){return!1}function tr(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kh:gC,this.isPropagationStopped=gC,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Kh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Kh)},persist:function(){},isPersistent:Kh}),e}var KA={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q1=tr(KA),oh=ut({},KA,{view:0,detail:0}),mI=tr(oh),_m,Sm,pl,ig=ut({},oh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eb,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pl&&(pl&&n.type==="mousemove"?(_m=n.screenX-pl.screenX,Sm=n.screenY-pl.screenY):Sm=_m=0,pl=n),_m)},movementY:function(n){return"movementY"in n?n.movementY:Sm}}),mC=tr(ig),vI=ut({},ig,{dataTransfer:0}),yI=tr(vI),bI=ut({},oh,{relatedTarget:0}),Em=tr(bI),wI=ut({},KA,{animationName:0,elapsedTime:0,pseudoElement:0}),CI=tr(wI),BI=ut({},KA,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xI=tr(BI),_I=ut({},KA,{data:0}),vC=tr(_I),SI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TI(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=FI[n])?!!e[n]:!1}function eb(){return TI}var PI=ut({},oh,{key:function(n){if(n.key){var e=SI[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=ld(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?EI[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eb,charCode:function(n){return n.type==="keypress"?ld(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ld(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),OI=tr(PI),II=ut({},ig,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yC=tr(II),UI=ut({},oh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eb}),kI=tr(UI),DI=ut({},KA,{propertyName:0,elapsedTime:0,pseudoElement:0}),QI=tr(DI),MI=ut({},ig,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),LI=tr(MI),NI=[9,13,27,32],tb=$i&&"CompositionEvent"in window,ic=null;$i&&"documentMode"in document&&(ic=document.documentMode);var RI=$i&&"TextEvent"in window&&!ic,z4=$i&&(!tb||ic&&8<ic&&11>=ic),bC=" ",wC=!1;function W4(n,e){switch(n){case"keyup":return NI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X4(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ja=!1;function HI(n,e){switch(n){case"compositionend":return X4(e);case"keypress":return e.which!==32?null:(wC=!0,bC);case"textInput":return n=e.data,n===bC&&wC?null:n;default:return null}}function $I(n,e){if(Ja)return n==="compositionend"||!tb&&W4(n,e)?(n=V4(),Ad=Z1=xs=null,Ja=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return z4&&e.locale!=="ko"?null:e.data;default:return null}}var jI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!jI[n.type]:e==="textarea"}function Y4(n,e,t,r){E4(r),e=Gd(e,"onChange"),0<e.length&&(t=new q1("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var sc=null,Pc=null;function KI(n){aE(n,0)}function sg(n){var e=eA(n);if(b4(e))return n}function GI(n,e){if(n==="change")return e}var J4=!1;if($i){var Fm;if($i){var Tm="oninput"in document;if(!Tm){var BC=document.createElement("div");BC.setAttribute("oninput","return;"),Tm=typeof BC.oninput=="function"}Fm=Tm}else Fm=!1;J4=Fm&&(!document.documentMode||9<document.documentMode)}function xC(){sc&&(sc.detachEvent("onpropertychange",Z4),Pc=sc=null)}function Z4(n){if(n.propertyName==="value"&&sg(Pc)){var e=[];Y4(e,Pc,n,z1(n)),O4(KI,e)}}function VI(n,e,t){n==="focusin"?(xC(),sc=e,Pc=t,sc.attachEvent("onpropertychange",Z4)):n==="focusout"&&xC()}function zI(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sg(Pc)}function WI(n,e){if(n==="click")return sg(e)}function XI(n,e){if(n==="input"||n==="change")return sg(e)}function YI(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Kr=typeof Object.is=="function"?Object.is:YI;function Oc(n,e){if(Kr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Fv.call(e,i)||!Kr(n[i],e[i]))return!1}return!0}function _C(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function SC(n,e){var t=_C(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=_C(t)}}function q4(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?q4(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function eE(){for(var n=window,e=Ld();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ld(n.document)}return e}function nb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function JI(n){var e=eE(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&q4(t.ownerDocument.documentElement,t)){if(r!==null&&nb(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=SC(t,s);var o=SC(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ZI=$i&&"documentMode"in document&&11>=document.documentMode,Za=null,zv=null,oc=null,Wv=!1;function EC(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Wv||Za==null||Za!==Ld(r)||(r=Za,"selectionStart"in r&&nb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oc&&Oc(oc,r)||(oc=r,r=Gd(zv,"onSelect"),0<r.length&&(e=new q1("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Za)))}function Gh(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var qa={animationend:Gh("Animation","AnimationEnd"),animationiteration:Gh("Animation","AnimationIteration"),animationstart:Gh("Animation","AnimationStart"),transitionend:Gh("Transition","TransitionEnd")},Pm={},tE={};$i&&(tE=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function og(n){if(Pm[n])return Pm[n];if(!qa[n])return n;var e=qa[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in tE)return Pm[n]=e[t];return n}var nE=og("animationend"),rE=og("animationiteration"),iE=og("animationstart"),sE=og("transitionend"),oE=new Map,FC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(n,e){oE.set(n,e),oa(e,[n])}for(var Om=0;Om<FC.length;Om++){var Im=FC[Om],qI=Im.toLowerCase(),eU=Im[0].toUpperCase()+Im.slice(1);Ws(qI,"on"+eU)}Ws(nE,"onAnimationEnd");Ws(rE,"onAnimationIteration");Ws(iE,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(sE,"onTransitionEnd");BA("onMouseEnter",["mouseout","mouseover"]);BA("onMouseLeave",["mouseout","mouseover"]);BA("onPointerEnter",["pointerout","pointerover"]);BA("onPointerLeave",["pointerout","pointerover"]);oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tU=new Set("cancel close invalid load scroll toggle".split(" ").concat(jl));function TC(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,q5(r,e,void 0,n),n.currentTarget=null}function aE(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],A=a.instance,c=a.currentTarget;if(a=a.listener,A!==s&&i.isPropagationStopped())break e;TC(i,a,c),s=A}else for(o=0;o<r.length;o++){if(a=r[o],A=a.instance,c=a.currentTarget,a=a.listener,A!==s&&i.isPropagationStopped())break e;TC(i,a,c),s=A}}}if(Rd)throw n=jv,Rd=!1,jv=null,n}function et(n,e){var t=e[qv];t===void 0&&(t=e[qv]=new Set);var r=n+"__bubble";t.has(r)||(AE(e,n,2,!1),t.add(r))}function Um(n,e,t){var r=0;e&&(r|=4),AE(t,n,r,e)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function Ic(n){if(!n[Vh]){n[Vh]=!0,p4.forEach(function(t){t!=="selectionchange"&&(tU.has(t)||Um(t,!1,n),Um(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Vh]||(e[Vh]=!0,Um("selectionchange",!1,e))}}function AE(n,e,t,r){switch(G4(e)){case 1:var i=pI;break;case 4:i=gI;break;default:i=J1}t=i.bind(null,e,t,n),i=void 0,!$v||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function km(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var A=o.tag;if((A===3||A===4)&&(A=o.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Oo(a),o===null)return;if(A=o.tag,A===5||A===6){r=s=o;continue e}a=a.parentNode}}r=r.return}O4(function(){var c=s,l=z1(t),h=[];e:{var u=oE.get(n);if(u!==void 0){var d=q1,p=n;switch(n){case"keypress":if(ld(t)===0)break e;case"keydown":case"keyup":d=OI;break;case"focusin":p="focus",d=Em;break;case"focusout":p="blur",d=Em;break;case"beforeblur":case"afterblur":d=Em;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=mC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=yI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=kI;break;case nE:case rE:case iE:d=CI;break;case sE:d=QI;break;case"scroll":d=mI;break;case"wheel":d=LI;break;case"copy":case"cut":case"paste":d=xI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=yC}var f=(e&4)!==0,v=!f&&n==="scroll",m=f?u!==null?u+"Capture":null:u;f=[];for(var y=c,w;y!==null;){w=y;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,m!==null&&(C=Sc(y,m),C!=null&&f.push(Uc(y,C,w)))),v)break;y=y.return}0<f.length&&(u=new d(u,p,null,t,l),h.push({event:u,listeners:f}))}}if(!(e&7)){e:{if(u=n==="mouseover"||n==="pointerover",d=n==="mouseout"||n==="pointerout",u&&t!==Rv&&(p=t.relatedTarget||t.fromElement)&&(Oo(p)||p[ji]))break e;if((d||u)&&(u=l.window===l?l:(u=l.ownerDocument)?u.defaultView||u.parentWindow:window,d?(p=t.relatedTarget||t.toElement,d=c,p=p?Oo(p):null,p!==null&&(v=aa(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=c),d!==p)){if(f=mC,C="onMouseLeave",m="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(f=yC,C="onPointerLeave",m="onPointerEnter",y="pointer"),v=d==null?u:eA(d),w=p==null?u:eA(p),u=new f(C,y+"leave",d,t,l),u.target=v,u.relatedTarget=w,C=null,Oo(l)===c&&(f=new f(m,y+"enter",p,t,l),f.target=w,f.relatedTarget=v,C=f),v=C,d&&p)t:{for(f=d,m=p,y=0,w=f;w;w=ma(w))y++;for(w=0,C=m;C;C=ma(C))w++;for(;0<y-w;)f=ma(f),y--;for(;0<w-y;)m=ma(m),w--;for(;y--;){if(f===m||m!==null&&f===m.alternate)break t;f=ma(f),m=ma(m)}f=null}else f=null;d!==null&&PC(h,u,d,f,!1),p!==null&&v!==null&&PC(h,v,p,f,!0)}}e:{if(u=c?eA(c):window,d=u.nodeName&&u.nodeName.toLowerCase(),d==="select"||d==="input"&&u.type==="file")var S=GI;else if(CC(u))if(J4)S=XI;else{S=zI;var x=VI}else(d=u.nodeName)&&d.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(S=WI);if(S&&(S=S(n,c))){Y4(h,S,t,l);break e}x&&x(n,u,c),n==="focusout"&&(x=u._wrapperState)&&x.controlled&&u.type==="number"&&Dv(u,"number",u.value)}switch(x=c?eA(c):window,n){case"focusin":(CC(x)||x.contentEditable==="true")&&(Za=x,zv=c,oc=null);break;case"focusout":oc=zv=Za=null;break;case"mousedown":Wv=!0;break;case"contextmenu":case"mouseup":case"dragend":Wv=!1,EC(h,t,l);break;case"selectionchange":if(ZI)break;case"keydown":case"keyup":EC(h,t,l)}var E;if(tb)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ja?W4(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(z4&&t.locale!=="ko"&&(Ja||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ja&&(E=V4()):(xs=l,Z1="value"in xs?xs.value:xs.textContent,Ja=!0)),x=Gd(c,T),0<x.length&&(T=new vC(T,n,null,t,l),h.push({event:T,listeners:x}),E?T.data=E:(E=X4(t),E!==null&&(T.data=E)))),(E=RI?HI(n,t):$I(n,t))&&(c=Gd(c,"onBeforeInput"),0<c.length&&(l=new vC("onBeforeInput","beforeinput",null,t,l),h.push({event:l,listeners:c}),l.data=E))}aE(h,e)})}function Uc(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Gd(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sc(n,t),s!=null&&r.unshift(Uc(n,s,i)),s=Sc(n,e),s!=null&&r.push(Uc(n,s,i))),n=n.return}return r}function ma(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function PC(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,A=a.alternate,c=a.stateNode;if(A!==null&&A===r)break;a.tag===5&&c!==null&&(a=c,i?(A=Sc(t,s),A!=null&&o.unshift(Uc(t,A,a))):i||(A=Sc(t,s),A!=null&&o.push(Uc(t,A,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var nU=/\r\n?/g,rU=/\u0000|\uFFFD/g;function OC(n){return(typeof n=="string"?n:""+n).replace(nU,`
`).replace(rU,"")}function zh(n,e,t){if(e=OC(e),OC(n)!==e&&t)throw Error(z(425))}function Vd(){}var Xv=null,Yv=null;function Jv(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zv=typeof setTimeout=="function"?setTimeout:void 0,iU=typeof clearTimeout=="function"?clearTimeout:void 0,IC=typeof Promise=="function"?Promise:void 0,sU=typeof queueMicrotask=="function"?queueMicrotask:typeof IC<"u"?function(n){return IC.resolve(null).then(n).catch(oU)}:Zv;function oU(n){setTimeout(function(){throw n})}function Dm(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Tc(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Tc(e)}function Us(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function UC(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var GA=Math.random().toString(36).slice(2),ri="__reactFiber$"+GA,kc="__reactProps$"+GA,ji="__reactContainer$"+GA,qv="__reactEvents$"+GA,aU="__reactListeners$"+GA,AU="__reactHandles$"+GA;function Oo(n){var e=n[ri];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ji]||t[ri]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=UC(n);n!==null;){if(t=n[ri])return t;n=UC(n)}return e}n=t,t=n.parentNode}return null}function ah(n){return n=n[ri]||n[ji],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function eA(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(z(33))}function ag(n){return n[kc]||null}var ey=[],tA=-1;function Xs(n){return{current:n}}function it(n){0>tA||(n.current=ey[tA],ey[tA]=null,tA--)}function qe(n,e){tA++,ey[tA]=n.current,n.current=e}var Ks={},fn=Xs(Ks),Mn=Xs(!1),zo=Ks;function xA(n,e){var t=n.type.contextTypes;if(!t)return Ks;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(n){return n=n.childContextTypes,n!=null}function zd(){it(Mn),it(fn)}function kC(n,e,t){if(fn.current!==Ks)throw Error(z(168));qe(fn,e),qe(Mn,t)}function lE(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,V5(n)||"Unknown",i));return ut({},t,r)}function Wd(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ks,zo=fn.current,qe(fn,n),qe(Mn,Mn.current),!0}function DC(n,e,t){var r=n.stateNode;if(!r)throw Error(z(169));t?(n=lE(n,e,zo),r.__reactInternalMemoizedMergedChildContext=n,it(Mn),it(fn),qe(fn,n)):it(Mn),qe(Mn,t)}var Oi=null,Ag=!1,Qm=!1;function cE(n){Oi===null?Oi=[n]:Oi.push(n)}function lU(n){Ag=!0,cE(n)}function Ys(){if(!Qm&&Oi!==null){Qm=!0;var n=0,e=Le;try{var t=Oi;for(Le=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Oi=null,Ag=!1}catch(i){throw Oi!==null&&(Oi=Oi.slice(n+1)),D4(W1,Ys),i}finally{Le=e,Qm=!1}}return null}var nA=[],rA=0,Xd=null,Yd=0,ar=[],Ar=0,Wo=null,Ii=1,Ui="";function Co(n,e){nA[rA++]=Yd,nA[rA++]=Xd,Xd=n,Yd=e}function hE(n,e,t){ar[Ar++]=Ii,ar[Ar++]=Ui,ar[Ar++]=Wo,Wo=n;var r=Ii;n=Ui;var i=32-Hr(r)-1;r&=~(1<<i),t+=1;var s=32-Hr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ii=1<<32-Hr(e)+i|t<<i|r,Ui=s+n}else Ii=1<<s|t<<i|r,Ui=n}function rb(n){n.return!==null&&(Co(n,1),hE(n,1,0))}function ib(n){for(;n===Xd;)Xd=nA[--rA],nA[rA]=null,Yd=nA[--rA],nA[rA]=null;for(;n===Wo;)Wo=ar[--Ar],ar[Ar]=null,Ui=ar[--Ar],ar[Ar]=null,Ii=ar[--Ar],ar[Ar]=null}var Xn=null,zn=null,ot=!1,Ur=null;function uE(n,e){var t=cr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function QC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Xn=n,zn=Us(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Xn=n,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Wo!==null?{id:Ii,overflow:Ui}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=cr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Xn=n,zn=null,!0):!1;default:return!1}}function ty(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ny(n){if(ot){var e=zn;if(e){var t=e;if(!QC(n,e)){if(ty(n))throw Error(z(418));e=Us(t.nextSibling);var r=Xn;e&&QC(n,e)?uE(r,t):(n.flags=n.flags&-4097|2,ot=!1,Xn=n)}}else{if(ty(n))throw Error(z(418));n.flags=n.flags&-4097|2,ot=!1,Xn=n}}}function MC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Xn=n}function Wh(n){if(n!==Xn)return!1;if(!ot)return MC(n),ot=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Jv(n.type,n.memoizedProps)),e&&(e=zn)){if(ty(n))throw dE(),Error(z(418));for(;e;)uE(n,e),e=Us(e.nextSibling)}if(MC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){zn=Us(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}zn=null}}else zn=Xn?Us(n.stateNode.nextSibling):null;return!0}function dE(){for(var n=zn;n;)n=Us(n.nextSibling)}function _A(){zn=Xn=null,ot=!1}function sb(n){Ur===null?Ur=[n]:Ur.push(n)}var cU=Xi.ReactCurrentBatchConfig;function gl(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(z(309));var r=t.stateNode}if(!r)throw Error(z(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(z(284));if(!t._owner)throw Error(z(290,n))}return n}function Xh(n,e){throw n=Object.prototype.toString.call(e),Error(z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function LC(n){var e=n._init;return e(n._payload)}function fE(n){function e(m,y){if(n){var w=m.deletions;w===null?(m.deletions=[y],m.flags|=16):w.push(y)}}function t(m,y){if(!n)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Ms(m,y),m.index=0,m.sibling=null,m}function s(m,y,w){return m.index=w,n?(w=m.alternate,w!==null?(w=w.index,w<y?(m.flags|=2,y):w):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,y,w,C){return y===null||y.tag!==6?(y=jm(w,m.mode,C),y.return=m,y):(y=i(y,w),y.return=m,y)}function A(m,y,w,C){var S=w.type;return S===Ya?l(m,y,w.props.children,C,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vs&&LC(S)===y.type)?(C=i(y,w.props),C.ref=gl(m,y,w),C.return=m,C):(C=gd(w.type,w.key,w.props,null,m.mode,C),C.ref=gl(m,y,w),C.return=m,C)}function c(m,y,w,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Km(w,m.mode,C),y.return=m,y):(y=i(y,w.children||[]),y.return=m,y)}function l(m,y,w,C,S){return y===null||y.tag!==7?(y=No(w,m.mode,C,S),y.return=m,y):(y=i(y,w),y.return=m,y)}function h(m,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jm(""+y,m.mode,w),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Lh:return w=gd(y.type,y.key,y.props,null,m.mode,w),w.ref=gl(m,null,y),w.return=m,w;case Xa:return y=Km(y,m.mode,w),y.return=m,y;case vs:var C=y._init;return h(m,C(y._payload),w)}if(Hl(y)||hl(y))return y=No(y,m.mode,w,null),y.return=m,y;Xh(m,y)}return null}function u(m,y,w,C){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(m,y,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Lh:return w.key===S?A(m,y,w,C):null;case Xa:return w.key===S?c(m,y,w,C):null;case vs:return S=w._init,u(m,y,S(w._payload),C)}if(Hl(w)||hl(w))return S!==null?null:l(m,y,w,C,null);Xh(m,w)}return null}function d(m,y,w,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(w)||null,a(y,m,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Lh:return m=m.get(C.key===null?w:C.key)||null,A(y,m,C,S);case Xa:return m=m.get(C.key===null?w:C.key)||null,c(y,m,C,S);case vs:var x=C._init;return d(m,y,w,x(C._payload),S)}if(Hl(C)||hl(C))return m=m.get(w)||null,l(y,m,C,S,null);Xh(y,C)}return null}function p(m,y,w,C){for(var S=null,x=null,E=y,T=y=0,P=null;E!==null&&T<w.length;T++){E.index>T?(P=E,E=null):P=E.sibling;var F=u(m,E,w[T],C);if(F===null){E===null&&(E=P);break}n&&E&&F.alternate===null&&e(m,E),y=s(F,y,T),x===null?S=F:x.sibling=F,x=F,E=P}if(T===w.length)return t(m,E),ot&&Co(m,T),S;if(E===null){for(;T<w.length;T++)E=h(m,w[T],C),E!==null&&(y=s(E,y,T),x===null?S=E:x.sibling=E,x=E);return ot&&Co(m,T),S}for(E=r(m,E);T<w.length;T++)P=d(E,m,T,w[T],C),P!==null&&(n&&P.alternate!==null&&E.delete(P.key===null?T:P.key),y=s(P,y,T),x===null?S=P:x.sibling=P,x=P);return n&&E.forEach(function(U){return e(m,U)}),ot&&Co(m,T),S}function f(m,y,w,C){var S=hl(w);if(typeof S!="function")throw Error(z(150));if(w=S.call(w),w==null)throw Error(z(151));for(var x=S=null,E=y,T=y=0,P=null,F=w.next();E!==null&&!F.done;T++,F=w.next()){E.index>T?(P=E,E=null):P=E.sibling;var U=u(m,E,F.value,C);if(U===null){E===null&&(E=P);break}n&&E&&U.alternate===null&&e(m,E),y=s(U,y,T),x===null?S=U:x.sibling=U,x=U,E=P}if(F.done)return t(m,E),ot&&Co(m,T),S;if(E===null){for(;!F.done;T++,F=w.next())F=h(m,F.value,C),F!==null&&(y=s(F,y,T),x===null?S=F:x.sibling=F,x=F);return ot&&Co(m,T),S}for(E=r(m,E);!F.done;T++,F=w.next())F=d(E,m,T,F.value,C),F!==null&&(n&&F.alternate!==null&&E.delete(F.key===null?T:F.key),y=s(F,y,T),x===null?S=F:x.sibling=F,x=F);return n&&E.forEach(function(I){return e(m,I)}),ot&&Co(m,T),S}function v(m,y,w,C){if(typeof w=="object"&&w!==null&&w.type===Ya&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Lh:e:{for(var S=w.key,x=y;x!==null;){if(x.key===S){if(S=w.type,S===Ya){if(x.tag===7){t(m,x.sibling),y=i(x,w.props.children),y.return=m,m=y;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vs&&LC(S)===x.type){t(m,x.sibling),y=i(x,w.props),y.ref=gl(m,x,w),y.return=m,m=y;break e}t(m,x);break}else e(m,x);x=x.sibling}w.type===Ya?(y=No(w.props.children,m.mode,C,w.key),y.return=m,m=y):(C=gd(w.type,w.key,w.props,null,m.mode,C),C.ref=gl(m,y,w),C.return=m,m=C)}return o(m);case Xa:e:{for(x=w.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){t(m,y.sibling),y=i(y,w.children||[]),y.return=m,m=y;break e}else{t(m,y);break}else e(m,y);y=y.sibling}y=Km(w,m.mode,C),y.return=m,m=y}return o(m);case vs:return x=w._init,v(m,y,x(w._payload),C)}if(Hl(w))return p(m,y,w,C);if(hl(w))return f(m,y,w,C);Xh(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(t(m,y.sibling),y=i(y,w),y.return=m,m=y):(t(m,y),y=jm(w,m.mode,C),y.return=m,m=y),o(m)):t(m,y)}return v}var SA=fE(!0),pE=fE(!1),Jd=Xs(null),Zd=null,iA=null,ob=null;function ab(){ob=iA=Zd=null}function Ab(n){var e=Jd.current;it(Jd),n._currentValue=e}function ry(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function fA(n,e){Zd=n,ob=iA=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Qn=!0),n.firstContext=null)}function fr(n){var e=n._currentValue;if(ob!==n)if(n={context:n,memoizedValue:e,next:null},iA===null){if(Zd===null)throw Error(z(308));iA=n,Zd.dependencies={lanes:0,firstContext:n}}else iA=iA.next=n;return e}var Io=null;function lb(n){Io===null?Io=[n]:Io.push(n)}function gE(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,lb(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ki(n,r)}function Ki(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ys=!1;function cb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mE(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Mi(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ks(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ki(n,t)}return i=r.interleaved,i===null?(e.next=e,lb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ki(n,t)}function cd(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,X1(n,t)}}function NC(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function qd(n,e,t,r){var i=n.updateQueue;ys=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var A=a,c=A.next;A.next=null,o===null?s=c:o.next=c,o=A;var l=n.alternate;l!==null&&(l=l.updateQueue,a=l.lastBaseUpdate,a!==o&&(a===null?l.firstBaseUpdate=c:a.next=c,l.lastBaseUpdate=A))}if(s!==null){var h=i.baseState;o=0,l=c=A=null,a=s;do{var u=a.lane,d=a.eventTime;if((r&u)===u){l!==null&&(l=l.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=n,f=a;switch(u=e,d=t,f.tag){case 1:if(p=f.payload,typeof p=="function"){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=f.payload,u=typeof p=="function"?p.call(d,h,u):p,u==null)break e;h=ut({},h,u);break e;case 2:ys=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,u=i.effects,u===null?i.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},l===null?(c=l=d,A=h):l=l.next=d,o|=u;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;u=a,a=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(!0);if(l===null&&(A=h),i.baseState=A,i.firstBaseUpdate=c,i.lastBaseUpdate=l,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Yo|=o,n.lanes=o,n.memoizedState=h}}function RC(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Ah={},ai=Xs(Ah),Dc=Xs(Ah),Qc=Xs(Ah);function Uo(n){if(n===Ah)throw Error(z(174));return n}function hb(n,e){switch(qe(Qc,e),qe(Dc,n),qe(ai,Ah),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mv(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Mv(e,n)}it(ai),qe(ai,e)}function EA(){it(ai),it(Dc),it(Qc)}function vE(n){Uo(Qc.current);var e=Uo(ai.current),t=Mv(e,n.type);e!==t&&(qe(Dc,n),qe(ai,t))}function ub(n){Dc.current===n&&(it(ai),it(Dc))}var ct=Xs(0);function ef(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mm=[];function db(){for(var n=0;n<Mm.length;n++)Mm[n]._workInProgressVersionPrimary=null;Mm.length=0}var hd=Xi.ReactCurrentDispatcher,Lm=Xi.ReactCurrentBatchConfig,Xo=0,ht=null,Qt=null,Kt=null,tf=!1,ac=!1,Mc=0,hU=0;function tn(){throw Error(z(321))}function fb(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Kr(n[t],e[t]))return!1;return!0}function pb(n,e,t,r,i,s){if(Xo=s,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hd.current=n===null||n.memoizedState===null?pU:gU,n=t(r,i),ac){s=0;do{if(ac=!1,Mc=0,25<=s)throw Error(z(301));s+=1,Kt=Qt=null,e.updateQueue=null,hd.current=mU,n=t(r,i)}while(ac)}if(hd.current=nf,e=Qt!==null&&Qt.next!==null,Xo=0,Kt=Qt=ht=null,tf=!1,e)throw Error(z(300));return n}function gb(){var n=Mc!==0;return Mc=0,n}function ti(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?ht.memoizedState=Kt=n:Kt=Kt.next=n,Kt}function pr(){if(Qt===null){var n=ht.alternate;n=n!==null?n.memoizedState:null}else n=Qt.next;var e=Kt===null?ht.memoizedState:Kt.next;if(e!==null)Kt=e,Qt=n;else{if(n===null)throw Error(z(310));Qt=n,n={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Kt===null?ht.memoizedState=Kt=n:Kt=Kt.next=n}return Kt}function Lc(n,e){return typeof e=="function"?e(n):e}function Nm(n){var e=pr(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var r=Qt,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,A=null,c=s;do{var l=c.lane;if((Xo&l)===l)A!==null&&(A=A.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:l,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};A===null?(a=A=h,o=r):A=A.next=h,ht.lanes|=l,Yo|=l}c=c.next}while(c!==null&&c!==s);A===null?o=r:A.next=a,Kr(r,e.memoizedState)||(Qn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=A,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,ht.lanes|=s,Yo|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Rm(n){var e=pr(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Kr(s,e.memoizedState)||(Qn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function yE(){}function bE(n,e){var t=ht,r=pr(),i=e(),s=!Kr(r.memoizedState,i);if(s&&(r.memoizedState=i,Qn=!0),r=r.queue,mb(BE.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Kt!==null&&Kt.memoizedState.tag&1){if(t.flags|=2048,Nc(9,CE.bind(null,t,r,i,e),void 0,null),zt===null)throw Error(z(349));Xo&30||wE(t,e,i)}return i}function wE(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function CE(n,e,t,r){e.value=t,e.getSnapshot=r,xE(e)&&_E(n)}function BE(n,e,t){return t(function(){xE(e)&&_E(n)})}function xE(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Kr(n,t)}catch{return!0}}function _E(n){var e=Ki(n,1);e!==null&&$r(e,n,1,-1)}function HC(n){var e=ti();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:n},e.queue=n,n=n.dispatch=fU.bind(null,ht,n),[e.memoizedState,n]}function Nc(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function SE(){return pr().memoizedState}function ud(n,e,t,r){var i=ti();ht.flags|=n,i.memoizedState=Nc(1|e,t,void 0,r===void 0?null:r)}function lg(n,e,t,r){var i=pr();r=r===void 0?null:r;var s=void 0;if(Qt!==null){var o=Qt.memoizedState;if(s=o.destroy,r!==null&&fb(r,o.deps)){i.memoizedState=Nc(e,t,s,r);return}}ht.flags|=n,i.memoizedState=Nc(1|e,t,s,r)}function $C(n,e){return ud(8390656,8,n,e)}function mb(n,e){return lg(2048,8,n,e)}function EE(n,e){return lg(4,2,n,e)}function FE(n,e){return lg(4,4,n,e)}function TE(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function PE(n,e,t){return t=t!=null?t.concat([n]):null,lg(4,4,TE.bind(null,e,n),t)}function vb(){}function OE(n,e){var t=pr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&fb(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function IE(n,e){var t=pr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&fb(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function UE(n,e,t){return Xo&21?(Kr(t,e)||(t=L4(),ht.lanes|=t,Yo|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Qn=!0),n.memoizedState=t)}function uU(n,e){var t=Le;Le=t!==0&&4>t?t:4,n(!0);var r=Lm.transition;Lm.transition={};try{n(!1),e()}finally{Le=t,Lm.transition=r}}function kE(){return pr().memoizedState}function dU(n,e,t){var r=Qs(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},DE(n))QE(e,t);else if(t=gE(n,e,t,r),t!==null){var i=_n();$r(t,n,r,i),ME(t,e,r)}}function fU(n,e,t){var r=Qs(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(DE(n))QE(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Kr(a,o)){var A=e.interleaved;A===null?(i.next=i,lb(e)):(i.next=A.next,A.next=i),e.interleaved=i;return}}catch{}finally{}t=gE(n,e,i,r),t!==null&&(i=_n(),$r(t,n,r,i),ME(t,e,r))}}function DE(n){var e=n.alternate;return n===ht||e!==null&&e===ht}function QE(n,e){ac=tf=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function ME(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,X1(n,t)}}var nf={readContext:fr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},pU={readContext:fr,useCallback:function(n,e){return ti().memoizedState=[n,e===void 0?null:e],n},useContext:fr,useEffect:$C,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ud(4194308,4,TE.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ud(4194308,4,n,e)},useInsertionEffect:function(n,e){return ud(4,2,n,e)},useMemo:function(n,e){var t=ti();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ti();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=dU.bind(null,ht,n),[r.memoizedState,n]},useRef:function(n){var e=ti();return n={current:n},e.memoizedState=n},useState:HC,useDebugValue:vb,useDeferredValue:function(n){return ti().memoizedState=n},useTransition:function(){var n=HC(!1),e=n[0];return n=uU.bind(null,n[1]),ti().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=ht,i=ti();if(ot){if(t===void 0)throw Error(z(407));t=t()}else{if(t=e(),zt===null)throw Error(z(349));Xo&30||wE(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,$C(BE.bind(null,r,s,n),[n]),r.flags|=2048,Nc(9,CE.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ti(),e=zt.identifierPrefix;if(ot){var t=Ui,r=Ii;t=(r&~(1<<32-Hr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Mc++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=hU++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},gU={readContext:fr,useCallback:OE,useContext:fr,useEffect:mb,useImperativeHandle:PE,useInsertionEffect:EE,useLayoutEffect:FE,useMemo:IE,useReducer:Nm,useRef:SE,useState:function(){return Nm(Lc)},useDebugValue:vb,useDeferredValue:function(n){var e=pr();return UE(e,Qt.memoizedState,n)},useTransition:function(){var n=Nm(Lc)[0],e=pr().memoizedState;return[n,e]},useMutableSource:yE,useSyncExternalStore:bE,useId:kE,unstable_isNewReconciler:!1},mU={readContext:fr,useCallback:OE,useContext:fr,useEffect:mb,useImperativeHandle:PE,useInsertionEffect:EE,useLayoutEffect:FE,useMemo:IE,useReducer:Rm,useRef:SE,useState:function(){return Rm(Lc)},useDebugValue:vb,useDeferredValue:function(n){var e=pr();return Qt===null?e.memoizedState=n:UE(e,Qt.memoizedState,n)},useTransition:function(){var n=Rm(Lc)[0],e=pr().memoizedState;return[n,e]},useMutableSource:yE,useSyncExternalStore:bE,useId:kE,unstable_isNewReconciler:!1};function Pr(n,e){if(n&&n.defaultProps){e=ut({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function iy(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ut({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var cg={isMounted:function(n){return(n=n._reactInternals)?aa(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=_n(),i=Qs(n),s=Mi(r,i);s.payload=e,t!=null&&(s.callback=t),e=ks(n,s,i),e!==null&&($r(e,n,i,r),cd(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=_n(),i=Qs(n),s=Mi(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ks(n,s,i),e!==null&&($r(e,n,i,r),cd(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=_n(),r=Qs(n),i=Mi(t,r);i.tag=2,e!=null&&(i.callback=e),e=ks(n,i,r),e!==null&&($r(e,n,r,t),cd(e,n,r))}};function jC(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Oc(t,r)||!Oc(i,s):!0}function LE(n,e,t){var r=!1,i=Ks,s=e.contextType;return typeof s=="object"&&s!==null?s=fr(s):(i=Ln(e)?zo:fn.current,r=e.contextTypes,s=(r=r!=null)?xA(n,i):Ks),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cg,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function KC(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&cg.enqueueReplaceState(e,e.state,null)}function sy(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},cb(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fr(s):(s=Ln(e)?zo:fn.current,i.context=xA(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(iy(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cg.enqueueReplaceState(i,i.state,null),qd(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function FA(n,e){try{var t="",r=e;do t+=G5(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Hm(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function oy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var vU=typeof WeakMap=="function"?WeakMap:Map;function NE(n,e,t){t=Mi(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){sf||(sf=!0,gy=r),oy(n,e)},t}function RE(n,e,t){t=Mi(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){oy(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){oy(n,e),typeof r!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function GC(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new vU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=IU.bind(null,n,e,t),e.then(n,n))}function VC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function zC(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Mi(-1,1),e.tag=2,ks(t,e,1))),t.lanes|=1),n)}var yU=Xi.ReactCurrentOwner,Qn=!1;function wn(n,e,t,r){e.child=n===null?pE(e,null,t,r):SA(e,n.child,t,r)}function WC(n,e,t,r,i){t=t.render;var s=e.ref;return fA(e,i),r=pb(n,e,t,r,s,i),t=gb(),n!==null&&!Qn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Gi(n,e,i)):(ot&&t&&rb(e),e.flags|=1,wn(n,e,r,i),e.child)}function XC(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!Sb(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,HE(n,e,s,r,i)):(n=gd(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Oc,t(o,r)&&n.ref===e.ref)return Gi(n,e,i)}return e.flags|=1,n=Ms(s,r),n.ref=e.ref,n.return=e,e.child=n}function HE(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Oc(s,r)&&n.ref===e.ref)if(Qn=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Qn=!0);else return e.lanes=n.lanes,Gi(n,e,i)}return ay(n,e,t,r,i)}function $E(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(oA,jn),jn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,qe(oA,jn),jn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,qe(oA,jn),jn|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,qe(oA,jn),jn|=r;return wn(n,e,i,t),e.child}function jE(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function ay(n,e,t,r,i){var s=Ln(t)?zo:fn.current;return s=xA(e,s),fA(e,i),t=pb(n,e,t,r,s,i),r=gb(),n!==null&&!Qn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Gi(n,e,i)):(ot&&r&&rb(e),e.flags|=1,wn(n,e,t,i),e.child)}function YC(n,e,t,r,i){if(Ln(t)){var s=!0;Wd(e)}else s=!1;if(fA(e,i),e.stateNode===null)dd(n,e),LE(e,t,r),sy(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var A=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=fr(c):(c=Ln(t)?zo:fn.current,c=xA(e,c));var l=t.getDerivedStateFromProps,h=typeof l=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||A!==c)&&KC(e,o,r,c),ys=!1;var u=e.memoizedState;o.state=u,qd(e,r,o,i),A=e.memoizedState,a!==r||u!==A||Mn.current||ys?(typeof l=="function"&&(iy(e,t,l,r),A=e.memoizedState),(a=ys||jC(e,t,a,r,u,A,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,mE(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Pr(e.type,a),o.props=c,h=e.pendingProps,u=o.context,A=t.contextType,typeof A=="object"&&A!==null?A=fr(A):(A=Ln(t)?zo:fn.current,A=xA(e,A));var d=t.getDerivedStateFromProps;(l=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||u!==A)&&KC(e,o,r,A),ys=!1,u=e.memoizedState,o.state=u,qd(e,r,o,i);var p=e.memoizedState;a!==h||u!==p||Mn.current||ys?(typeof d=="function"&&(iy(e,t,d,r),p=e.memoizedState),(c=ys||jC(e,t,c,r,u,p,A)||!1)?(l||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,A),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,A)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&u===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&u===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=A,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&u===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&u===n.memoizedState||(e.flags|=1024),r=!1)}return Ay(n,e,t,r,s,i)}function Ay(n,e,t,r,i,s){jE(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&DC(e,t,!1),Gi(n,e,s);r=e.stateNode,yU.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=SA(e,n.child,null,s),e.child=SA(e,null,a,s)):wn(n,e,a,s),e.memoizedState=r.state,i&&DC(e,t,!0),e.child}function KE(n){var e=n.stateNode;e.pendingContext?kC(n,e.pendingContext,e.pendingContext!==e.context):e.context&&kC(n,e.context,!1),hb(n,e.containerInfo)}function JC(n,e,t,r,i){return _A(),sb(i),e.flags|=256,wn(n,e,t,r),e.child}var ly={dehydrated:null,treeContext:null,retryLane:0};function cy(n){return{baseLanes:n,cachePool:null,transitions:null}}function GE(n,e,t){var r=e.pendingProps,i=ct.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),qe(ct,i&1),n===null)return ny(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dg(o,r,0,null),n=No(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=cy(t),e.memoizedState=ly,n):yb(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bU(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var A={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=A,e.deletions=null):(r=Ms(i,A),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ms(a,s):(s=No(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?cy(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=ly,r}return s=n.child,n=s.sibling,r=Ms(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function yb(n,e){return e=dg({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Yh(n,e,t,r){return r!==null&&sb(r),SA(e,n.child,null,t),n=yb(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function bU(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Hm(Error(z(422))),Yh(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=dg({mode:"visible",children:r.children},i,0,null),s=No(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&SA(e,n.child,null,o),e.child.memoizedState=cy(o),e.memoizedState=ly,s);if(!(e.mode&1))return Yh(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=Hm(s,r,void 0),Yh(n,e,o,r)}if(a=(o&n.childLanes)!==0,Qn||a){if(r=zt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ki(n,i),$r(r,n,i,-1))}return _b(),r=Hm(Error(z(421))),Yh(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=UU.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,zn=Us(i.nextSibling),Xn=e,ot=!0,Ur=null,n!==null&&(ar[Ar++]=Ii,ar[Ar++]=Ui,ar[Ar++]=Wo,Ii=n.id,Ui=n.overflow,Wo=e),e=yb(e,r.children),e.flags|=4096,e)}function ZC(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),ry(n.return,e,t)}function $m(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function VE(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wn(n,e,r.children,t),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ZC(n,t,e);else if(n.tag===19)ZC(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(qe(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&ef(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),$m(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&ef(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}$m(e,!0,t,null,s);break;case"together":$m(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dd(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Gi(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Yo|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(z(153));if(e.child!==null){for(n=e.child,t=Ms(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ms(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function wU(n,e,t){switch(e.tag){case 3:KE(e),_A();break;case 5:vE(e);break;case 1:Ln(e.type)&&Wd(e);break;case 4:hb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(Jd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(ct,ct.current&1),e.flags|=128,null):t&e.child.childLanes?GE(n,e,t):(qe(ct,ct.current&1),n=Gi(n,e,t),n!==null?n.sibling:null);qe(ct,ct.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return VE(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,$E(n,e,t)}return Gi(n,e,t)}var zE,hy,WE,XE;zE=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};hy=function(){};WE=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Uo(ai.current);var s=null;switch(t){case"input":i=Uv(n,i),r=Uv(n,r),s=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),s=[];break;case"textarea":i=Qv(n,i),r=Qv(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Vd)}Lv(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var A=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&A!==a&&(A!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||A&&A.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in A)A.hasOwnProperty(o)&&a[o]!==A[o]&&(t||(t={}),t[o]=A[o])}else t||(s||(s=[]),s.push(c,t)),t=A;else c==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,a=a?a.__html:void 0,A!=null&&a!==A&&(s=s||[]).push(c,A)):c==="children"?typeof A!="string"&&typeof A!="number"||(s=s||[]).push(c,""+A):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xc.hasOwnProperty(c)?(A!=null&&c==="onScroll"&&et("scroll",n),s||a===A||(s=[])):(s=s||[]).push(c,A))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};XE=function(n,e,t,r){t!==r&&(e.flags|=4)};function ml(n,e){if(!ot)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function nn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function CU(n,e,t){var r=e.pendingProps;switch(ib(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return Ln(e.type)&&zd(),nn(e),null;case 3:return r=e.stateNode,EA(),it(Mn),it(fn),db(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Wh(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ur!==null&&(yy(Ur),Ur=null))),hy(n,e),nn(e),null;case 5:ub(e);var i=Uo(Qc.current);if(t=e.type,n!==null&&e.stateNode!=null)WE(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return nn(e),null}if(n=Uo(ai.current),Wh(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[ri]=e,r[kc]=s,n=(e.mode&1)!==0,t){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<jl.length;i++)et(jl[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":aC(r,s),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},et("invalid",r);break;case"textarea":lC(r,s),et("invalid",r)}Lv(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&zh(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zh(r.textContent,a,n),i=["children",""+a]):xc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&et("scroll",r)}switch(t){case"input":Nh(r),AC(r,s,!0);break;case"textarea":Nh(r),cC(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=B4(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[ri]=e,n[kc]=r,zE(n,e,!1,!1),e.stateNode=n;e:{switch(o=Nv(t,r),t){case"dialog":et("cancel",n),et("close",n),i=r;break;case"iframe":case"object":case"embed":et("load",n),i=r;break;case"video":case"audio":for(i=0;i<jl.length;i++)et(jl[i],n);i=r;break;case"source":et("error",n),i=r;break;case"img":case"image":case"link":et("error",n),et("load",n),i=r;break;case"details":et("toggle",n),i=r;break;case"input":aC(n,r),i=Uv(n,r),et("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),et("invalid",n);break;case"textarea":lC(n,r),i=Qv(n,r),et("invalid",n);break;default:i=r}Lv(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var A=a[s];s==="style"?S4(n,A):s==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&x4(n,A)):s==="children"?typeof A=="string"?(t!=="textarea"||A!=="")&&_c(n,A):typeof A=="number"&&_c(n,""+A):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xc.hasOwnProperty(s)?A!=null&&s==="onScroll"&&et("scroll",n):A!=null&&j1(n,s,A,o))}switch(t){case"input":Nh(n),AC(n,r,!1);break;case"textarea":Nh(n),cC(n);break;case"option":r.value!=null&&n.setAttribute("value",""+js(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?cA(n,!!r.multiple,s,!1):r.defaultValue!=null&&cA(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Vd)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(n&&e.stateNode!=null)XE(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(t=Uo(Qc.current),Uo(ai.current),Wh(e)){if(r=e.stateNode,t=e.memoizedProps,r[ri]=e,(s=r.nodeValue!==t)&&(n=Xn,n!==null))switch(n.tag){case 3:zh(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&zh(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ri]=e,e.stateNode=r}return nn(e),null;case 13:if(it(ct),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ot&&zn!==null&&e.mode&1&&!(e.flags&128))dE(),_A(),e.flags|=98560,s=!1;else if(s=Wh(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[ri]=e}else _A(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),s=!1}else Ur!==null&&(yy(Ur),Ur=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||ct.current&1?Lt===0&&(Lt=3):_b())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return EA(),hy(n,e),n===null&&Ic(e.stateNode.containerInfo),nn(e),null;case 10:return Ab(e.type._context),nn(e),null;case 17:return Ln(e.type)&&zd(),nn(e),null;case 19:if(it(ct),s=e.memoizedState,s===null)return nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ml(s,!1);else{if(Lt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=ef(n),o!==null){for(e.flags|=128,ml(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return qe(ct,ct.current&1|2),e.child}n=n.sibling}s.tail!==null&&St()>TA&&(e.flags|=128,r=!0,ml(s,!1),e.lanes=4194304)}else{if(!r)if(n=ef(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ml(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ot)return nn(e),null}else 2*St()-s.renderingStartTime>TA&&t!==1073741824&&(e.flags|=128,r=!0,ml(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,t=ct.current,qe(ct,r?t&1|2:t&1),e):(nn(e),null);case 22:case 23:return xb(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jn&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function BU(n,e){switch(ib(e),e.tag){case 1:return Ln(e.type)&&zd(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return EA(),it(Mn),it(fn),db(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ub(e),null;case 13:if(it(ct),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(z(340));_A()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return it(ct),null;case 4:return EA(),null;case 10:return Ab(e.type._context),null;case 22:case 23:return xb(),null;case 24:return null;default:return null}}var Jh=!1,hn=!1,xU=typeof WeakSet=="function"?WeakSet:Set,te=null;function sA(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){yt(n,e,r)}else t.current=null}function uy(n,e,t){try{t()}catch(r){yt(n,e,r)}}var qC=!1;function _U(n,e){if(Xv=jd,n=eE(),nb(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,A=-1,c=0,l=0,h=n,u=null;t:for(;;){for(var d;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(A=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)u=h,h=d;for(;;){if(h===n)break t;if(u===t&&++c===i&&(a=o),u===s&&++l===r&&(A=o),(d=h.nextSibling)!==null)break;h=u,u=h.parentNode}h=d}t=a===-1||A===-1?null:{start:a,end:A}}else t=null}t=t||{start:0,end:0}}else t=null;for(Yv={focusedElem:n,selectionRange:t},jd=!1,te=e;te!==null;)if(e=te,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,te=n;else for(;te!==null;){e=te;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var f=p.memoizedProps,v=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?f:Pr(e.type,f),v);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(C){yt(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}return p=qC,qC=!1,p}function Ac(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&uy(e,t,s)}i=i.next}while(i!==r)}}function hg(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function dy(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function YE(n){var e=n.alternate;e!==null&&(n.alternate=null,YE(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ri],delete e[kc],delete e[qv],delete e[aU],delete e[AU])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function JE(n){return n.tag===5||n.tag===3||n.tag===4}function e2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||JE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function fy(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Vd));else if(r!==4&&(n=n.child,n!==null))for(fy(n,e,t),n=n.sibling;n!==null;)fy(n,e,t),n=n.sibling}function py(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(py(n,e,t),n=n.sibling;n!==null;)py(n,e,t),n=n.sibling}var Xt=null,Or=!1;function es(n,e,t){for(t=t.child;t!==null;)ZE(n,e,t),t=t.sibling}function ZE(n,e,t){if(oi&&typeof oi.onCommitFiberUnmount=="function")try{oi.onCommitFiberUnmount(rg,t)}catch{}switch(t.tag){case 5:hn||sA(t,e);case 6:var r=Xt,i=Or;Xt=null,es(n,e,t),Xt=r,Or=i,Xt!==null&&(Or?(n=Xt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Xt.removeChild(t.stateNode));break;case 18:Xt!==null&&(Or?(n=Xt,t=t.stateNode,n.nodeType===8?Dm(n.parentNode,t):n.nodeType===1&&Dm(n,t),Tc(n)):Dm(Xt,t.stateNode));break;case 4:r=Xt,i=Or,Xt=t.stateNode.containerInfo,Or=!0,es(n,e,t),Xt=r,Or=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&uy(t,e,o),i=i.next}while(i!==r)}es(n,e,t);break;case 1:if(!hn&&(sA(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){yt(t,e,a)}es(n,e,t);break;case 21:es(n,e,t);break;case 22:t.mode&1?(hn=(r=hn)||t.memoizedState!==null,es(n,e,t),hn=r):es(n,e,t);break;default:es(n,e,t)}}function t2(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new xU),e.forEach(function(r){var i=kU.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function wr(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xt=a.stateNode,Or=!1;break e;case 3:Xt=a.stateNode.containerInfo,Or=!0;break e;case 4:Xt=a.stateNode.containerInfo,Or=!0;break e}a=a.return}if(Xt===null)throw Error(z(160));ZE(s,o,i),Xt=null,Or=!1;var A=i.alternate;A!==null&&(A.return=null),i.return=null}catch(c){yt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qE(e,n),e=e.sibling}function qE(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(wr(e,n),Xr(n),r&4){try{Ac(3,n,n.return),hg(3,n)}catch(f){yt(n,n.return,f)}try{Ac(5,n,n.return)}catch(f){yt(n,n.return,f)}}break;case 1:wr(e,n),Xr(n),r&512&&t!==null&&sA(t,t.return);break;case 5:if(wr(e,n),Xr(n),r&512&&t!==null&&sA(t,t.return),n.flags&32){var i=n.stateNode;try{_c(i,"")}catch(f){yt(n,n.return,f)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,A=n.updateQueue;if(n.updateQueue=null,A!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&w4(i,s),Nv(a,o);var c=Nv(a,s);for(o=0;o<A.length;o+=2){var l=A[o],h=A[o+1];l==="style"?S4(i,h):l==="dangerouslySetInnerHTML"?x4(i,h):l==="children"?_c(i,h):j1(i,l,h,c)}switch(a){case"input":kv(i,s);break;case"textarea":C4(i,s);break;case"select":var u=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?cA(i,!!s.multiple,d,!1):u!==!!s.multiple&&(s.defaultValue!=null?cA(i,!!s.multiple,s.defaultValue,!0):cA(i,!!s.multiple,s.multiple?[]:"",!1))}i[kc]=s}catch(f){yt(n,n.return,f)}}break;case 6:if(wr(e,n),Xr(n),r&4){if(n.stateNode===null)throw Error(z(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(f){yt(n,n.return,f)}}break;case 3:if(wr(e,n),Xr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Tc(e.containerInfo)}catch(f){yt(n,n.return,f)}break;case 4:wr(e,n),Xr(n);break;case 13:wr(e,n),Xr(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cb=St())),r&4&&t2(n);break;case 22:if(l=t!==null&&t.memoizedState!==null,n.mode&1?(hn=(c=hn)||l,wr(e,n),hn=c):wr(e,n),Xr(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!l&&n.mode&1)for(te=n,l=n.child;l!==null;){for(h=te=l;te!==null;){switch(u=te,d=u.child,u.tag){case 0:case 11:case 14:case 15:Ac(4,u,u.return);break;case 1:sA(u,u.return);var p=u.stateNode;if(typeof p.componentWillUnmount=="function"){r=u,t=u.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(f){yt(r,t,f)}}break;case 5:sA(u,u.return);break;case 22:if(u.memoizedState!==null){r2(h);continue}}d!==null?(d.return=u,te=d):r2(h)}l=l.sibling}e:for(l=null,h=n;;){if(h.tag===5){if(l===null){l=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,A=h.memoizedProps.style,o=A!=null&&A.hasOwnProperty("display")?A.display:null,a.style.display=_4("display",o))}catch(f){yt(n,n.return,f)}}}else if(h.tag===6){if(l===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(f){yt(n,n.return,f)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;l===h&&(l=null),h=h.return}l===h&&(l=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wr(e,n),Xr(n),r&4&&t2(n);break;case 21:break;default:wr(e,n),Xr(n)}}function Xr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(JE(t)){var r=t;break e}t=t.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_c(i,""),r.flags&=-33);var s=e2(n);py(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=e2(n);fy(n,a,o);break;default:throw Error(z(161))}}catch(A){yt(n,n.return,A)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function SU(n,e,t){te=n,eF(n)}function eF(n,e,t){for(var r=(n.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Jh;if(!o){var a=i.alternate,A=a!==null&&a.memoizedState!==null||hn;a=Jh;var c=hn;if(Jh=o,(hn=A)&&!c)for(te=i;te!==null;)o=te,A=o.child,o.tag===22&&o.memoizedState!==null?i2(i):A!==null?(A.return=o,te=A):i2(i);for(;s!==null;)te=s,eF(s),s=s.sibling;te=i,Jh=a,hn=c}n2(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):n2(n)}}function n2(n){for(;te!==null;){var e=te;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||hg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Pr(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&RC(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}RC(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&t.focus();break;case"img":A.src&&(t.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var l=c.memoizedState;if(l!==null){var h=l.dehydrated;h!==null&&Tc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}hn||e.flags&512&&dy(e)}catch(u){yt(e,e.return,u)}}if(e===n){te=null;break}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}}function r2(n){for(;te!==null;){var e=te;if(e===n){te=null;break}var t=e.sibling;if(t!==null){t.return=e.return,te=t;break}te=e.return}}function i2(n){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{hg(4,e)}catch(A){yt(e,t,A)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(A){yt(e,i,A)}}var s=e.return;try{dy(e)}catch(A){yt(e,s,A)}break;case 5:var o=e.return;try{dy(e)}catch(A){yt(e,o,A)}}}catch(A){yt(e,e.return,A)}if(e===n){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var EU=Math.ceil,rf=Xi.ReactCurrentDispatcher,bb=Xi.ReactCurrentOwner,dr=Xi.ReactCurrentBatchConfig,Se=0,zt=null,Ot=null,qt=0,jn=0,oA=Xs(0),Lt=0,Rc=null,Yo=0,ug=0,wb=0,lc=null,Un=null,Cb=0,TA=1/0,Pi=null,sf=!1,gy=null,Ds=null,Zh=!1,_s=null,of=0,cc=0,my=null,fd=-1,pd=0;function _n(){return Se&6?St():fd!==-1?fd:fd=St()}function Qs(n){return n.mode&1?Se&2&&qt!==0?qt&-qt:cU.transition!==null?(pd===0&&(pd=L4()),pd):(n=Le,n!==0||(n=window.event,n=n===void 0?16:G4(n.type)),n):1}function $r(n,e,t,r){if(50<cc)throw cc=0,my=null,Error(z(185));sh(n,t,r),(!(Se&2)||n!==zt)&&(n===zt&&(!(Se&2)&&(ug|=t),Lt===4&&Bs(n,qt)),Nn(n,r),t===1&&Se===0&&!(e.mode&1)&&(TA=St()+500,Ag&&Ys()))}function Nn(n,e){var t=n.callbackNode;cI(n,e);var r=$d(n,n===zt?qt:0);if(r===0)t!==null&&dC(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&dC(t),e===1)n.tag===0?lU(s2.bind(null,n)):cE(s2.bind(null,n)),sU(function(){!(Se&6)&&Ys()}),t=null;else{switch(N4(r)){case 1:t=W1;break;case 4:t=Q4;break;case 16:t=Hd;break;case 536870912:t=M4;break;default:t=Hd}t=AF(t,tF.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function tF(n,e){if(fd=-1,pd=0,Se&6)throw Error(z(327));var t=n.callbackNode;if(pA()&&n.callbackNode!==t)return null;var r=$d(n,n===zt?qt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=af(n,r);else{e=r;var i=Se;Se|=2;var s=rF();(zt!==n||qt!==e)&&(Pi=null,TA=St()+500,Lo(n,e));do try{PU();break}catch(a){nF(n,a)}while(!0);ab(),rf.current=s,Se=i,Ot!==null?e=0:(zt=null,qt=0,e=Lt)}if(e!==0){if(e===2&&(i=Kv(n),i!==0&&(r=i,e=vy(n,i))),e===1)throw t=Rc,Lo(n,0),Bs(n,r),Nn(n,St()),t;if(e===6)Bs(n,r);else{if(i=n.current.alternate,!(r&30)&&!FU(i)&&(e=af(n,r),e===2&&(s=Kv(n),s!==0&&(r=s,e=vy(n,s))),e===1))throw t=Rc,Lo(n,0),Bs(n,r),Nn(n,St()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Bo(n,Un,Pi);break;case 3:if(Bs(n,r),(r&130023424)===r&&(e=Cb+500-St(),10<e)){if($d(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){_n(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Zv(Bo.bind(null,n,Un,Pi),e);break}Bo(n,Un,Pi);break;case 4:if(Bs(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Hr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EU(r/1960))-r,10<r){n.timeoutHandle=Zv(Bo.bind(null,n,Un,Pi),r);break}Bo(n,Un,Pi);break;case 5:Bo(n,Un,Pi);break;default:throw Error(z(329))}}}return Nn(n,St()),n.callbackNode===t?tF.bind(null,n):null}function vy(n,e){var t=lc;return n.current.memoizedState.isDehydrated&&(Lo(n,e).flags|=256),n=af(n,e),n!==2&&(e=Un,Un=t,e!==null&&yy(e)),n}function yy(n){Un===null?Un=n:Un.push.apply(Un,n)}function FU(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Kr(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bs(n,e){for(e&=~wb,e&=~ug,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Hr(e),r=1<<t;n[t]=-1,e&=~r}}function s2(n){if(Se&6)throw Error(z(327));pA();var e=$d(n,0);if(!(e&1))return Nn(n,St()),null;var t=af(n,e);if(n.tag!==0&&t===2){var r=Kv(n);r!==0&&(e=r,t=vy(n,r))}if(t===1)throw t=Rc,Lo(n,0),Bs(n,e),Nn(n,St()),t;if(t===6)throw Error(z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Bo(n,Un,Pi),Nn(n,St()),null}function Bb(n,e){var t=Se;Se|=1;try{return n(e)}finally{Se=t,Se===0&&(TA=St()+500,Ag&&Ys())}}function Jo(n){_s!==null&&_s.tag===0&&!(Se&6)&&pA();var e=Se;Se|=1;var t=dr.transition,r=Le;try{if(dr.transition=null,Le=1,n)return n()}finally{Le=r,dr.transition=t,Se=e,!(Se&6)&&Ys()}}function xb(){jn=oA.current,it(oA)}function Lo(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,iU(t)),Ot!==null)for(t=Ot.return;t!==null;){var r=t;switch(ib(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zd();break;case 3:EA(),it(Mn),it(fn),db();break;case 5:ub(r);break;case 4:EA();break;case 13:it(ct);break;case 19:it(ct);break;case 10:Ab(r.type._context);break;case 22:case 23:xb()}t=t.return}if(zt=n,Ot=n=Ms(n.current,null),qt=jn=e,Lt=0,Rc=null,wb=ug=Yo=0,Un=lc=null,Io!==null){for(e=0;e<Io.length;e++)if(t=Io[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Io=null}return n}function nF(n,e){do{var t=Ot;try{if(ab(),hd.current=nf,tf){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tf=!1}if(Xo=0,Kt=Qt=ht=null,ac=!1,Mc=0,bb.current=null,t===null||t.return===null){Lt=1,Rc=e,Ot=null;break}e:{var s=n,o=t.return,a=t,A=e;if(e=qt,a.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var c=A,l=a,h=l.tag;if(!(l.mode&1)&&(h===0||h===11||h===15)){var u=l.alternate;u?(l.updateQueue=u.updateQueue,l.memoizedState=u.memoizedState,l.lanes=u.lanes):(l.updateQueue=null,l.memoizedState=null)}var d=VC(o);if(d!==null){d.flags&=-257,zC(d,o,a,s,e),d.mode&1&&GC(s,c,e),e=d,A=c;var p=e.updateQueue;if(p===null){var f=new Set;f.add(A),e.updateQueue=f}else p.add(A);break e}else{if(!(e&1)){GC(s,c,e),_b();break e}A=Error(z(426))}}else if(ot&&a.mode&1){var v=VC(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),zC(v,o,a,s,e),sb(FA(A,a));break e}}s=A=FA(A,a),Lt!==4&&(Lt=2),lc===null?lc=[s]:lc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=NE(s,A,e);NC(s,m);break e;case 1:a=A;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ds===null||!Ds.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=RE(s,a,e);NC(s,C);break e}}s=s.return}while(s!==null)}sF(t)}catch(S){e=S,Ot===t&&t!==null&&(Ot=t=t.return);continue}break}while(!0)}function rF(){var n=rf.current;return rf.current=nf,n===null?nf:n}function _b(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),zt===null||!(Yo&268435455)&&!(ug&268435455)||Bs(zt,qt)}function af(n,e){var t=Se;Se|=2;var r=rF();(zt!==n||qt!==e)&&(Pi=null,Lo(n,e));do try{TU();break}catch(i){nF(n,i)}while(!0);if(ab(),Se=t,rf.current=r,Ot!==null)throw Error(z(261));return zt=null,qt=0,Lt}function TU(){for(;Ot!==null;)iF(Ot)}function PU(){for(;Ot!==null&&!tI();)iF(Ot)}function iF(n){var e=aF(n.alternate,n,jn);n.memoizedProps=n.pendingProps,e===null?sF(n):Ot=e,bb.current=null}function sF(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=BU(t,e),t!==null){t.flags&=32767,Ot=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Lt=6,Ot=null;return}}else if(t=CU(t,e,jn),t!==null){Ot=t;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=n}while(e!==null);Lt===0&&(Lt=5)}function Bo(n,e,t){var r=Le,i=dr.transition;try{dr.transition=null,Le=1,OU(n,e,t,r)}finally{dr.transition=i,Le=r}return null}function OU(n,e,t,r){do pA();while(_s!==null);if(Se&6)throw Error(z(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(z(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(hI(n,s),n===zt&&(Ot=zt=null,qt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Zh||(Zh=!0,AF(Hd,function(){return pA(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=dr.transition,dr.transition=null;var o=Le;Le=1;var a=Se;Se|=4,bb.current=null,_U(n,t),qE(t,n),JI(Yv),jd=!!Xv,Yv=Xv=null,n.current=t,SU(t),nI(),Se=a,Le=o,dr.transition=s}else n.current=t;if(Zh&&(Zh=!1,_s=n,of=i),s=n.pendingLanes,s===0&&(Ds=null),sI(t.stateNode),Nn(n,St()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(sf)throw sf=!1,n=gy,gy=null,n;return of&1&&n.tag!==0&&pA(),s=n.pendingLanes,s&1?n===my?cc++:(cc=0,my=n):cc=0,Ys(),null}function pA(){if(_s!==null){var n=N4(of),e=dr.transition,t=Le;try{if(dr.transition=null,Le=16>n?16:n,_s===null)var r=!1;else{if(n=_s,_s=null,of=0,Se&6)throw Error(z(331));var i=Se;for(Se|=4,te=n.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var A=0;A<a.length;A++){var c=a[A];for(te=c;te!==null;){var l=te;switch(l.tag){case 0:case 11:case 15:Ac(8,l,s)}var h=l.child;if(h!==null)h.return=l,te=h;else for(;te!==null;){l=te;var u=l.sibling,d=l.return;if(YE(l),l===c){te=null;break}if(u!==null){u.return=d,te=u;break}te=d}}}var p=s.alternate;if(p!==null){var f=p.child;if(f!==null){p.child=null;do{var v=f.sibling;f.sibling=null,f=v}while(f!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ac(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,te=m;break e}te=s.return}}var y=n.current;for(te=y;te!==null;){o=te;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,te=w;else e:for(o=y;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hg(9,a)}}catch(S){yt(a,a.return,S)}if(a===o){te=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,te=C;break e}te=a.return}}if(Se=i,Ys(),oi&&typeof oi.onPostCommitFiberRoot=="function")try{oi.onPostCommitFiberRoot(rg,n)}catch{}r=!0}return r}finally{Le=t,dr.transition=e}}return!1}function o2(n,e,t){e=FA(t,e),e=NE(n,e,1),n=ks(n,e,1),e=_n(),n!==null&&(sh(n,1,e),Nn(n,e))}function yt(n,e,t){if(n.tag===3)o2(n,n,t);else for(;e!==null;){if(e.tag===3){o2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ds===null||!Ds.has(r))){n=FA(t,n),n=RE(e,n,1),e=ks(e,n,1),n=_n(),e!==null&&(sh(e,1,n),Nn(e,n));break}}e=e.return}}function IU(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=_n(),n.pingedLanes|=n.suspendedLanes&t,zt===n&&(qt&t)===t&&(Lt===4||Lt===3&&(qt&130023424)===qt&&500>St()-Cb?Lo(n,0):wb|=t),Nn(n,e)}function oF(n,e){e===0&&(n.mode&1?(e=$h,$h<<=1,!($h&130023424)&&($h=4194304)):e=1);var t=_n();n=Ki(n,e),n!==null&&(sh(n,e,t),Nn(n,t))}function UU(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),oF(n,t)}function kU(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),oF(n,t)}var aF;aF=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Mn.current)Qn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Qn=!1,wU(n,e,t);Qn=!!(n.flags&131072)}else Qn=!1,ot&&e.flags&1048576&&hE(e,Yd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dd(n,e),n=e.pendingProps;var i=xA(e,fn.current);fA(e,t),i=pb(null,e,r,n,i,t);var s=gb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(s=!0,Wd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cb(e),i.updater=cg,e.stateNode=i,i._reactInternals=e,sy(e,r,n,t),e=Ay(null,e,r,!0,s,t)):(e.tag=0,ot&&s&&rb(e),wn(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(dd(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=QU(r),n=Pr(r,n),i){case 0:e=ay(null,e,r,n,t);break e;case 1:e=YC(null,e,r,n,t);break e;case 11:e=WC(null,e,r,n,t);break e;case 14:e=XC(null,e,r,Pr(r.type,n),t);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pr(r,i),ay(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pr(r,i),YC(n,e,r,i,t);case 3:e:{if(KE(e),n===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,mE(n,e),qd(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=FA(Error(z(423)),e),e=JC(n,e,r,t,i);break e}else if(r!==i){i=FA(Error(z(424)),e),e=JC(n,e,r,t,i);break e}else for(zn=Us(e.stateNode.containerInfo.firstChild),Xn=e,ot=!0,Ur=null,t=pE(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(_A(),r===i){e=Gi(n,e,t);break e}wn(n,e,r,t)}e=e.child}return e;case 5:return vE(e),n===null&&ny(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,Jv(r,i)?o=null:s!==null&&Jv(r,s)&&(e.flags|=32),jE(n,e),wn(n,e,o,t),e.child;case 6:return n===null&&ny(e),null;case 13:return GE(n,e,t);case 4:return hb(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=SA(e,null,r,t):wn(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pr(r,i),WC(n,e,r,i,t);case 7:return wn(n,e,e.pendingProps,t),e.child;case 8:return wn(n,e,e.pendingProps.children,t),e.child;case 12:return wn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qe(Jd,r._currentValue),r._currentValue=o,s!==null)if(Kr(s.value,o)){if(s.children===i.children&&!Mn.current){e=Gi(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var A=a.firstContext;A!==null;){if(A.context===r){if(s.tag===1){A=Mi(-1,t&-t),A.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var l=c.pending;l===null?A.next=A:(A.next=l.next,l.next=A),c.pending=A}}s.lanes|=t,A=s.alternate,A!==null&&(A.lanes|=t),ry(s.return,t,e),a.lanes|=t;break}A=A.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),ry(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wn(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fA(e,t),i=fr(i),r=r(i),e.flags|=1,wn(n,e,r,t),e.child;case 14:return r=e.type,i=Pr(r,e.pendingProps),i=Pr(r.type,i),XC(n,e,r,i,t);case 15:return HE(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pr(r,i),dd(n,e),e.tag=1,Ln(r)?(n=!0,Wd(e)):n=!1,fA(e,t),LE(e,r,i),sy(e,r,i,t),Ay(null,e,r,!0,n,t);case 19:return VE(n,e,t);case 22:return $E(n,e,t)}throw Error(z(156,e.tag))};function AF(n,e){return D4(n,e)}function DU(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(n,e,t,r){return new DU(n,e,t,r)}function Sb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function QU(n){if(typeof n=="function")return Sb(n)?1:0;if(n!=null){if(n=n.$$typeof,n===G1)return 11;if(n===V1)return 14}return 2}function Ms(n,e){var t=n.alternate;return t===null?(t=cr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function gd(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")Sb(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ya:return No(t.children,i,s,e);case K1:o=8,i|=8;break;case Tv:return n=cr(12,t,e,i|2),n.elementType=Tv,n.lanes=s,n;case Pv:return n=cr(13,t,e,i),n.elementType=Pv,n.lanes=s,n;case Ov:return n=cr(19,t,e,i),n.elementType=Ov,n.lanes=s,n;case v4:return dg(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case g4:o=10;break e;case m4:o=9;break e;case G1:o=11;break e;case V1:o=14;break e;case vs:o=16,r=null;break e}throw Error(z(130,n==null?n:typeof n,""))}return e=cr(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function No(n,e,t,r){return n=cr(7,n,r,e),n.lanes=t,n}function dg(n,e,t,r){return n=cr(22,n,r,e),n.elementType=v4,n.lanes=t,n.stateNode={isHidden:!1},n}function jm(n,e,t){return n=cr(6,n,null,e),n.lanes=t,n}function Km(n,e,t){return e=cr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function MU(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xm(0),this.expirationTimes=xm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Eb(n,e,t,r,i,s,o,a,A){return n=new MU(n,e,t,a,A),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},cb(s),n}function LU(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xa,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function lF(n){if(!n)return Ks;n=n._reactInternals;e:{if(aa(n)!==n||n.tag!==1)throw Error(z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(n.tag===1){var t=n.type;if(Ln(t))return lE(n,t,e)}return e}function cF(n,e,t,r,i,s,o,a,A){return n=Eb(t,r,!0,n,i,s,o,a,A),n.context=lF(null),t=n.current,r=_n(),i=Qs(t),s=Mi(r,i),s.callback=e??null,ks(t,s,i),n.current.lanes=i,sh(n,i,r),Nn(n,r),n}function fg(n,e,t,r){var i=e.current,s=_n(),o=Qs(i);return t=lF(t),e.context===null?e.context=t:e.pendingContext=t,e=Mi(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ks(i,e,o),n!==null&&($r(n,i,o,s),cd(n,i,o)),o}function Af(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function a2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Fb(n,e){a2(n,e),(n=n.alternate)&&a2(n,e)}function NU(){return null}var hF=typeof reportError=="function"?reportError:function(n){console.error(n)};function Tb(n){this._internalRoot=n}pg.prototype.render=Tb.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(z(409));fg(n,e,null,null)};pg.prototype.unmount=Tb.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Jo(function(){fg(null,n,null,null)}),e[ji]=null}};function pg(n){this._internalRoot=n}pg.prototype.unstable_scheduleHydration=function(n){if(n){var e=$4();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Cs.length&&e!==0&&e<Cs[t].priority;t++);Cs.splice(t,0,n),t===0&&K4(n)}};function Pb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function gg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function A2(){}function RU(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Af(o);s.call(c)}}var o=cF(e,r,n,0,null,!1,!1,"",A2);return n._reactRootContainer=o,n[ji]=o.current,Ic(n.nodeType===8?n.parentNode:n),Jo(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Af(A);a.call(c)}}var A=Eb(n,0,!1,null,null,!1,!1,"",A2);return n._reactRootContainer=A,n[ji]=A.current,Ic(n.nodeType===8?n.parentNode:n),Jo(function(){fg(e,A,t,r)}),A}function mg(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var A=Af(o);a.call(A)}}fg(e,o,n,i)}else o=RU(t,e,n,i,r);return Af(o)}R4=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=$l(e.pendingLanes);t!==0&&(X1(e,t|1),Nn(e,St()),!(Se&6)&&(TA=St()+500,Ys()))}break;case 13:Jo(function(){var r=Ki(n,1);if(r!==null){var i=_n();$r(r,n,1,i)}}),Fb(n,1)}};Y1=function(n){if(n.tag===13){var e=Ki(n,134217728);if(e!==null){var t=_n();$r(e,n,134217728,t)}Fb(n,134217728)}};H4=function(n){if(n.tag===13){var e=Qs(n),t=Ki(n,e);if(t!==null){var r=_n();$r(t,n,e,r)}Fb(n,e)}};$4=function(){return Le};j4=function(n,e){var t=Le;try{return Le=n,e()}finally{Le=t}};Hv=function(n,e,t){switch(e){case"input":if(kv(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ag(r);if(!i)throw Error(z(90));b4(r),kv(r,i)}}}break;case"textarea":C4(n,t);break;case"select":e=t.value,e!=null&&cA(n,!!t.multiple,e,!1)}};T4=Bb;P4=Jo;var HU={usingClientEntryPoint:!1,Events:[ah,eA,ag,E4,F4,Bb]},vl={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$U={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=U4(n),n===null?null:n.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||NU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{rg=qh.inject($U),oi=qh}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HU;er.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pb(e))throw Error(z(200));return LU(n,e,null,t)};er.createRoot=function(n,e){if(!Pb(n))throw Error(z(299));var t=!1,r="",i=hF;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Eb(n,1,!1,null,null,t,!1,r,i),n[ji]=e.current,Ic(n.nodeType===8?n.parentNode:n),new Tb(e)};er.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(z(188)):(n=Object.keys(n).join(","),Error(z(268,n)));return n=U4(e),n=n===null?null:n.stateNode,n};er.flushSync=function(n){return Jo(n)};er.hydrate=function(n,e,t){if(!gg(e))throw Error(z(200));return mg(null,n,e,!0,t)};er.hydrateRoot=function(n,e,t){if(!Pb(n))throw Error(z(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=hF;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=cF(e,null,n,1,t??null,i,!1,s,o),n[ji]=e.current,Ic(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new pg(e)};er.render=function(n,e,t){if(!gg(e))throw Error(z(200));return mg(null,n,e,!1,t)};er.unmountComponentAtNode=function(n){if(!gg(n))throw Error(z(40));return n._reactRootContainer?(Jo(function(){mg(null,null,n,!1,function(){n._reactRootContainer=null,n[ji]=null})}),!0):!1};er.unstable_batchedUpdates=Bb;er.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!gg(t))throw Error(z(200));if(n==null||n._reactInternals===void 0)throw Error(z(38));return mg(n,e,t,!1,r)};er.version="18.3.1-next-f1338f8080-20240426";function uF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uF)}catch(n){console.error(n)}}uF(),u4.exports=er;var lh=u4.exports;const Dr=Ge(lh);var dF,l2=lh;dF=l2.createRoot,l2.hydrateRoot;function jU(){}var KU=jU;const X=Ge(KU);var GU=Array.isArray,Hn=GU;const VU=Ge(Hn);var zU=typeof Qh=="object"&&Qh&&Qh.Object===Object&&Qh,fF=zU,WU=fF,XU=typeof self=="object"&&self&&self.Object===Object&&self,YU=WU||XU||Function("return this")(),Gr=YU,JU=Gr,ZU=JU.Symbol,VA=ZU,c2=VA,pF=Object.prototype,qU=pF.hasOwnProperty,ek=pF.toString,yl=c2?c2.toStringTag:void 0;function tk(n){var e=qU.call(n,yl),t=n[yl];try{n[yl]=void 0;var r=!0}catch{}var i=ek.call(n);return r&&(e?n[yl]=t:delete n[yl]),i}var nk=tk,rk=Object.prototype,ik=rk.toString;function sk(n){return ik.call(n)}var ok=sk,h2=VA,ak=nk,Ak=ok,lk="[object Null]",ck="[object Undefined]",u2=h2?h2.toStringTag:void 0;function hk(n){return n==null?n===void 0?ck:lk:u2&&u2 in Object(n)?ak(n):Ak(n)}var Js=hk;function uk(n){return n!=null&&typeof n=="object"}var Vr=uk,dk=Js,fk=Vr,pk="[object Symbol]";function gk(n){return typeof n=="symbol"||fk(n)&&dk(n)==pk}var vg=gk,mk=Hn,vk=vg,yk=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bk=/^\w*$/;function wk(n,e){if(mk(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||vk(n)?!0:bk.test(n)||!yk.test(n)||e!=null&&n in Object(e)}var Ck=wk;function Bk(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var mr=Bk,xk=Js,_k=mr,Sk="[object AsyncFunction]",Ek="[object Function]",Fk="[object GeneratorFunction]",Tk="[object Proxy]";function Pk(n){if(!_k(n))return!1;var e=xk(n);return e==Ek||e==Fk||e==Sk||e==Tk}var yg=Pk;const un=Ge(yg);var Ok=Gr,Ik=Ok["__core-js_shared__"],Uk=Ik,Gm=Uk,d2=function(){var n=/[^.]+$/.exec(Gm&&Gm.keys&&Gm.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function kk(n){return!!d2&&d2 in n}var Dk=kk,Qk=Function.prototype,Mk=Qk.toString;function Lk(n){if(n!=null){try{return Mk.call(n)}catch{}try{return n+""}catch{}}return""}var gF=Lk,Nk=yg,Rk=Dk,Hk=mr,$k=gF,jk=/[\\^$.*+?()[\]{}|]/g,Kk=/^\[object .+?Constructor\]$/,Gk=Function.prototype,Vk=Object.prototype,zk=Gk.toString,Wk=Vk.hasOwnProperty,Xk=RegExp("^"+zk.call(Wk).replace(jk,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yk(n){if(!Hk(n)||Rk(n))return!1;var e=Nk(n)?Xk:Kk;return e.test($k(n))}var Jk=Yk;function Zk(n,e){return n==null?void 0:n[e]}var qk=Zk,eD=Jk,tD=qk;function nD(n,e){var t=tD(n,e);return eD(t)?t:void 0}var Aa=nD,rD=Aa,iD=rD(Object,"create"),bg=iD,f2=bg;function sD(){this.__data__=f2?f2(null):{},this.size=0}var oD=sD;function aD(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var AD=aD,lD=bg,cD="__lodash_hash_undefined__",hD=Object.prototype,uD=hD.hasOwnProperty;function dD(n){var e=this.__data__;if(lD){var t=e[n];return t===cD?void 0:t}return uD.call(e,n)?e[n]:void 0}var fD=dD,pD=bg,gD=Object.prototype,mD=gD.hasOwnProperty;function vD(n){var e=this.__data__;return pD?e[n]!==void 0:mD.call(e,n)}var yD=vD,bD=bg,wD="__lodash_hash_undefined__";function CD(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=bD&&e===void 0?wD:e,this}var BD=CD,xD=oD,_D=AD,SD=fD,ED=yD,FD=BD;function zA(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}zA.prototype.clear=xD;zA.prototype.delete=_D;zA.prototype.get=SD;zA.prototype.has=ED;zA.prototype.set=FD;var TD=zA;function PD(){this.__data__=[],this.size=0}var OD=PD;function ID(n,e){return n===e||n!==n&&e!==e}var ch=ID,UD=ch;function kD(n,e){for(var t=n.length;t--;)if(UD(n[t][0],e))return t;return-1}var wg=kD,DD=wg,QD=Array.prototype,MD=QD.splice;function LD(n){var e=this.__data__,t=DD(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():MD.call(e,t,1),--this.size,!0}var ND=LD,RD=wg;function HD(n){var e=this.__data__,t=RD(e,n);return t<0?void 0:e[t][1]}var $D=HD,jD=wg;function KD(n){return jD(this.__data__,n)>-1}var GD=KD,VD=wg;function zD(n,e){var t=this.__data__,r=VD(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var WD=zD,XD=OD,YD=ND,JD=$D,ZD=GD,qD=WD;function WA(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}WA.prototype.clear=XD;WA.prototype.delete=YD;WA.prototype.get=JD;WA.prototype.has=ZD;WA.prototype.set=qD;var Cg=WA,eQ=Aa,tQ=Gr,nQ=eQ(tQ,"Map"),Ob=nQ,p2=TD,rQ=Cg,iQ=Ob;function sQ(){this.size=0,this.__data__={hash:new p2,map:new(iQ||rQ),string:new p2}}var oQ=sQ;function aQ(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var AQ=aQ,lQ=AQ;function cQ(n,e){var t=n.__data__;return lQ(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Bg=cQ,hQ=Bg;function uQ(n){var e=hQ(this,n).delete(n);return this.size-=e?1:0,e}var dQ=uQ,fQ=Bg;function pQ(n){return fQ(this,n).get(n)}var gQ=pQ,mQ=Bg;function vQ(n){return mQ(this,n).has(n)}var yQ=vQ,bQ=Bg;function wQ(n,e){var t=bQ(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var CQ=wQ,BQ=oQ,xQ=dQ,_Q=gQ,SQ=yQ,EQ=CQ;function XA(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}XA.prototype.clear=BQ;XA.prototype.delete=xQ;XA.prototype.get=_Q;XA.prototype.has=SQ;XA.prototype.set=EQ;var Ib=XA,mF=Ib,FQ="Expected a function";function Ub(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(FQ);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var o=n.apply(this,r);return t.cache=s.set(i,o)||s,o};return t.cache=new(Ub.Cache||mF),t}Ub.Cache=mF;var TQ=Ub,PQ=TQ,OQ=500;function IQ(n){var e=PQ(n,function(r){return t.size===OQ&&t.clear(),r}),t=e.cache;return e}var UQ=IQ,kQ=UQ,DQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QQ=/\\(\\)?/g,MQ=kQ(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(DQ,function(t,r,i,s){e.push(i?s.replace(QQ,"$1"):r||t)}),e}),LQ=MQ;function NQ(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var kb=NQ,g2=VA,RQ=kb,HQ=Hn,$Q=vg,jQ=1/0,m2=g2?g2.prototype:void 0,v2=m2?m2.toString:void 0;function vF(n){if(typeof n=="string")return n;if(HQ(n))return RQ(n,vF)+"";if($Q(n))return v2?v2.call(n):"";var e=n+"";return e=="0"&&1/n==-jQ?"-0":e}var KQ=vF,GQ=KQ;function VQ(n){return n==null?"":GQ(n)}var yF=VQ;const va=Ge(yF);var zQ=Hn,WQ=Ck,XQ=LQ,YQ=yF;function JQ(n,e){return zQ(n)?n:WQ(n,e)?[n]:XQ(YQ(n))}var YA=JQ,ZQ=vg,qQ=1/0;function eM(n){if(typeof n=="string"||ZQ(n))return n;var e=n+"";return e=="0"&&1/n==-qQ?"-0":e}var xg=eM,tM=YA,nM=xg;function rM(n,e){e=tM(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[nM(e[t++])];return t&&t==r?n:void 0}var Db=rM,iM=Db;function sM(n,e,t){var r=n==null?void 0:iM(n,e);return r===void 0?t:r}var oM=sM;const le=Ge(oM),bF=function(n){if(le(process,"env.NODE_ENV")==="development"){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console.log(n,...t)}};class Ye{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{getProp:X,getProps:X,getState:X,getStates:X,setState:X,getContext:X,getContexts:X,getCache:X,setCache:X,getCaches:X,stopPropagation:X,persistEvent:X}}constructor(e){this._adapter=Object.assign(Object.assign({},Ye.defaultAdapter),e)}getProp(e){return this._adapter.getProp(e)}getProps(){return this._adapter.getProps()}getState(e){return this._adapter.getState(e)}getStates(){return this._adapter.getStates()}setState(e,t){return this._adapter.setState(Object.assign({},e),t)}getContext(e){return this._adapter.getContext(e)}getContexts(){return this._adapter.getContexts()}getCaches(){return this._adapter.getCaches()}getCache(e){return this._adapter.getCache(e)}setCache(e,t){return e&&this._adapter.setCache(e,t)}stopPropagation(e){this._adapter.stopPropagation(e)}_isControlledComponent(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"value";const t=this.getProps();return e in t}_isInProps(e){const t=this.getProps();return e in t}init(e){}destroy(){}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];bF(e,...r)}_persistEvent(e){this._adapter.persistEvent(e)}}function JA(n){return Object.keys(n).reduce((e,t)=>(t.substr(0,5)==="data-"&&(e[t]=n[t]),e),{})}const{hasOwnProperty:aM}=Object.prototype;class Ie extends H.Component{constructor(e){super(e),this.isControlled=t=>!!(t&&this.props&&typeof this.props=="object"&&aM.call(this.props,t)),this.setStateAsync=t=>new Promise(r=>{this.setState(t,r)}),this.cache={},this.foundation=null}componentDidMount(){this.foundation&&typeof this.foundation.init=="function"&&this.foundation.init()}componentWillUnmount(){this.foundation&&typeof this.foundation.destroy=="function"&&this.foundation.destroy(),this.cache={}}get adapter(){return{getContext:e=>{if(this.context&&e)return this.context[e]},getContexts:()=>this.context,getProp:e=>this.props[e],getProps:()=>this.props,getState:e=>this.state[e],getStates:()=>this.state,setState:(e,t)=>this.setState(Object.assign({},e),t),getCache:e=>e&&this.cache[e],getCaches:()=>this.cache,setCache:(e,t)=>e&&(this.cache[e]=t),stopPropagation:e=>{try{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation()}catch{}},persistEvent:e=>{e&&e.persist&&typeof e.persist=="function"&&e.persist()}}}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return bF(e,...r)}getDataAttr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return JA(e)}}Ie.propTypes={};Ie.defaultProps={};var AM=Gr,lM=function(){return AM.Date.now()},cM=lM,hM=/\s/;function uM(n){for(var e=n.length;e--&&hM.test(n.charAt(e)););return e}var dM=uM,fM=dM,pM=/^\s+/;function gM(n){return n&&n.slice(0,fM(n)+1).replace(pM,"")}var mM=gM,vM=mM,y2=mr,yM=vg,b2=NaN,bM=/^[-+]0x[0-9a-f]+$/i,wM=/^0b[01]+$/i,CM=/^0o[0-7]+$/i,BM=parseInt;function xM(n){if(typeof n=="number")return n;if(yM(n))return b2;if(y2(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=y2(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=vM(n);var t=wM.test(n);return t||CM.test(n)?BM(n.slice(2),t?2:8):bM.test(n)?b2:+n}var Qb=xM;const bl=Ge(Qb);var _M=mr,Vm=cM,w2=Qb,SM="Expected a function",EM=Math.max,FM=Math.min;function TM(n,e,t){var r,i,s,o,a,A,c=0,l=!1,h=!1,u=!0;if(typeof n!="function")throw new TypeError(SM);e=w2(e)||0,_M(t)&&(l=!!t.leading,h="maxWait"in t,s=h?EM(w2(t.maxWait)||0,e):s,u="trailing"in t?!!t.trailing:u);function d(x){var E=r,T=i;return r=i=void 0,c=x,o=n.apply(T,E),o}function p(x){return c=x,a=setTimeout(m,e),l?d(x):o}function f(x){var E=x-A,T=x-c,P=e-E;return h?FM(P,s-T):P}function v(x){var E=x-A,T=x-c;return A===void 0||E>=e||E<0||h&&T>=s}function m(){var x=Vm();if(v(x))return y(x);a=setTimeout(m,f(x))}function y(x){return a=void 0,u&&r?d(x):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,r=A=i=a=void 0}function C(){return a===void 0?o:y(Vm())}function S(){var x=Vm(),E=v(x);if(r=arguments,i=this,A=x,E){if(a===void 0)return p(A);if(h)return clearTimeout(a),a=setTimeout(m,e),d(A)}return a===void 0&&(a=setTimeout(m,e)),o}return S.cancel=w,S.flush=C,S}var PM=TM,OM=PM,IM=mr,UM="Expected a function";function kM(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(UM);return IM(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),OM(n,e,{leading:r,maxWait:e,trailing:i})}var DM=kM;const C2=Ge(DM);var wF={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(wF);var QM=wF.exports;const N=Ge(QM);var CF={exports:{}},MM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",LM=MM,NM=LM;function BF(){}function xF(){}xF.resetWarningCache=BF;var RM=function(){function n(r,i,s,o,a,A){if(A!==NM){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:xF,resetWarningCache:BF};return t.PropTypes=t,t};CF.exports=RM();var HM=CF.exports;const g=Ge(HM),re="semi",$M=["default","error","warning","success"],_g={PREFIX:`${re}-typography`},dn={WEIGHT:["light","regular","medium","semibold","bold","default"],TYPE:["primary","secondary","danger","warning","success","tertiary","quaternary"],SIZE:["normal","small","inherit"],SPACING:["normal","extended"],HEADING:[1,2,3,4,5,6],RULE:["text","numbers","bytes-decimal","bytes-binary","percentages","exponential"],TRUNCATE:["ceil","floor","round"]};var jM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const KM=_g.PREFIX;let Sg=class extends H.PureComponent{render(){const e=this.props,{component:t,className:r,children:i,forwardRef:s}=e,o=jM(e,["component","className","children","forwardRef"]),a=t,A=N(KM,r);return b.createElement(a,Object.assign({className:A,ref:s},o),i)}};Sg.defaultProps={component:"article",style:{},className:""};Sg.propTypes={component:g.string,style:g.object,className:g.string};function GM(n){return n===null}var VM=GM;const zM=Ge(VM);var WM=Js,XM=Hn,YM=Vr,JM="[object String]";function ZM(n){return typeof n=="string"||!XM(n)&&YM(n)&&WM(n)==JM}var qM=ZM;const Ft=Ge(qM);var eL=Cg;function tL(){this.__data__=new eL,this.size=0}var nL=tL;function rL(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var iL=rL;function sL(n){return this.__data__.get(n)}var oL=sL;function aL(n){return this.__data__.has(n)}var AL=aL,lL=Cg,cL=Ob,hL=Ib,uL=200;function dL(n,e){var t=this.__data__;if(t instanceof lL){var r=t.__data__;if(!cL||r.length<uL-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new hL(r)}return t.set(n,e),this.size=t.size,this}var fL=dL,pL=Cg,gL=nL,mL=iL,vL=oL,yL=AL,bL=fL;function ZA(n){var e=this.__data__=new pL(n);this.size=e.size}ZA.prototype.clear=gL;ZA.prototype.delete=mL;ZA.prototype.get=vL;ZA.prototype.has=yL;ZA.prototype.set=bL;var Mb=ZA,wL=Aa,CL=function(){try{var n=wL(Object,"defineProperty");return n({},"",{}),n}catch{}}(),_F=CL,B2=_F;function BL(n,e,t){e=="__proto__"&&B2?B2(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var Lb=BL,xL=Lb,_L=ch;function SL(n,e,t){(t!==void 0&&!_L(n[e],t)||t===void 0&&!(e in n))&&xL(n,e,t)}var SF=SL;function EL(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var A=o[n?a:++i];if(t(s[A],A,s)===!1)break}return e}}var FL=EL,TL=FL,PL=TL(),EF=PL,lf={exports:{}};lf.exports;(function(n,e){var t=Gr,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,o=s?t.Buffer:void 0,a=o?o.allocUnsafe:void 0;function A(c,l){if(l)return c.slice();var h=c.length,u=a?a(h):new c.constructor(h);return c.copy(u),u}n.exports=A})(lf,lf.exports);var FF=lf.exports,OL=Gr,IL=OL.Uint8Array,TF=IL,x2=TF;function UL(n){var e=new n.constructor(n.byteLength);return new x2(e).set(new x2(n)),e}var Nb=UL,kL=Nb;function DL(n,e){var t=e?kL(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var PF=DL;function QL(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var OF=QL,ML=mr,_2=Object.create,LL=function(){function n(){}return function(e){if(!ML(e))return{};if(_2)return _2(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),NL=LL;function RL(n,e){return function(t){return n(e(t))}}var IF=RL,HL=IF,$L=HL(Object.getPrototypeOf,Object),Rb=$L,jL=Object.prototype;function KL(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||jL;return n===t}var Eg=KL,GL=NL,VL=Rb,zL=Eg;function WL(n){return typeof n.constructor=="function"&&!zL(n)?GL(VL(n)):{}}var UF=WL,XL=Js,YL=Vr,JL="[object Arguments]";function ZL(n){return YL(n)&&XL(n)==JL}var qL=ZL,S2=qL,e6=Vr,kF=Object.prototype,t6=kF.hasOwnProperty,n6=kF.propertyIsEnumerable,r6=S2(function(){return arguments}())?S2:function(n){return e6(n)&&t6.call(n,"callee")&&!n6.call(n,"callee")},hh=r6,i6=9007199254740991;function s6(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=i6}var Hb=s6,o6=yg,a6=Hb;function A6(n){return n!=null&&a6(n.length)&&!o6(n)}var qA=A6,l6=qA,c6=Vr;function h6(n){return c6(n)&&l6(n)}var DF=h6,cf={exports:{}};function u6(){return!1}var d6=u6;cf.exports;(function(n,e){var t=Gr,r=d6,i=e&&!e.nodeType&&e,s=i&&!0&&n&&!n.nodeType&&n,o=s&&s.exports===i,a=o?t.Buffer:void 0,A=a?a.isBuffer:void 0,c=A||r;n.exports=c})(cf,cf.exports);var uh=cf.exports,f6=Js,p6=Rb,g6=Vr,m6="[object Object]",v6=Function.prototype,y6=Object.prototype,QF=v6.toString,b6=y6.hasOwnProperty,w6=QF.call(Object);function C6(n){if(!g6(n)||f6(n)!=m6)return!1;var e=p6(n);if(e===null)return!0;var t=b6.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&QF.call(t)==w6}var MF=C6,B6=Js,x6=Hb,_6=Vr,S6="[object Arguments]",E6="[object Array]",F6="[object Boolean]",T6="[object Date]",P6="[object Error]",O6="[object Function]",I6="[object Map]",U6="[object Number]",k6="[object Object]",D6="[object RegExp]",Q6="[object Set]",M6="[object String]",L6="[object WeakMap]",N6="[object ArrayBuffer]",R6="[object DataView]",H6="[object Float32Array]",$6="[object Float64Array]",j6="[object Int8Array]",K6="[object Int16Array]",G6="[object Int32Array]",V6="[object Uint8Array]",z6="[object Uint8ClampedArray]",W6="[object Uint16Array]",X6="[object Uint32Array]",tt={};tt[H6]=tt[$6]=tt[j6]=tt[K6]=tt[G6]=tt[V6]=tt[z6]=tt[W6]=tt[X6]=!0;tt[S6]=tt[E6]=tt[N6]=tt[F6]=tt[R6]=tt[T6]=tt[P6]=tt[O6]=tt[I6]=tt[U6]=tt[k6]=tt[D6]=tt[Q6]=tt[M6]=tt[L6]=!1;function Y6(n){return _6(n)&&x6(n.length)&&!!tt[B6(n)]}var J6=Y6;function Z6(n){return function(e){return n(e)}}var Fg=Z6,hf={exports:{}};hf.exports;(function(n,e){var t=fF,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,o=s&&t.process,a=function(){try{var A=i&&i.require&&i.require("util").types;return A||o&&o.binding&&o.binding("util")}catch{}}();n.exports=a})(hf,hf.exports);var $b=hf.exports,q6=J6,eN=Fg,E2=$b,F2=E2&&E2.isTypedArray,tN=F2?eN(F2):q6,Tg=tN;function nN(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var LF=nN,rN=Lb,iN=ch,sN=Object.prototype,oN=sN.hasOwnProperty;function aN(n,e,t){var r=n[e];(!(oN.call(n,e)&&iN(r,t))||t===void 0&&!(e in n))&&rN(n,e,t)}var jb=aN,AN=jb,lN=Lb;function cN(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],A=r?r(t[a],n[a],a,t,n):void 0;A===void 0&&(A=n[a]),i?lN(t,a,A):AN(t,a,A)}return t}var el=cN;function hN(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var NF=hN,uN=9007199254740991,dN=/^(?:0|[1-9]\d*)$/;function fN(n,e){var t=typeof n;return e=e??uN,!!e&&(t=="number"||t!="symbol"&&dN.test(n))&&n>-1&&n%1==0&&n<e}var Pg=fN,pN=NF,gN=hh,mN=Hn,vN=uh,yN=Pg,bN=Tg,wN=Object.prototype,CN=wN.hasOwnProperty;function BN(n,e){var t=mN(n),r=!t&&gN(n),i=!t&&!r&&vN(n),s=!t&&!r&&!i&&bN(n),o=t||r||i||s,a=o?pN(n.length,String):[],A=a.length;for(var c in n)(e||CN.call(n,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||yN(c,A)))&&a.push(c);return a}var RF=BN;function xN(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var _N=xN,SN=mr,EN=Eg,FN=_N,TN=Object.prototype,PN=TN.hasOwnProperty;function ON(n){if(!SN(n))return FN(n);var e=EN(n),t=[];for(var r in n)r=="constructor"&&(e||!PN.call(n,r))||t.push(r);return t}var IN=ON,UN=RF,kN=IN,DN=qA;function QN(n){return DN(n)?UN(n,!0):kN(n)}var dh=QN,MN=el,LN=dh;function NN(n){return MN(n,LN(n))}var RN=NN,T2=SF,HN=FF,$N=PF,jN=OF,KN=UF,P2=hh,O2=Hn,GN=DF,VN=uh,zN=yg,WN=mr,XN=MF,YN=Tg,I2=LF,JN=RN;function ZN(n,e,t,r,i,s,o){var a=I2(n,t),A=I2(e,t),c=o.get(A);if(c){T2(n,t,c);return}var l=s?s(a,A,t+"",n,e,o):void 0,h=l===void 0;if(h){var u=O2(A),d=!u&&VN(A),p=!u&&!d&&YN(A);l=A,u||d||p?O2(a)?l=a:GN(a)?l=jN(a):d?(h=!1,l=HN(A,!0)):p?(h=!1,l=$N(A,!0)):l=[]:XN(A)||P2(A)?(l=a,P2(a)?l=JN(a):(!WN(a)||zN(a))&&(l=KN(A))):h=!1}h&&(o.set(A,l),i(l,A,r,s,o),o.delete(A)),T2(n,t,l)}var qN=ZN,e8=Mb,t8=SF,n8=EF,r8=qN,i8=mr,s8=dh,o8=LF;function HF(n,e,t,r,i){n!==e&&n8(e,function(s,o){if(i||(i=new e8),i8(s))r8(n,e,o,t,HF,r,i);else{var a=r?r(o8(n,o),s,o+"",n,e,i):void 0;a===void 0&&(a=s),t8(n,o,a)}},s8)}var a8=HF;function A8(n){return n}var Kb=A8;function l8(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var c8=l8,h8=c8,U2=Math.max;function u8(n,e,t){return e=U2(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=U2(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(o),h8(n,this,a)}}var $F=u8;function d8(n){return function(){return n}}var f8=d8,p8=f8,k2=_F,g8=Kb,m8=k2?function(n,e){return k2(n,"toString",{configurable:!0,enumerable:!1,value:p8(e),writable:!0})}:g8,v8=m8,y8=800,b8=16,w8=Date.now;function C8(n){var e=0,t=0;return function(){var r=w8(),i=b8-(r-t);if(t=r,i>0){if(++e>=y8)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var B8=C8,x8=v8,_8=B8,S8=_8(x8),jF=S8,E8=Kb,F8=$F,T8=jF;function P8(n,e){return T8(F8(n,e,E8),n+"")}var KF=P8,O8=ch,I8=qA,U8=Pg,k8=mr;function D8(n,e,t){if(!k8(t))return!1;var r=typeof e;return(r=="number"?I8(t)&&U8(e,t.length):r=="string"&&e in t)?O8(t[e],n):!1}var Q8=D8,M8=KF,L8=Q8;function N8(n){return M8(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,o&&L8(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,s)}return e})}var R8=N8,H8=a8,$8=R8,j8=$8(function(n,e,t){H8(n,e,t)}),K8=j8;const G8=Ge(K8);function V8(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var GF=V8,z8=IF,W8=z8(Object.keys,Object),X8=W8,Y8=Eg,J8=X8,Z8=Object.prototype,q8=Z8.hasOwnProperty;function eR(n){if(!Y8(n))return J8(n);var e=[];for(var t in Object(n))q8.call(n,t)&&t!="constructor"&&e.push(t);return e}var VF=eR,tR=RF,nR=VF,rR=qA;function iR(n){return rR(n)?tR(n):nR(n)}var Og=iR,sR=el,oR=Og;function aR(n,e){return n&&sR(e,oR(e),n)}var AR=aR,lR=el,cR=dh;function hR(n,e){return n&&lR(e,cR(e),n)}var uR=hR;function dR(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}var fR=dR;function pR(){return[]}var zF=pR,gR=fR,mR=zF,vR=Object.prototype,yR=vR.propertyIsEnumerable,D2=Object.getOwnPropertySymbols,bR=D2?function(n){return n==null?[]:(n=Object(n),gR(D2(n),function(e){return yR.call(n,e)}))}:mR,Gb=bR,wR=el,CR=Gb;function BR(n,e){return wR(n,CR(n),e)}var xR=BR;function _R(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var Vb=_R,SR=Vb,ER=Rb,FR=Gb,TR=zF,PR=Object.getOwnPropertySymbols,OR=PR?function(n){for(var e=[];n;)SR(e,FR(n)),n=ER(n);return e}:TR,WF=OR,IR=el,UR=WF;function kR(n,e){return IR(n,UR(n),e)}var DR=kR,QR=Vb,MR=Hn;function LR(n,e,t){var r=e(n);return MR(n)?r:QR(r,t(n))}var XF=LR,NR=XF,RR=Gb,HR=Og;function $R(n){return NR(n,HR,RR)}var YF=$R,jR=XF,KR=WF,GR=dh;function VR(n){return jR(n,GR,KR)}var JF=VR,zR=Aa,WR=Gr,XR=zR(WR,"DataView"),YR=XR,JR=Aa,ZR=Gr,qR=JR(ZR,"Promise"),e9=qR,t9=Aa,n9=Gr,r9=t9(n9,"Set"),i9=r9,s9=Aa,o9=Gr,a9=s9(o9,"WeakMap"),A9=a9,by=YR,wy=Ob,Cy=e9,By=i9,xy=A9,ZF=Js,tl=gF,Q2="[object Map]",l9="[object Object]",M2="[object Promise]",L2="[object Set]",N2="[object WeakMap]",R2="[object DataView]",c9=tl(by),h9=tl(wy),u9=tl(Cy),d9=tl(By),f9=tl(xy),xo=ZF;(by&&xo(new by(new ArrayBuffer(1)))!=R2||wy&&xo(new wy)!=Q2||Cy&&xo(Cy.resolve())!=M2||By&&xo(new By)!=L2||xy&&xo(new xy)!=N2)&&(xo=function(n){var e=ZF(n),t=e==l9?n.constructor:void 0,r=t?tl(t):"";if(r)switch(r){case c9:return R2;case h9:return Q2;case u9:return M2;case d9:return L2;case f9:return N2}return e});var fh=xo,p9=Object.prototype,g9=p9.hasOwnProperty;function m9(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&g9.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var v9=m9,y9=Nb;function b9(n,e){var t=e?y9(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var w9=b9,C9=/\w*$/;function B9(n){var e=new n.constructor(n.source,C9.exec(n));return e.lastIndex=n.lastIndex,e}var x9=B9,H2=VA,$2=H2?H2.prototype:void 0,j2=$2?$2.valueOf:void 0;function _9(n){return j2?Object(j2.call(n)):{}}var S9=_9,E9=Nb,F9=w9,T9=x9,P9=S9,O9=PF,I9="[object Boolean]",U9="[object Date]",k9="[object Map]",D9="[object Number]",Q9="[object RegExp]",M9="[object Set]",L9="[object String]",N9="[object Symbol]",R9="[object ArrayBuffer]",H9="[object DataView]",$9="[object Float32Array]",j9="[object Float64Array]",K9="[object Int8Array]",G9="[object Int16Array]",V9="[object Int32Array]",z9="[object Uint8Array]",W9="[object Uint8ClampedArray]",X9="[object Uint16Array]",Y9="[object Uint32Array]";function J9(n,e,t){var r=n.constructor;switch(e){case R9:return E9(n);case I9:case U9:return new r(+n);case H9:return F9(n,t);case $9:case j9:case K9:case G9:case V9:case z9:case W9:case X9:case Y9:return O9(n,t);case k9:return new r;case D9:case L9:return new r(n);case Q9:return T9(n);case M9:return new r;case N9:return P9(n)}}var Z9=J9,q9=fh,e7=Vr,t7="[object Map]";function n7(n){return e7(n)&&q9(n)==t7}var r7=n7,i7=r7,s7=Fg,K2=$b,G2=K2&&K2.isMap,o7=G2?s7(G2):i7,a7=o7,A7=fh,l7=Vr,c7="[object Set]";function h7(n){return l7(n)&&A7(n)==c7}var u7=h7,d7=u7,f7=Fg,V2=$b,z2=V2&&V2.isSet,p7=z2?f7(z2):d7,g7=p7,m7=Mb,v7=GF,y7=jb,b7=AR,w7=uR,C7=FF,B7=OF,x7=xR,_7=DR,S7=YF,E7=JF,F7=fh,T7=v9,P7=Z9,O7=UF,I7=Hn,U7=uh,k7=a7,D7=mr,Q7=g7,M7=Og,L7=dh,N7=1,R7=2,H7=4,qF="[object Arguments]",$7="[object Array]",j7="[object Boolean]",K7="[object Date]",G7="[object Error]",e3="[object Function]",V7="[object GeneratorFunction]",z7="[object Map]",W7="[object Number]",t3="[object Object]",X7="[object RegExp]",Y7="[object Set]",J7="[object String]",Z7="[object Symbol]",q7="[object WeakMap]",eH="[object ArrayBuffer]",tH="[object DataView]",nH="[object Float32Array]",rH="[object Float64Array]",iH="[object Int8Array]",sH="[object Int16Array]",oH="[object Int32Array]",aH="[object Uint8Array]",AH="[object Uint8ClampedArray]",lH="[object Uint16Array]",cH="[object Uint32Array]",Je={};Je[qF]=Je[$7]=Je[eH]=Je[tH]=Je[j7]=Je[K7]=Je[nH]=Je[rH]=Je[iH]=Je[sH]=Je[oH]=Je[z7]=Je[W7]=Je[t3]=Je[X7]=Je[Y7]=Je[J7]=Je[Z7]=Je[aH]=Je[AH]=Je[lH]=Je[cH]=!0;Je[G7]=Je[e3]=Je[q7]=!1;function md(n,e,t,r,i,s){var o,a=e&N7,A=e&R7,c=e&H7;if(t&&(o=i?t(n,r,i,s):t(n)),o!==void 0)return o;if(!D7(n))return n;var l=I7(n);if(l){if(o=T7(n),!a)return B7(n,o)}else{var h=F7(n),u=h==e3||h==V7;if(U7(n))return C7(n,a);if(h==t3||h==qF||u&&!i){if(o=A||u?{}:O7(n),!a)return A?_7(n,w7(o,n)):x7(n,b7(o,n))}else{if(!Je[h])return i?n:{};o=P7(n,h,a)}}s||(s=new m7);var d=s.get(n);if(d)return d;s.set(n,o),Q7(n)?n.forEach(function(v){o.add(md(v,e,t,v,n,s))}):k7(n)&&n.forEach(function(v,m){o.set(m,md(v,e,t,m,n,s))});var p=c?A?E7:S7:A?L7:M7,f=l?void 0:p(n);return v7(f||n,function(v,m){f&&(m=v,v=n[m]),y7(o,m,md(v,e,t,m,n,s))}),o}var n3=md;function hH(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var uH=hH;function dH(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}var fH=dH,pH=Db,gH=fH;function mH(n,e){return e.length<2?n:pH(n,gH(e,0,-1))}var vH=mH,yH=YA,bH=uH,wH=vH,CH=xg;function BH(n,e){return e=yH(e,n),n=wH(n,e),n==null||delete n[CH(bH(e))]}var xH=BH,_H=MF;function SH(n){return _H(n)?void 0:n}var EH=SH,W2=VA,FH=hh,TH=Hn,X2=W2?W2.isConcatSpreadable:void 0;function PH(n){return TH(n)||FH(n)||!!(X2&&n&&n[X2])}var OH=PH,IH=Vb,UH=OH;function r3(n,e,t,r,i){var s=-1,o=n.length;for(t||(t=UH),i||(i=[]);++s<o;){var a=n[s];e>0&&t(a)?e>1?r3(a,e-1,t,r,i):IH(i,a):r||(i[i.length]=a)}return i}var kH=r3,DH=kH;function QH(n){var e=n==null?0:n.length;return e?DH(n,1):[]}var MH=QH,LH=MH,NH=$F,RH=jF;function HH(n){return RH(NH(n,void 0,LH),n+"")}var i3=HH,$H=kb,jH=n3,KH=xH,GH=YA,VH=el,zH=EH,WH=i3,XH=JF,YH=1,JH=2,ZH=4,qH=WH(function(n,e){var t={};if(n==null)return t;var r=!1;e=$H(e,function(s){return s=GH(s,n),r||(r=s.length>1),s}),VH(n,XH(n),t),r&&(t=jH(t,YH|JH|ZH,zH));for(var i=e.length;i--;)KH(t,e[i]);return t}),e$=qH;const Vi=Ge(e$);function t$(n){return n===void 0}var n$=t$;const Kl=Ge(n$);var r$="__lodash_hash_undefined__";function i$(n){return this.__data__.set(n,r$),this}var s$=i$;function o$(n){return this.__data__.has(n)}var a$=o$,A$=Ib,l$=s$,c$=a$;function uf(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new A$;++e<t;)this.add(n[e])}uf.prototype.add=uf.prototype.push=l$;uf.prototype.has=c$;var s3=uf;function h$(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var u$=h$;function d$(n,e){return n.has(e)}var o3=d$,f$=s3,p$=u$,g$=o3,m$=1,v$=2;function y$(n,e,t,r,i,s){var o=t&m$,a=n.length,A=e.length;if(a!=A&&!(o&&A>a))return!1;var c=s.get(n),l=s.get(e);if(c&&l)return c==e&&l==n;var h=-1,u=!0,d=t&v$?new f$:void 0;for(s.set(n,e),s.set(e,n);++h<a;){var p=n[h],f=e[h];if(r)var v=o?r(f,p,h,e,n,s):r(p,f,h,n,e,s);if(v!==void 0){if(v)continue;u=!1;break}if(d){if(!p$(e,function(m,y){if(!g$(d,y)&&(p===m||i(p,m,t,r,s)))return d.push(y)})){u=!1;break}}else if(!(p===f||i(p,f,t,r,s))){u=!1;break}}return s.delete(n),s.delete(e),u}var a3=y$;function b$(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}var w$=b$;function C$(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var B$=C$,Y2=VA,J2=TF,x$=ch,_$=a3,S$=w$,E$=B$,F$=1,T$=2,P$="[object Boolean]",O$="[object Date]",I$="[object Error]",U$="[object Map]",k$="[object Number]",D$="[object RegExp]",Q$="[object Set]",M$="[object String]",L$="[object Symbol]",N$="[object ArrayBuffer]",R$="[object DataView]",Z2=Y2?Y2.prototype:void 0,zm=Z2?Z2.valueOf:void 0;function H$(n,e,t,r,i,s,o){switch(t){case R$:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case N$:return!(n.byteLength!=e.byteLength||!s(new J2(n),new J2(e)));case P$:case O$:case k$:return x$(+n,+e);case I$:return n.name==e.name&&n.message==e.message;case D$:case M$:return n==e+"";case U$:var a=S$;case Q$:var A=r&F$;if(a||(a=E$),n.size!=e.size&&!A)return!1;var c=o.get(n);if(c)return c==e;r|=T$,o.set(n,e);var l=_$(a(n),a(e),r,i,s,o);return o.delete(n),l;case L$:if(zm)return zm.call(n)==zm.call(e)}return!1}var $$=H$,q2=YF,j$=1,K$=Object.prototype,G$=K$.hasOwnProperty;function V$(n,e,t,r,i,s){var o=t&j$,a=q2(n),A=a.length,c=q2(e),l=c.length;if(A!=l&&!o)return!1;for(var h=A;h--;){var u=a[h];if(!(o?u in e:G$.call(e,u)))return!1}var d=s.get(n),p=s.get(e);if(d&&p)return d==e&&p==n;var f=!0;s.set(n,e),s.set(e,n);for(var v=o;++h<A;){u=a[h];var m=n[u],y=e[u];if(r)var w=o?r(y,m,u,e,n,s):r(m,y,u,n,e,s);if(!(w===void 0?m===y||i(m,y,t,r,s):w)){f=!1;break}v||(v=u=="constructor")}if(f&&!v){var C=n.constructor,S=e.constructor;C!=S&&"constructor"in n&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(f=!1)}return s.delete(n),s.delete(e),f}var z$=V$,Wm=Mb,W$=a3,X$=$$,Y$=z$,eB=fh,tB=Hn,nB=uh,J$=Tg,Z$=1,rB="[object Arguments]",iB="[object Array]",eu="[object Object]",q$=Object.prototype,sB=q$.hasOwnProperty;function ej(n,e,t,r,i,s){var o=tB(n),a=tB(e),A=o?iB:eB(n),c=a?iB:eB(e);A=A==rB?eu:A,c=c==rB?eu:c;var l=A==eu,h=c==eu,u=A==c;if(u&&nB(n)){if(!nB(e))return!1;o=!0,l=!1}if(u&&!l)return s||(s=new Wm),o||J$(n)?W$(n,e,t,r,i,s):X$(n,e,A,t,r,i,s);if(!(t&Z$)){var d=l&&sB.call(n,"__wrapped__"),p=h&&sB.call(e,"__wrapped__");if(d||p){var f=d?n.value():n,v=p?e.value():e;return s||(s=new Wm),i(f,v,t,r,s)}}return u?(s||(s=new Wm),Y$(n,e,t,r,i,s)):!1}var tj=ej,nj=tj,oB=Vr;function A3(n,e,t,r,i){return n===e?!0:n==null||e==null||!oB(n)&&!oB(e)?n!==n&&e!==e:nj(n,e,t,r,A3,i)}var rj=A3,ij=rj;function sj(n,e){return ij(n,e)}var oj=sj;const Ut=Ge(oj);var aj=VF,Aj=fh,lj=hh,cj=Hn,hj=qA,uj=uh,dj=Eg,fj=Tg,pj="[object Map]",gj="[object Set]",mj=Object.prototype,vj=mj.hasOwnProperty;function yj(n){if(n==null)return!0;if(hj(n)&&(cj(n)||typeof n=="string"||typeof n.splice=="function"||uj(n)||fj(n)||lj(n)))return!n.length;var e=Aj(n);if(e==pj||e==gj)return!n.size;if(dj(n))return!aj(n).length;for(var t in n)if(vj.call(n,t))return!1;return!0}var bj=yj;const ni=Ge(bj);var wj=EF,Cj=Og;function Bj(n,e){return n&&wj(n,e,Cj)}var xj=Bj,_j=qA;function Sj(n,e){return function(t,r){if(t==null)return t;if(!_j(t))return n(t,r);for(var i=t.length,s=e?i:-1,o=Object(t);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return t}}var Ej=Sj,Fj=xj,Tj=Ej,Pj=Tj(Fj),Oj=Pj,Ij=Kb;function Uj(n){return typeof n=="function"?n:Ij}var l3=Uj,kj=GF,Dj=Oj,Qj=l3,Mj=Hn;function Lj(n,e){var t=Mj(n)?kj:Dj;return t(n,Qj(e))}var Nj=Lj,Rj=Nj;const Hj=Ge(Rj);function zi(n,e){n&&console.warn(`Warning: ${e}`)}function Sn(n){return n==null}let c3=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&typeof t=="function"){const i=function(){t(...arguments),r.off(e,i)};this.on(e,i)}}off(e,t){if(e)if(typeof t=="function"){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let i=-1;for(;(i=r.findIndex(s=>s===t))>-1;)r.splice(i,1)}}else Sn(t)&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return this._eventMap.has(e)?([...this._eventMap.get(e)].forEach(o=>o(...r)),!0):!1}};function ko(n){try{return n instanceof HTMLElement}catch{return typeof n=="object"&&n.nodeType===1&&typeof n.style=="object"&&typeof n.ownerDocument=="object"}}function $j(n){if(n&&typeof n=="object")return typeof n.toJSON=="function"?n.toJSON():["left","top","right","bottom","width","height"].reduce((t,r)=>(t[r]=n[r],t),{})}function xn(n){n.stopPropagation(),n.preventDefault()}function jj(n){return n.length===1&&n.match(/\S/)}function ph(n,e){for(let t=0;t<n.length;t++)n[t]===e?(n[t].tabIndex=0,n[t].focus()):n[t].tabIndex=-1}function Kj(n){n.length>0&&ph(n,n[0])}function Gj(n){n.length>0&&ph(n,n[n.length-1])}function Vj(n,e){let t,r;n.length>0&&(e===n[0]?t=n[n.length-1]:(r=n.indexOf(e),t=n[r-1]),ph(n,t))}function zj(n,e){let t,r;n.length>0&&(e===n[n.length-1]?t=n[0]:(r=n.indexOf(e),t=n[r+1]),ph(n,t))}function Wj(n,e,t,r){let i,s;return!n||!t||!r||r.length>1?-1:(r=r.toLowerCase(),i=n.indexOf(e)+1,i>=n.length&&(i=0),s=t.indexOf(r,i),s===-1&&(s=t.indexOf(r,0)),s>=0?s:-1)}function Xj(n,e){if(!n)return null;for(;n.parentElement&&le(n.parentElement,"attributes.role.value","")!==e;)n=n.parentElement;return n.parentElement}function Yj(n,e){for(let t=0;t<n.length;t++){const r=n[t].attributes["data-popupid"];if(r&&r.value===e)return n[t]}return null}const tu={TOP:/top/i,RIGHT:/right/i,BOTTOM:/bottom/i,LEFT:/left/i},ya={left:0,top:0,height:0,width:0,scrollLeft:0,scrollTop:0};let Jj=class extends Ye{constructor(e){var t;super(Object.assign({},e)),t=this,this.removePortal=()=>{this._adapter.removePortal()},this.setDisplayNone=(r,i)=>{this._adapter.setDisplayNone(r,i)},this.updateStateIfCursorOnTrigger=r=>{var i,s;if(!((i=r==null?void 0:r.matches)===null||i===void 0)&&i.call(r,":hover")){const o=this._adapter.getEventName(),a=this.getState("triggerEventSet");(s=a[o.mouseEnter])===null||s===void 0||s.call(a)}},this.onResize=()=>{this.calcPosition()},this.delayShow=()=>{const r=this.getProp("mouseEnterDelay");this.clearDelayTimer(),r>0?this._timer=setTimeout(()=>{this.show(),this.clearDelayTimer()},r):this.show()},this.show=()=>{if(this._adapter.getAnimatingState())return;const r=this.getProp("content"),i=this.getProp("trigger"),s=this.getProp("clickTriggerToHide"),{visible:o,displayNone:a}=this.getStates();if(a&&this.setDisplayNone(!1),!o){if(this.clearDelayTimer(),this._adapter.on("portalInserted",()=>{this.calcPosition()}),i==="hover"){const A=()=>{var c;const l=this._adapter.getTriggerDOM();i&&!(!((c=l==null?void 0:l.matches)===null||c===void 0)&&c.call(l,":hover"))&&this.hide(),this._adapter.off("portalInserted",A)};this._adapter.on("portalInserted",A)}this._adapter.on("positionUpdated",()=>{this._togglePortalVisible(!0)}),this._adapter.insertPortal(r,{left:-9999,top:-9999}),i==="custom"&&this._adapter.registerClickOutsideHandler(()=>{}),(i==="click"||s||i==="contextMenu")&&this._adapter.registerClickOutsideHandler(this.hide),this._bindScrollEvent(),this._bindResizeEvent()}},this.calcPosition=function(r,i,s){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;r=(ni(r)?t._adapter.getTriggerBounding():r)||Object.assign({},ya),s=(ni(s)?t._adapter.getPopupContainerRect():s)||Object.assign({},ya),i=(ni(i)?t._adapter.getWrapperBounding():i)||Object.assign({},ya);let a=t.calcPosStyle({triggerRect:r,wrapperRect:i,containerRect:s}),A=t.getProp("position");if(t.getProp("autoAdjustOverflow")){const{position:c,isHeightOverFlow:l,isWidthOverFlow:h}=t.adjustPosIfNeed(A,a,r,i,s);(A!==c||l||h)&&(A=c,a=t.calcPosStyle({triggerRect:r,wrapperRect:i,containerRect:s,position:A,spacing:null,isOverFlow:[l,h]}))}return o&&t._mounted&&t._adapter.setPosition(Object.assign(Object.assign({},a),{position:A})),a},this.delayHide=()=>{const r=this.getProp("mouseLeaveDelay");this.clearDelayTimer(),r>0?this._timer=setTimeout(()=>{this.hide(),this.clearDelayTimer()},r):this.hide()},this.hide=()=>{this.clearDelayTimer(),this._togglePortalVisible(!1),this._adapter.off("portalInserted"),this._adapter.off("positionUpdated")},this.handleContainerKeydown=r=>{const{guardFocus:i,closeOnEsc:s}=this.getProps();switch(r&&r.key){case"Escape":s&&this._handleEscKeyDown(r);break;case"Tab":if(i){const o=this._adapter.getContainer(),a=this._adapter.getFocusableElements(o);a.length&&(r.shiftKey?this._handleContainerShiftTabKeyDown(a,r):this._handleContainerTabKeyDown(a,r))}break}},this._timer=null}init(){const{wrapperId:e}=this.getProps();this._mounted=!0,this._bindEvent(),this._shouldShow(),this._initContainerPosition(),e||this._adapter.setId()}destroy(){this._mounted=!1,this.unBindEvent()}_bindEvent(){const e=this.getProp("trigger"),{triggerEventSet:t,portalEventSet:r}=this._generateEvent(e);this._bindTriggerEvent(t),this._bindPortalEvent(r),this._bindResizeEvent()}unBindEvent(){this._adapter.unregisterClickOutsideHandler(),this.unBindResizeEvent(),this.unBindScrollEvent(),clearTimeout(this._timer)}_bindTriggerEvent(e){this._adapter.registerTriggerEvent(e)}_bindPortalEvent(e){this._adapter.registerPortalEvent(e)}_bindResizeEvent(){this._adapter.registerResizeHandler(this.onResize)}unBindResizeEvent(){this._adapter.unregisterResizeHandler(this.onResize)}_adjustPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"reverse",i=arguments.length>3?arguments[3]:void 0;switch(r){case"reverse":return this._reversePos(e,t);case"expand":return this._expandPos(e,i);case"reduce":return this._reducePos(e);default:return this._reversePos(e,t)}}_reversePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1){if(tu.TOP.test(e))return e.replace("top","bottom").replace("Top","Bottom");if(tu.BOTTOM.test(e))return e.replace("bottom","top").replace("Bottom","Top")}else{if(tu.LEFT.test(e))return e.replace("left","right").replace("Left","Right");if(tu.RIGHT.test(e))return e.replace("right","left").replace("Right","Left")}return e}_expandPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.concat(t)}_reducePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=["Top","Bottom","Left","Right"].find(r=>e.endsWith(r));return t?e.replace(t,""):e}clearDelayTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}_generateEvent(e){const t=this._adapter.getEventName(),r={[t.keydown]:s=>{this._handleTriggerKeydown(s)}};let i={};switch(e){case"focus":r[t.focus]=()=>{this.delayShow()},r[t.blur]=()=>{this.delayHide()},i=r;break;case"click":r[t.click]=()=>{this.show()},i={};break;case"hover":r[t.mouseEnter]=()=>{this.setCache("isClickToHide",!1),this.delayShow()},r[t.mouseLeave]=()=>{this.delayHide()},r[t.focus]=()=>{const{disableFocusListener:s}=this.getProps();!s&&this.delayShow()},r[t.blur]=()=>{const{disableFocusListener:s}=this.getProps();!s&&this.delayHide()},i=Object.assign({},r),this.getProp("clickToHide")&&(i[t.click]=()=>{this.setCache("isClickToHide",!0),this.hide()},i[t.mouseEnter]=()=>{this.getCache("isClickToHide")||this.delayShow()});break;case"custom":break;case"contextMenu":r[t.contextMenu]=s=>{s.preventDefault(),this.show()};break}return{triggerEventSet:r,portalEventSet:i}}_shouldShow(){this.getProp("visible")&&this.show()}_togglePortalVisible(e){this.getState("visible")!==e&&this._adapter.togglePortalVisible(e,()=>{e&&this._adapter.setInitialFocus(),this._adapter.notifyVisibleChange(e)})}_roundPixel(e){return typeof e=="number"?Math.round(e):e}calcTransformOrigin(e,t,r,i){if(e&&t&&r!=null&&i!=null){if(this.getProp("transformFromCenter")){if(["topLeft","bottomLeft"].includes(e))return`${this._roundPixel(t.width/2)}px ${-i*100}%`;if(["topRight","bottomRight"].includes(e))return`calc(100% - ${this._roundPixel(t.width/2)}px) ${-i*100}%`;if(["leftTop","rightTop"].includes(e))return`${-r*100}% ${this._roundPixel(t.height/2)}px`;if(["leftBottom","rightBottom"].includes(e))return`${-r*100}% calc(100% - ${this._roundPixel(t.height/2)}px)`}return`${-r*100}% ${-i*100}%`}return null}calcPosStyle(e){var t;const{spacing:r,isOverFlow:i}=e,{innerWidth:s}=window,o=(ni(e.triggerRect)?e.triggerRect:this._adapter.getTriggerBounding())||Object.assign({},ya),a=(ni(e.containerRect)?e.containerRect:this._adapter.getPopupContainerRect())||Object.assign({},ya),A=(ni(e.wrapperRect)?e.wrapperRect:this._adapter.getWrapperBounding())||Object.assign({},ya),c=e.position!=null?e.position:this.getProp("position"),l=r??this.getProp("spacing"),{arrowPointAtCenter:h,showArrow:u,arrowBounding:d}=this.getProps(),p=u&&h;let f=l,v=0;if(typeof l!="number"){const Z=c.includes("top")||c.includes("bottom");f=Z?l.y:l.x,v=Z?l.x:l.y}const m=le(d,"width",24),y=le(d,"width",24),w=le(d,"offsetY",0),C=6,S=6;let x,E,T=0,P=0;const F=o.left+o.width/2,U=o.top+o.height/2,I=C+m/2,D=S+y/2,$=A.height-a.height,M=A.width-a.width,G=$>0?$:0,V=M>0?M:0,Q=i&&i[0],R=i&&i[1],B=F-a.left<a.right-F,O=U-a.top<a.bottom-U,k=A.width>s,L=Math.abs((A==null?void 0:A.width)-((t=this._adapter.getContainer())===null||t===void 0?void 0:t.clientWidth))>1;switch(L&&(f=f*A.width/this._adapter.getContainer().clientWidth),c){case"top":x=R?B?a.left+A.width/2:a.right-A.width/2+V:F+v,E=Q?a.bottom+G:o.top-f,T=-.5,P=-1;break;case"topLeft":x=R?k?a.left:a.right-A.width:p?F-I+v:o.left+v,E=Q?a.bottom+G:o.top-f,P=-1;break;case"topRight":x=R?a.right+V:p?F+I+v:o.right+v,E=Q?a.bottom+G:o.top-f,P=-1,T=-1;break;case"left":x=R?a.right+V-f+I:o.left-f,E=Q?O?a.top+A.height/2:a.bottom-A.height/2+G:U+v,T=-1,P=-.5;break;case"leftTop":x=R?a.right+V-f+I:o.left-f,E=Q?a.top:p?U-D+v:o.top+v,T=-1;break;case"leftBottom":x=R?a.right+V-f+I:o.left-f,E=Q?a.bottom+G:p?U+D+v:o.bottom+v,T=-1,P=-1;break;case"bottom":x=R?B?a.left+A.width/2:a.right-A.width/2+V:F+v,E=Q?a.top+D-f:o.top+o.height+f,T=-.5;break;case"bottomLeft":x=R?k?a.left:a.right-A.width:p?F-I+v:o.left+v,E=Q?a.top+D-f:o.top+o.height+f;break;case"bottomRight":x=R?a.right+V:p?F+I+v:o.right+v,E=Q?a.top+D-f:o.top+o.height+f,T=-1;break;case"right":x=R?a.left-f+I:o.right+f,E=Q?O?a.top+A.height/2:a.bottom-A.height/2+G:U+v,P=-.5;break;case"rightTop":x=R?a.left-f+I:o.right+f,E=Q?a.top:p?U-D+v:o.top+v;break;case"rightBottom":x=R?a.left-f+I:o.right+f,E=Q?a.bottom+G:p?U+D+v:o.bottom+v,P=-1;break;case"leftTopOver":x=o.left-f,E=o.top-f;break;case"rightTopOver":x=o.right+f,E=o.top-f,T=-1;break;case"leftBottomOver":x=o.left-f,E=o.bottom+f,P=-1;break;case"rightBottomOver":x=o.right+f,E=o.bottom+f,T=-1,P=-1;break}const j=this.calcTransformOrigin(c,o,T,P),K=this._adapter.containerIsBody();if(x=x-a.left,E=E-a.top,L&&(x/=A.width/this._adapter.getContainer().clientWidth),L&&(E/=A.height/this._adapter.getContainer().clientHeight),K&&!this._adapter.containerIsRelativeOrAbsolute()){const Z=this._adapter.getDocumentElementBounding();x+=a.left-Z.left,E+=a.top-Z.top}x=K?x:x+a.scrollLeft,E=K?E:E+a.scrollTop;const J=o.height;if(this.getProp("showArrow")&&!h&&J<=(y/2+w)*2){const Z=J/2-(w+y/2);(c.includes("Top")||c.includes("Bottom"))&&!c.includes("Over")&&(E=c.includes("Top")?E+Z:E-Z)}const Y={left:this._roundPixel(x),top:this._roundPixel(E)};let ie="";return T!=null&&(ie+=`translateX(${T*100}%) `,Object.defineProperty(Y,"translateX",{enumerable:!1,value:T})),P!=null&&(ie+=`translateY(${P*100}%) `,Object.defineProperty(Y,"translateY",{enumerable:!1,value:P})),j!=null&&(Y.transformOrigin=j),ie&&(Y.transform=ie),Y}isLR(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("left")||e.includes("right")}isTB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("top")||e.includes("bottom")}isReverse(e,t,r){return e<r&&t>r}isOverFlow(e,t,r){return e<r&&t<r}isHalfOverFlow(e,t,r){return e<r||t<r}isHalfAllEnough(e,t,r){return e>=r||t>=r}getReverse(e,t,r,i){return e&&i||r}adjustPosIfNeed(e,t,r,i,s){const{innerWidth:o,innerHeight:a}=window,{margin:A}=this.getProps(),c=typeof A=="number"?A:A.marginLeft,l=typeof A=="number"?A:A.marginTop,h=typeof A=="number"?A:A.marginRight,u=typeof A=="number"?A:A.marginBottom;let d=!1,p=!1;const f=this.getProp("spacing");let v=f,m=0;if(typeof f!="number"){const y=e.includes("top")||e.includes("bottom");v=y?f.y:f.x,m=y?f.x:f.y}if(i.width>0&&i.height>0){const y=r.left,w=r.right,C=r.top,S=r.bottom,x=o-y,E=a-C,T=o-w,P=a-S,F=i.width>r.width,U=i.height>r.height,I=C-l<i.height+v&&P-u>i.height+v,D=y-c<i.width+v&&T-h>i.width+v,$=P-u<i.height+v&&C-l>i.height+v,M=T-h<i.width+v&&y-c>i.width+v;E-u<i.height+v&&S-l>i.height+v,S-l<i.height+v&&E-u>i.height+v;const G=E<i.height+m&&S>i.height+m,V=S<i.height+m&&E>i.height+m,Q=x<i.width+m&&w>i.width+m,R=w<i.width+m&&x>i.width+m,B=E<i.height+v&&S>i.height+v,O=S<i.height+v&&E>i.height+v,k=x<i.width&&w>i.width,L=w<i.width&&x>i.width,j=C-s.top,K=y-s.left,J=j+r.height,Y=K+r.width,ie=s.bottom-S,Z=s.right-w,Te=ie+r.height,mn=Z+r.width,o5=this.isReverse(j-l,ie-u,i.height+v),a5=this.isReverse(K-c,Z-h,i.width+v),A5=this.isReverse(ie-u,j-l,i.height+v),l5=this.isReverse(Z-h,K-c,i.width+v);this.isReverse(Te-u,J-l,i.height+v),this.isReverse(J-l,Te-u,i.height+v);const c5=this.isReverse(Te,J,i.height+m),h5=this.isReverse(J,Te,i.height+m),u5=this.isReverse(mn,Y,i.width+m),d5=this.isReverse(Y,mn,i.width+m),Ji=r.height/2,Zi=r.width/2,am=this.isOverFlow(C-l,P-u,i.height+v),Am=this.isOverFlow(y-c,T-h,i.width+v),lm=this.isOverFlow(S-l,E-u,i.height+v),cm=this.isOverFlow(w-c,x-h,i.width+v),Xw=this.isHalfOverFlow(S-Ji,E-Ji,(i.height+m)/2),Yw=this.isHalfOverFlow(w-Zi,x-Zi,(i.width+m)/2),Ph=this.isHalfAllEnough(S-Ji,E-Ji,(i.height+m)/2),Oh=this.isHalfAllEnough(w-Zi,x-Zi,(i.width+m)/2),hm=this.isOverFlow(j-l,ie-u,i.height+v),um=this.isOverFlow(K-c,Z-h,i.width+v),dm=this.isOverFlow(J-l,Te-u,i.height+v),fm=this.isOverFlow(Y-c,mn-h,i.width+v),Jw=this.isHalfOverFlow(J-Ji,Te-Ji,(i.height+m)/2),Zw=this.isHalfOverFlow(Y-Zi,mn-Zi,(i.width+m)/2),Ih=this.isHalfAllEnough(J-Ji,Te-Ji,(i.height+m)/2),Uh=this.isHalfAllEnough(Y-Zi,mn-Zi,(i.width+m)/2),pm=this.getReverse(am,hm,I,o5),gm=this.getReverse(Am,um,D,a5),mm=this.getReverse(am,hm,$,A5),vm=this.getReverse(Am,um,M,l5),pa=this.getReverse(lm,dm,G,c5),kh=this.getReverse(lm,dm,V,h5),ga=this.getReverse(cm,fm,Q,u5),Dh=this.getReverse(cm,fm,R,d5),qw=Xw&&Jw,eC=Yw&&Zw;switch(e){case"top":pm&&(e=this._adjustPos(e,!0)),eC&&(ga||Dh)&&(e=this._adjustPos(e,!0,"expand",ga?"Right":"Left"));break;case"topLeft":pm&&(e=this._adjustPos(e,!0)),ga&&F&&(e=this._adjustPos(e)),p&&(Oh||Uh)&&(e=this._adjustPos(e,!0,"reduce"));break;case"topRight":pm&&(e=this._adjustPos(e,!0)),Dh&&F&&(e=this._adjustPos(e)),p&&(Oh||Uh)&&(e=this._adjustPos(e,!0,"reduce"));break;case"left":gm&&(e=this._adjustPos(e)),qw&&(pa||kh)&&(e=this._adjustPos(e,!1,"expand",pa?"Bottom":"Top"));break;case"leftTop":gm&&(e=this._adjustPos(e)),pa&&U&&(e=this._adjustPos(e,!0)),d&&(Ph||Ih)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftBottom":gm&&(e=this._adjustPos(e)),kh&&U&&(e=this._adjustPos(e,!0)),d&&(Ph||Ih)&&(e=this._adjustPos(e,!1,"reduce"));break;case"bottom":mm&&(e=this._adjustPos(e,!0)),eC&&(ga||Dh)&&(e=this._adjustPos(e,!0,"expand",ga?"Right":"Left"));break;case"bottomLeft":mm&&(e=this._adjustPos(e,!0)),ga&&F&&(e=this._adjustPos(e)),p&&(Oh||Uh)&&(e=this._adjustPos(e,!0,"reduce"));break;case"bottomRight":mm&&(e=this._adjustPos(e,!0)),Dh&&F&&(e=this._adjustPos(e)),p&&(Oh||Uh)&&(e=this._adjustPos(e,!0,"reduce"));break;case"right":vm&&(e=this._adjustPos(e)),qw&&(pa||kh)&&(e=this._adjustPos(e,!1,"expand",pa?"Bottom":"Top"));break;case"rightTop":vm&&(e=this._adjustPos(e)),pa&&U&&(e=this._adjustPos(e,!0)),d&&(Ph||Ih)&&(e=this._adjustPos(e,!1,"reduce"));break;case"rightBottom":vm&&(e=this._adjustPos(e)),kh&&U&&(e=this._adjustPos(e,!0)),d&&(Ph||Ih)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftTopOver":B&&(e=this._adjustPos(e,!0)),k&&(e=this._adjustPos(e));break;case"leftBottomOver":O&&(e=this._adjustPos(e,!0)),k&&(e=this._adjustPos(e));break;case"rightTopOver":B&&(e=this._adjustPos(e,!0)),L&&(e=this._adjustPos(e));break;case"rightBottomOver":O&&(e=this._adjustPos(e,!0)),L&&(e=this._adjustPos(e));break}this.isTB(e)&&(d=am&&hm,e==="top"||e==="bottom"?p=Yw&&Zw||w<0||T<0:p=cm&&fm||w<0||T<0),this.isLR(e)&&(p=Am&&um,e==="left"||e==="right"?d=Xw&&Jw||C<0||E<0:d=lm&&dm||C<0||E<0)}return{position:e,isHeightOverFlow:d,isWidthOverFlow:p}}_bindScrollEvent(){this._adapter.registerScrollHandler(()=>this.calcPosition())}unBindScrollEvent(){this._adapter.unregisterScrollHandler()}_initContainerPosition(){this._adapter.updateContainerPosition()}_handleTriggerKeydown(e){const{closeOnEsc:t,disableArrowKeyDown:r}=this.getProps(),i=this._adapter.getContainer(),s=this._adapter.getFocusableElements(i),o=s.length;switch(e&&e.key){case"Escape":xn(e),t&&this._handleEscKeyDown(e);break;case"ArrowUp":!r&&o&&this._handleTriggerArrowUpKeydown(s,e);break;case"ArrowDown":!r&&o&&this._handleTriggerArrowDownKeydown(s,e);break}}focusTrigger(){const{trigger:e,returnFocusOnClose:t,preventScroll:r}=this.getProps();if(t&&e!=="custom"){const i=this._adapter.getTriggerNode();i&&"focus"in i&&i.focus({preventScroll:r})}}_handleEscKeyDown(e){const{trigger:t}=this.getProps();t!=="custom"&&(this.focusTrigger(),this.hide()),this._adapter.notifyEscKeydown(e)}_handleContainerTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),i=this._adapter.getActiveElement();e[e.length-1]===i&&(e[0].focus({preventScroll:r}),t.preventDefault())}_handleContainerShiftTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),i=this._adapter.getActiveElement();e[0]===i&&(e[e.length-1].focus({preventScroll:r}),t.preventDefault())}_handleTriggerArrowDownKeydown(e,t){const{preventScroll:r}=this.getProps();e[0].focus({preventScroll:r}),t.preventDefault()}_handleTriggerArrowUpKeydown(e,t){const{preventScroll:r}=this.getProps();e[e.length-1].focus({preventScroll:r}),t.preventDefault()}};const Zj={PREFIX:`${re}-tooltip`},Ro={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver","leftBottomOver","rightBottomOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],STATUS_DISABLED:"disabled",STATUS_LOADING:"loading"},bs={ARROW_BOUNDING:{offsetX:0,offsetY:2,width:24,height:7},DEFAULT_Z_INDEX:1060,MOUSE_ENTER_DELAY:50,MOUSE_LEAVE_DELAY:50,SPACING:8,MARGIN:0};function df(n){return`${n}-${new Date().getTime()}-${Math.random()}`}function qj(){var n,e;try{return(e=(n=crypto==null?void 0:crypto.randomUUID)===null||n===void 0?void 0:n.call(crypto))!==null&&e!==void 0?e:String(9987e3+-1e11).replace(/[018]/g,t=>(Number(t)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(t)/4).toString(16))}catch{return df("semi")}}function ff(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefix:e="",length:t=7}=n,r="0123456789abcdefghijklmnopqrstuvwxyz",i=r.length;let s="";for(let o=0;o<t;o++){const a=Math.floor(Math.random()*i);s+=r.charAt(a)}return e?`${e}-${s}`:s}var eK=jb,tK=YA,nK=Pg,aB=mr,rK=xg;function iK(n,e,t,r){if(!aB(n))return n;e=tK(e,n);for(var i=-1,s=e.length,o=s-1,a=n;a!=null&&++i<s;){var A=rK(e[i]),c=t;if(A==="__proto__"||A==="constructor"||A==="prototype")return n;if(i!=o){var l=a[A];c=r?r(l,A,a):void 0,c===void 0&&(c=aB(l)?l:nK(e[i+1])?[]:{})}eK(a,A,c),a=a[A]}return n}var h3=iK,sK=h3;function oK(n,e,t){return n==null?n:sK(n,e,t)}var aK=oK;const u3=Ge(aK);var AK=n3,lK=1,cK=4;function hK(n,e){return e=typeof e=="function"?e:void 0,AK(n,lK|cK,e)}var uK=hK;const dK=Ge(uK),fK=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),pK=n=>{let{autoEscape:e,caseSensitive:t,searchWords:r,sourceString:i}=n;return r.filter(s=>s).reduce((s,o)=>{e&&(o=fK(o));const a=new RegExp(o,t?"g":"gi");let A;for(;A=a.exec(i);){const c=A.index,l=a.lastIndex;l>c&&s.push({highlight:!1,start:c,end:l}),A.index===a.lastIndex&&a.lastIndex++}return s},[])},gK=n=>{let{chunks:e}=n;return e=e.sort((t,r)=>t.start-r.start).reduce((t,r)=>{if(t.length===0)return[r];{const i=t.pop();if(r.start<=i.end){const s=Math.max(i.end,r.end);t.push({highlight:!1,start:i.start,end:s})}else t.push(i,r);return t}},[]),e},mK=n=>{let{chunksToHighlight:e,totalLength:t}=n;const r=[],i=(s,o,a)=>{o-s>0&&r.push({start:s,end:o,highlight:a})};if(e.length===0)i(0,t,!1);else{let s=0;e.forEach(o=>{i(s,o.start,!1),i(o.start,o.end,!0),s=o.end}),i(s,t,!1)}return r},vK=n=>{let{autoEscape:e=!0,caseSensitive:t=!1,searchWords:r,sourceString:i}=n;Ft(r)&&(r=[r]);const s=pK({autoEscape:e,caseSensitive:t,searchWords:r,sourceString:i}),o=gK({chunks:s});return mK({chunksToHighlight:o,totalLength:i?i.length:0})};class yK{constructor(){this.config={}}}const Xm=new yK;var AB=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(h){o(h)}}function A(l){try{c(r.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,A)}c((r=r.apply(n,e||[])).next())})};function nu(n,e){n&&typeof n.stopPropagation=="function"&&n.stopPropagation(),n.nativeEvent&&typeof n.nativeEvent.stopImmediatePropagation=="function"&&n.nativeEvent.stopImmediatePropagation()}function bK(n,e){return dK(n,t=>{if(typeof e=="function")return e(t);if(typeof t=="function"||b.isValidElement(t)||Object.prototype.toString.call(t)==="[object Error]")return t;if(Array.isArray(t)&&t.length===0){const r=Object.keys(t);if(r.length){const i=[];r.forEach(s=>{u3(i,s,t[s])});try{zi(le(process,"env.NODE_ENV")!=="production",`[Semi] You may use an out-of-bounds array. In some cases, your program may not behave as expected.
                    The maximum length of an array is 4294967295.
                    Please check whether the array subscript in your data exceeds the maximum value of the JS array subscript`)}catch{}return i}else return}})}const wK=n=>{let{sourceString:e="",searchWords:t=[],option:r={autoEscape:!0,caseSensitive:!1}}=n;const i=vK(Object.assign({sourceString:e,searchWords:t},r)),s=r.highlightTag||"mark",o=r.highlightClassName||"",a=r.highlightStyle||{};return i.map((A,c)=>{const{end:l,start:h,highlight:u}=A,d=e.substr(h,l-h);return u?b.createElement(s,{style:a,className:o,key:d+c},d):d})},d3=(n,e)=>{let{match:t,unmatch:r,callInInit:i=!0}=e;if(typeof window<"u"){let o=function(a){a.matches?t&&t(a):r&&r(a)};const s=window.matchMedia(n);return i&&o(s),Object.prototype.hasOwnProperty.call(s,"addEventListener")?(s.addEventListener("change",o),()=>s.removeEventListener("change",o)):(s.addListener(o),()=>s.removeListener(o))}return()=>{}},kr=n=>b.isValidElement(n)&&le(n.type,"elementType")==="Icon";function f3(){return document?document.activeElement:null}function p3(n){if(!ko(n))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(n.querySelectorAll(t))}function zb(n,e){return AB(this,void 0,void 0,function*(){if(e===0){yield n();return}else{yield new Promise(t=>{setTimeout(()=>AB(this,void 0,void 0,function*(){yield zb(n,e-1),t()}),0)});return}})}function CK(){return globalThis&&Object.prototype.toString.call(globalThis)==="[object Window]"?window.innerWidth-document.documentElement.clientWidth:0}function nr(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=()=>{var r,i;return((i=(r=Xm==null?void 0:Xm.config)===null||r===void 0?void 0:r.overrideDefaultProps)===null||i===void 0?void 0:i[n])||{}};return new Proxy(Object.assign({},e),{get(r,i,s){const o=t();return i in o?o[i]:Reflect.get(r,i,s)},set(r,i,s,o){return Reflect.set(r,i,s,o)},ownKeys(){const r=t();return Array.from(new Set([...Reflect.ownKeys(e),...Object.keys(r)]))},getOwnPropertyDescriptor(r,i){const s=t();return i in s?Reflect.getOwnPropertyDescriptor(s,i):Reflect.getOwnPropertyDescriptor(r,i)}})}const Zs=b.createContext({}),BK=()=>document.body;class gh extends H.PureComponent{constructor(e,t){var r;super(e),r=this,this.initContainer=function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var o,a;try{let A;if(!r.el||!(!((o=r.state)===null||o===void 0)&&o.container)||!Array.from(r.state.container.childNodes).includes(r.el)){r.el=document.createElement("div");const l=(r.props.getPopupContainer||i.getPopupContainer||BK)();return l.appendChild(r.el),r.addStyle(r.props.style),r.addClass(r.props.prefixCls,i,r.props.className),A=l,A}}catch(A){if(!s)throw A}return(a=r.state)===null||a===void 0?void 0:a.container},this.addStyle=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(r.el)for(const s of Object.keys(i))r.el.style[s]=i[s]},this.addClass=function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.context;const{direction:o}=s;for(var a=arguments.length,A=new Array(a>2?a-2:0),c=2;c<a;c++)A[c-2]=arguments[c];const l=N(i,...A,{[`${i}-rtl`]:o==="rtl"});r.el&&(r.el.className=l)},this.state={container:this.initContainer(t,!0)}}componentDidMount(){const e=this.initContainer(this.context);e!==this.state.container&&this.setState({container:e})}componentDidUpdate(e){const{didUpdate:t}=this.props;t&&t(e)}componentWillUnmount(){const{container:e}=this.state;e&&e.removeChild(this.el)}render(){const{state:e,props:t}=this;return e.container?lh.createPortal(t.children,this.el):null}}gh.contextType=Zs;gh.defaultProps={prefixCls:`${re}-portal`};gh.propTypes={children:g.node,prefixCls:g.string,getPopupContainer:g.func,className:g.string,didUpdate:g.func};var xK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const _K=n=>{const{className:e,style:t}=n,r=xK(n,["className","style"]);return b.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},r,{width:"24",height:"7",viewBox:"0 0 24 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}),b.createElement("path",{d:"M24 0V1C20 1 18.5 2 16.5 4C14.5 6 14 7 12 7C10 7 9.5 6 7.5 4C5.5 2 4 1 0 1V0H24Z"}))};var SK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const EK=n=>{const{className:e,style:t}=n,r=SK(n,["className","style"]);return b.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},r,{width:"7",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"}),b.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z"}))},FK=g.shape({offsetX:g.number,offsetY:g.number,width:g.number,height:g.number});class Zo extends b.Component{constructor(e){super(e),this.handleAnimationStart=()=>{var t,r;(r=(t=this.props).onAnimationStart)===null||r===void 0||r.call(t)},this.handleAnimationEnd=()=>{this.setState({currentClassName:this.props.endClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!1},()=>{var t,r;(r=(t=this.props).onAnimationEnd)===null||r===void 0||r.call(t,!1)})},this.state={currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0}}componentDidMount(){var e,t,r,i;(t=(e=this.props).onAnimationStart)===null||t===void 0||t.call(e),this.props.motion||((i=(r=this.props).onAnimationEnd)===null||i===void 0||i.call(r,!1),this.setState({isAnimating:!1}))}componentDidUpdate(e,t,r){const i=Object.keys(this.props).filter(s=>!Ut(this.props[s],e[s]));i.includes("animationState"),(i.includes("startClassName")||i.includes("replayKey")||i.includes("motion"))&&this.setState({currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0},()=>{var s,o,a,A;(o=(s=this.props).onAnimationStart)===null||o===void 0||o.call(s),this.props.motion||((A=(a=this.props).onAnimationEnd)===null||A===void 0||A.call(a,this.state.isAnimating),this.setState({isAnimating:!1}))})}render(){var e;return this.props.motion?this.props.children({animationClassName:(e=this.state.currentClassName)!==null&&e!==void 0?e:"",animationStyle:this.state.extraStyle,animationEventsNeedBind:{onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},isAnimating:this.state.isAnimating}):this.props.children({animationClassName:"",animationStyle:{},animationEventsNeedBind:{},isAnimating:this.state.isAnimating})}}Zo.defaultProps={motion:!0,replayKey:""};var lB=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const vd=Zj.PREFIX,TK=Ro.POSITION_SET,PK=Ro.TRIGGER_SET,OK=["flex","block","table","flow-root","grid"],IK=()=>document.body;class It extends Ie{constructor(e){super(e),this.isAnimating=!1,this.setContainerEl=t=>this.containerEl={current:t},this.isSpecial=t=>{if(ko(t))return!!t.disabled;if(H.isValidElement(t)){if(le(t,"props.disabled"))return Ro.STATUS_DISABLED;const i=le(t,"props.loading"),s=!ni(t)&&!ni(t.type)&&(le(t,"type.elementType")==="Button"||le(t,"type.elementType")==="IconButton");if(i&&s)return Ro.STATUS_LOADING}return!1},this.didLeave=()=>{this.props.keepDOM?this.foundation.setDisplayNone(!0):this.foundation.removePortal(),this.foundation.unBindEvent()},this.renderIcon=()=>{const{placement:t}=this.state,{showArrow:r,prefixCls:i,style:s}=this.props;let o=null;const a=N([`${i}-icon-arrow`]),A=le(s,"backgroundColor"),c=t!=null&&t.includes("left")||t!=null&&t.includes("right")?b.createElement(EK,null):b.createElement(_K,null);return r&&(H.isValidElement(r)?o=r:o=b.cloneElement(c,{className:a,style:{color:A,fill:"currentColor"}})),o},this.handlePortalInnerClick=t=>{this.props.clickToHide&&this.foundation.hide(),this.props.stopPropagation&&nu(t)},this.handlePortalMouseDown=t=>{this.props.stopPropagation&&nu(t)},this.handlePortalFocus=t=>{this.props.stopPropagation&&nu(t)},this.handlePortalBlur=t=>{this.props.stopPropagation&&nu(t)},this.handlePortalInnerKeyDown=t=>{this.foundation.handleContainerKeydown(t)},this.renderContentNode=t=>{const r={initialFocusRef:this.initialFocusRef};return un(t)?t(r):t},this.renderPortal=()=>{const{containerStyle:t={},visible:r,portalEventSet:i,placement:s,displayNone:o,transitionState:a,id:A,isPositionUpdated:c}=this.state,{prefixCls:l,content:h,showArrow:u,style:d,motion:p,role:f,zIndex:v}=this.props,m=this.renderContentNode(h),{className:y}=this.props,w=this.context.direction,C=N(y,{[`${l}-wrapper`]:!0,[`${l}-wrapper-show`]:r,[`${l}-with-arrow`]:!!u,[`${l}-rtl`]:w==="rtl"}),S=this.renderIcon(),x=Vi(t,p?["transformOrigin"]:void 0),E=le(t,"transformOrigin"),T=le(d,"opacity",null),P=T||1,F=b.createElement(Zo,{fillMode:"forwards",animationState:a,motion:p&&c,startClassName:a==="enter"?`${vd}-animation-show`:`${vd}-animation-hide`,onAnimationStart:()=>this.isAnimating=!0,onAnimationEnd:()=>{var U,I;a==="leave"&&(this.didLeave(),(I=(U=this.props).afterClose)===null||I===void 0||I.call(U)),this.isAnimating=!1}},U=>{let{animationStyle:I,animationClassName:D,animationEventsNeedBind:$}=U;return b.createElement("div",Object.assign({className:N(C,D),style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},I),o?{display:"none"}:{}),{transformOrigin:E}),d),T?{opacity:c?P:"0"}:{})},i,$,{role:f,"x-placement":s,id:A}),b.createElement("div",{className:`${vd}-content`},m),S)});return b.createElement(gh,{getPopupContainer:this.props.getPopupContainer,style:{zIndex:v}},b.createElement("div",{tabIndex:-1,className:`${re}-portal-inner`,style:x,ref:this.setContainerEl,onClick:this.handlePortalInnerClick,onFocus:this.handlePortalFocus,onBlur:this.handlePortalBlur,onMouseDown:this.handlePortalMouseDown,onKeyDown:this.handlePortalInnerKeyDown},F))},this.wrapSpan=t=>{const{wrapperClassName:r}=this.props,i=le(t,"props.style.display"),s=le(t,"props.block"),o=typeof t=="string",a={};return o||(a.display="inline-block"),(s||OK.includes(i))&&(a.width="100%"),b.createElement("span",{className:r,style:a},t)},this.mergeEvents=(t,r)=>{const i={};return Hj(r,(s,o)=>{typeof s=="function"&&(i[o]=function(){s(...arguments),t&&typeof t[o]=="function"&&t[o](...arguments)})}),i},this.getPopupId=()=>this.state.id,this.state={visible:!1,transitionState:"",triggerEventSet:{},portalEventSet:{},containerStyle:{},isInsert:!1,placement:e.position||"top",transitionStyle:{},isPositionUpdated:!1,id:e.wrapperId,displayNone:!1},this.foundation=new Jj(this.adapter),this.eventManager=new c3,this.triggerEl=b.createRef(),this.containerEl=b.createRef(),this.initialFocusRef=b.createRef(),this.clickOutsideHandler=null,this.resizeHandler=null,this.isWrapped=!1,this.containerPosition=void 0}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{on:function(){return e.eventManager.on(...arguments)},off:function(){return e.eventManager.off(...arguments)},getAnimatingState:()=>this.isAnimating,insertPortal:(t,r)=>{var i=lB(r,["position"]);this.setState({isInsert:!0,transitionState:"enter",containerStyle:Object.assign(Object.assign({},this.state.containerStyle),i)},()=>{setTimeout(()=>{this.eventManager.emit("portalInserted")},0)})},removePortal:()=>{this.setState({isInsert:!1,isPositionUpdated:!1})},getEventName:()=>({mouseEnter:"onMouseEnter",mouseLeave:"onMouseLeave",mouseOut:"onMouseOut",mouseOver:"onMouseOver",click:"onClick",focus:"onFocus",blur:"onBlur",keydown:"onKeyDown",contextMenu:"onContextMenu"}),registerTriggerEvent:t=>{this.setState({triggerEventSet:t})},registerPortalEvent:t=>{this.setState({portalEventSet:t})},getTriggerBounding:()=>{const t=this.adapter.getTriggerNode();return this.triggerEl.current=t,t&&t.getBoundingClientRect()},getPopupContainerRect:()=>{const t=this.getPopupContainer();let r=null;if(t&&ko(t)){const i=$j(t.getBoundingClientRect());r=Object.assign(Object.assign({},i),{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop})}return r},containerIsBody:()=>this.getPopupContainer()===document.body,containerIsRelative:()=>{const t=this.getPopupContainer();return window.getComputedStyle(t).getPropertyValue("position")==="relative"},containerIsRelativeOrAbsolute:()=>["relative","absolute"].includes(this.containerPosition),getWrapperBounding:()=>{const t=this.containerEl&&this.containerEl.current;return t&&t.getBoundingClientRect()},getDocumentElementBounding:()=>document.documentElement.getBoundingClientRect(),setPosition:t=>{var{position:r}=t,i=lB(t,["position"]);this.setState({containerStyle:Object.assign(Object.assign({},this.state.containerStyle),i),placement:r,isPositionUpdated:!0},()=>{this.eventManager.emit("positionUpdated")})},setDisplayNone:(t,r)=>{this.setState({displayNone:t},r)},updatePlacementAttr:t=>{this.setState({placement:t})},togglePortalVisible:(t,r)=>{const i={};i.transitionState=t?"enter":"leave",i.visible=t,this.mounted&&this.setState(i,()=>{r()})},registerClickOutsideHandler:t=>{this.clickOutsideHandler&&this.adapter.unregisterClickOutsideHandler(),this.clickOutsideHandler=r=>{if(!this.mounted)return!1;let i=this.triggerEl&&this.triggerEl.current,s=this.containerEl&&this.containerEl.current;i=Dr.findDOMNode(i),s=Dr.findDOMNode(s);const o=r.target,a=r.composedPath&&r.composedPath()||[o],A=this.props.clickTriggerToHide?i&&i.contains(o)||a.includes(i):!1;(i&&!i.contains(o)&&s&&!s.contains(o)&&!(a.includes(s)||a.includes(i))||A)&&(this.props.onClickOutSide(r),t())},window.addEventListener("mousedown",this.clickOutsideHandler)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(window.removeEventListener("mousedown",this.clickOutsideHandler),this.clickOutsideHandler=null)},registerResizeHandler:t=>{this.resizeHandler&&this.adapter.unregisterResizeHandler(),this.resizeHandler=C2(r=>{if(!this.mounted)return!1;t(r)},10),window.addEventListener("resize",this.resizeHandler,!1)},unregisterResizeHandler:()=>{this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler,!1),this.resizeHandler=null)},notifyVisibleChange:t=>{this.props.onVisibleChange(t)},registerScrollHandler:t=>{this.scrollHandler&&this.adapter.unregisterScrollHandler(),this.scrollHandler=C2(r=>{if(!this.mounted)return!1;const i=this.adapter.getTriggerNode();if(r.target.contains(i)){const o={x:r.target.scrollLeft,y:r.target.scrollTop};t(o)}},10),window.addEventListener("scroll",this.scrollHandler,!0)},unregisterScrollHandler:()=>{this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler,!0),this.scrollHandler=null)},canMotion:()=>!!this.props.motion,updateContainerPosition:()=>{const t=this.getPopupContainer();if(t&&ko(t)){const i=window.getComputedStyle(t).getPropertyValue("position");this.containerPosition=i}},getContainerPosition:()=>this.containerPosition,getContainer:()=>this.containerEl&&this.containerEl.current,getTriggerNode:()=>{let t=this.triggerEl.current;return ko(this.triggerEl.current)||(t=Dr.findDOMNode(this.triggerEl.current)),t},getFocusableElements:t=>p3(t),getActiveElement:()=>f3(),setInitialFocus:()=>{const{preventScroll:t}=this.props,r=le(this,"initialFocusRef.current");r&&"focus"in r&&r.focus({preventScroll:t})},notifyEscKeydown:t=>{this.props.onEscKeyDown(t)},setId:()=>{this.setState({id:ff()})},getTriggerDOM:()=>this.triggerEl.current?Dr.findDOMNode(this.triggerEl.current):null})}componentDidMount(){this.mounted=!0,this.getPopupContainer=this.props.getPopupContainer||this.context.getPopupContainer||IK,this.foundation.init(),zb(()=>{let e=this.triggerEl.current;e&&(e instanceof HTMLElement||(e=lh.findDOMNode(e))),this.foundation.updateStateIfCursorOnTrigger(e)},1)}componentWillUnmount(){this.mounted=!1,this.foundation.destroy()}focusTrigger(){this.foundation.focusTrigger()}rePosition(){return this.foundation.calcPosition()}componentDidUpdate(e,t){zi(this.props.mouseLeaveDelay<this.props.mouseEnterDelay,"[Semi Tooltip] 'mouseLeaveDelay' cannot be less than 'mouseEnterDelay', which may cause the dropdown layer to not be hidden."),e.visible!==this.props.visible&&(["hover","focus"].includes(this.props.trigger)?this.props.visible?this.foundation.delayShow():this.foundation.delayHide():this.props.visible?this.foundation.show():this.foundation.hide()),Ut(e.rePosKey,this.props.rePosKey)||this.rePosition()}render(){const{isInsert:e,triggerEventSet:t,visible:r,id:i}=this.state,{wrapWhenSpecial:s,role:o,trigger:a}=this.props;let{children:A}=this.props;const c=Object.assign({},le(A,"props.style")),l={};if(s){const d=this.isSpecial(A);d?(c.pointerEvents="none",d===Ro.STATUS_DISABLED&&(l.cursor="not-allowed"),A=H.cloneElement(A,{style:c}),a!=="custom"&&(A=this.wrapSpan(A)),this.isWrapped=!0):H.isValidElement(A)||(A=this.wrapSpan(A),this.isWrapped=!0)}let h={};o==="dialog"?(h["aria-expanded"]=r?"true":"false",h["aria-haspopup"]="dialog",h["aria-controls"]=i):h["aria-describedby"]=i;const u=b.cloneElement(A,Object.assign(Object.assign(Object.assign(Object.assign({},h),A.props),this.mergeEvents(A.props,t)),{style:Object.assign(Object.assign({},le(A,"props.style")),l),className:N(le(A,"props.className")),ref:d=>{this.triggerEl.current=d;const{ref:p}=A;typeof p=="function"?p(d):p&&typeof p=="object"&&(p.current=d)},tabIndex:A.props.tabIndex||0,"data-popupid":i}));return b.createElement(b.Fragment,null,e?this.renderPortal():null,u)}}It.contextType=Zs;It.propTypes={children:g.node,motion:g.bool,autoAdjustOverflow:g.bool,position:g.oneOf(TK),getPopupContainer:g.func,mouseEnterDelay:g.number,mouseLeaveDelay:g.number,trigger:g.oneOf(PK).isRequired,className:g.string,wrapperClassName:g.string,clickToHide:g.bool,clickTriggerToHide:g.bool,visible:g.bool,style:g.object,content:g.oneOfType([g.node,g.func]),prefixCls:g.string,onVisibleChange:g.func,onClickOutSide:g.func,spacing:g.oneOfType([g.number,g.object]),margin:g.oneOfType([g.number,g.object]),showArrow:g.oneOfType([g.bool,g.node]),zIndex:g.number,rePosKey:g.oneOfType([g.string,g.number]),arrowBounding:FK,transformFromCenter:g.bool,arrowPointAtCenter:g.bool,stopPropagation:g.bool,role:g.string,wrapWhenSpecial:g.bool,guardFocus:g.bool,returnFocusOnClose:g.bool,preventScroll:g.bool,keepDOM:g.bool};It.__SemiComponentName__="Tooltip";It.defaultProps=nr(It.__SemiComponentName__,{arrowBounding:bs.ARROW_BOUNDING,autoAdjustOverflow:!0,arrowPointAtCenter:!0,trigger:"hover",transformFromCenter:!0,position:"top",prefixCls:vd,role:"tooltip",mouseEnterDelay:bs.MOUSE_ENTER_DELAY,mouseLeaveDelay:bs.MOUSE_LEAVE_DELAY,motion:!0,onVisibleChange:X,onClickOutSide:X,spacing:bs.SPACING,margin:bs.MARGIN,showArrow:!0,wrapWhenSpecial:!0,zIndex:bs.DEFAULT_Z_INDEX,closeOnEsc:!1,guardFocus:!1,returnFocusOnClose:!1,onEscKeyDown:X,disableFocusListener:!1,disableArrowKeyDown:!1,keepDOM:!1});var Wb={exports:{}};const g3=(n,{target:e=document.body}={})=>{const t=document.createElement("textarea"),r=document.activeElement;t.value=n,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const i=document.getSelection();let s=!1;i.rangeCount>0&&(s=i.getRangeAt(0)),e.append(t),t.select(),t.selectionStart=0,t.selectionEnd=n.length;let o=!1;try{o=document.execCommand("copy")}catch{}return t.remove(),s&&(i.removeAllRanges(),i.addRange(s)),r&&r.focus(),o};Wb.exports=g3;Wb.exports.default=g3;var UK=Wb.exports;const kK=Ge(UK);function Wn(){}const m3=b.createContext(null);function Li(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth,r=n.formats[t]||n.formats[n.defaultWidth];return r}}function Cn(n){return function(e,t){var r=t!=null&&t.context?String(t.context):"standalone",i;if(r==="formatting"&&n.formattingValues){var s=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):s;i=n.formattingValues[o]||n.formattingValues[s]}else{var a=n.defaultWidth,A=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[A]||n.values[a]}var c=n.argumentCallback?n.argumentCallback(e):e;return i[c]}}function Bn(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],A=Array.isArray(a)?QK(a,function(h){return h.test(o)}):DK(a,function(h){return h.test(o)}),c;c=n.valueCallback?n.valueCallback(A):A,c=t.valueCallback?t.valueCallback(c):c;var l=e.slice(o.length);return{value:c,rest:l}}}function DK(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function QK(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}function Xb(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(n.matchPattern);if(!r)return null;var i=r[0],s=e.match(n.parsePattern);if(!s)return null;var o=n.valueCallback?n.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}function _y(n){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(n)}function MK(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Yb(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function LK(n){Yb(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||_y(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var NK={};function RK(){return NK}function cB(n,e){var t,r,i,s,o,a,A,c;Yb(1,arguments);var l=RK(),h=MK((t=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:l.weekStartsOn)!==null&&r!==void 0?r:(A=l.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&t!==void 0?t:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=LK(n),d=u.getUTCDay(),p=(d<h?7:0)+d-h;return u.setUTCDate(u.getUTCDate()-p),u.setUTCHours(0,0,0,0),u}var HK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$K=function(e,t,r){var i,s=HK[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i},jK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},GK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VK={date:Li({formats:jK,defaultWidth:"full"}),time:Li({formats:KK,defaultWidth:"full"}),dateTime:Li({formats:GK,defaultWidth:"full"})},zK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WK=function(e,t,r,i){return zK[e]},XK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ZK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tG=function(e,t){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},nG={ordinalNumber:tG,era:Cn({values:XK,defaultWidth:"wide"}),quarter:Cn({values:YK,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Cn({values:JK,defaultWidth:"wide"}),day:Cn({values:ZK,defaultWidth:"wide"}),dayPeriod:Cn({values:qK,defaultWidth:"wide",formattingValues:eG,defaultFormattingWidth:"wide"})},rG=/^(\d+)(th|st|nd|rd)?/i,iG=/\d+/i,sG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oG={any:[/^b/i,/^(a|c)/i]},aG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AG={any:[/1/i,/2/i,/3/i,/4/i]},lG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pG={ordinalNumber:Xb({matchPattern:rG,parsePattern:iG,valueCallback:function(e){return parseInt(e,10)}}),era:Bn({matchPatterns:sG,defaultMatchWidth:"wide",parsePatterns:oG,defaultParseWidth:"any"}),quarter:Bn({matchPatterns:aG,defaultMatchWidth:"wide",parsePatterns:AG,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Bn({matchPatterns:lG,defaultMatchWidth:"wide",parsePatterns:cG,defaultParseWidth:"any"}),day:Bn({matchPatterns:hG,defaultMatchWidth:"wide",parsePatterns:uG,defaultParseWidth:"any"}),dayPeriod:Bn({matchPatterns:dG,defaultMatchWidth:"any",parsePatterns:fG,defaultParseWidth:"any"})},gG={code:"en-US",formatDistance:$K,formatLong:VK,formatRelative:WK,localize:nG,match:pG,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hB(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Sy(n,e){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Sy(n,e)}function mG(n,e,t){Yb(2,arguments);var r=cB(n,t),i=cB(e,t);return r.getTime()===i.getTime()}var vG={lessThanXSeconds:{one:"1秒未満",other:"{{count}}秒未満",oneWithSuffix:"約1秒",otherWithSuffix:"約{{count}}秒"},xSeconds:{one:"1秒",other:"{{count}}秒"},halfAMinute:"30秒",lessThanXMinutes:{one:"1分未満",other:"{{count}}分未満",oneWithSuffix:"約1分",otherWithSuffix:"約{{count}}分"},xMinutes:{one:"1分",other:"{{count}}分"},aboutXHours:{one:"約1時間",other:"約{{count}}時間"},xHours:{one:"1時間",other:"{{count}}時間"},xDays:{one:"1日",other:"{{count}}日"},aboutXWeeks:{one:"約1週間",other:"約{{count}}週間"},xWeeks:{one:"1週間",other:"{{count}}週間"},aboutXMonths:{one:"約1か月",other:"約{{count}}か月"},xMonths:{one:"1か月",other:"{{count}}か月"},aboutXYears:{one:"約1年",other:"約{{count}}年"},xYears:{one:"1年",other:"{{count}}年"},overXYears:{one:"1年以上",other:"{{count}}年以上"},almostXYears:{one:"1年近く",other:"{{count}}年近く"}},yG=function(e,t,r){r=r||{};var i,s=vG[e];return typeof s=="string"?i=s:t===1?r.addSuffix&&s.oneWithSuffix?i=s.oneWithSuffix:i=s.one:r.addSuffix&&s.otherWithSuffix?i=s.otherWithSuffix.replace("{{count}}",String(t)):i=s.other.replace("{{count}}",String(t)),r.addSuffix?r.comparison&&r.comparison>0?i+"後":i+"前":i},bG={full:"y年M月d日EEEE",long:"y年M月d日",medium:"y/MM/dd",short:"y/MM/dd"},wG={full:"H時mm分ss秒 zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},CG={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},BG={date:Li({formats:bG,defaultWidth:"full"}),time:Li({formats:wG,defaultWidth:"full"}),dateTime:Li({formats:CG,defaultWidth:"full"})},xG={lastWeek:"先週のeeeeのp",yesterday:"昨日のp",today:"今日のp",tomorrow:"明日のp",nextWeek:"翌週のeeeeのp",other:"P"},_G=function(e,t,r,i){return xG[e]},SG={narrow:["BC","AC"],abbreviated:["紀元前","西暦"],wide:["紀元前","西暦"]},EG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["第1四半期","第2四半期","第3四半期","第4四半期"]},FG={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},TG={narrow:["日","月","火","水","木","金","土"],short:["日","月","火","水","木","金","土"],abbreviated:["日","月","火","水","木","金","土"],wide:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},PG={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},OG={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},IG=function(e,t){var r=Number(e),i=String(t==null?void 0:t.unit);switch(i){case"year":return"".concat(r,"年");case"quarter":return"第".concat(r,"四半期");case"month":return"".concat(r,"月");case"week":return"第".concat(r,"週");case"date":return"".concat(r,"日");case"hour":return"".concat(r,"時");case"minute":return"".concat(r,"分");case"second":return"".concat(r,"秒");default:return"".concat(r)}},UG={ordinalNumber:IG,era:Cn({values:SG,defaultWidth:"wide"}),quarter:Cn({values:EG,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Cn({values:FG,defaultWidth:"wide"}),day:Cn({values:TG,defaultWidth:"wide"}),dayPeriod:Cn({values:PG,defaultWidth:"wide",formattingValues:OG,defaultFormattingWidth:"wide"})},kG=/^第?\d+(年|四半期|月|週|日|時|分|秒)?/i,DG=/\d+/i,QG={narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^(紀元[前後]|西暦)/i,wide:/^(紀元[前後]|西暦)/i},MG={narrow:[/^B/i,/^A/i],any:[/^(紀元前)/i,/^(西暦|紀元後)/i]},LG={narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^第[1234一二三四１２３４]四半期/i},NG={any:[/(1|一|１)/i,/(2|二|２)/i,/(3|三|３)/i,/(4|四|４)/i]},RG={narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])月/i,wide:/^([123456789]|1[012])月/i},HG={any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},$G={narrow:/^[日月火水木金土]/,short:/^[日月火水木金土]/,abbreviated:/^[日月火水木金土]/,wide:/^[日月火水木金土]曜日/},jG={any:[/^日/,/^月/,/^火/,/^水/,/^木/,/^金/,/^土/]},KG={any:/^(AM|PM|午前|午後|正午|深夜|真夜中|夜|朝)/i},GG={any:{am:/^(A|午前)/i,pm:/^(P|午後)/i,midnight:/^深夜|真夜中/i,noon:/^正午/i,morning:/^朝/i,afternoon:/^午後/i,evening:/^夜/i,night:/^深夜/i}},VG={ordinalNumber:Xb({matchPattern:kG,parsePattern:DG,valueCallback:function(e){return parseInt(e,10)}}),era:Bn({matchPatterns:QG,defaultMatchWidth:"wide",parsePatterns:MG,defaultParseWidth:"any"}),quarter:Bn({matchPatterns:LG,defaultMatchWidth:"wide",parsePatterns:NG,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Bn({matchPatterns:RG,defaultMatchWidth:"wide",parsePatterns:HG,defaultParseWidth:"any"}),day:Bn({matchPatterns:$G,defaultMatchWidth:"wide",parsePatterns:jG,defaultParseWidth:"any"}),dayPeriod:Bn({matchPatterns:KG,defaultMatchWidth:"any",parsePatterns:GG,defaultParseWidth:"any"})},zG={code:"ja",formatDistance:yG,formatLong:BG,formatRelative:_G,localize:UG,match:VG,options:{weekStartsOn:0,firstWeekContainsDate:1}},WG={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXWeeks:{one:"大约 1 个星期",other:"大约 {{count}} 个星期"},xWeeks:{one:"1 个星期",other:"{{count}} 个星期"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}},XG=function(e,t,r){var i,s=WG[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?i+"内":i+"前":i},YG={full:"y'年'M'月'd'日' EEEE",long:"y'年'M'月'd'日'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},JG={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},ZG={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},qG={date:Li({formats:YG,defaultWidth:"full"}),time:Li({formats:JG,defaultWidth:"full"}),dateTime:Li({formats:ZG,defaultWidth:"full"})};function uB(n,e,t){var r="eeee p";return mG(n,e,t)?r:n.getTime()>e.getTime()?"'下个'"+r:"'上个'"+r}var eV={lastWeek:uB,yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:uB,other:"PP p"},tV=function(e,t,r,i){var s=eV[e];return typeof s=="function"?s(t,r,i):s},nV={narrow:["前","公元"],abbreviated:["前","公元"],wide:["公元前","公元"]},rV={narrow:["1","2","3","4"],abbreviated:["第一季","第二季","第三季","第四季"],wide:["第一季度","第二季度","第三季度","第四季度"]},iV={narrow:["一","二","三","四","五","六","七","八","九","十","十一","十二"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},sV={narrow:["日","一","二","三","四","五","六"],short:["日","一","二","三","四","五","六"],abbreviated:["周日","周一","周二","周三","周四","周五","周六"],wide:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},oV={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},aV={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},AV=function(e,t){var r=Number(e);switch(t==null?void 0:t.unit){case"date":return r.toString()+"日";case"hour":return r.toString()+"时";case"minute":return r.toString()+"分";case"second":return r.toString()+"秒";default:return"第 "+r.toString()}},lV={ordinalNumber:AV,era:Cn({values:nV,defaultWidth:"wide"}),quarter:Cn({values:rV,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Cn({values:iV,defaultWidth:"wide"}),day:Cn({values:sV,defaultWidth:"wide"}),dayPeriod:Cn({values:oV,defaultWidth:"wide",formattingValues:aV,defaultFormattingWidth:"wide"})},cV=/^(第\s*)?\d+(日|时|分|秒)?/i,hV=/\d+/i,uV={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},dV={any:[/^(前)/i,/^(公元)/i]},fV={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},pV={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},gV={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},mV={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},vV={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},yV={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},bV={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},wV={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},CV={ordinalNumber:Xb({matchPattern:cV,parsePattern:hV,valueCallback:function(e){return parseInt(e,10)}}),era:Bn({matchPatterns:uV,defaultMatchWidth:"wide",parsePatterns:dV,defaultParseWidth:"any"}),quarter:Bn({matchPatterns:fV,defaultMatchWidth:"wide",parsePatterns:pV,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Bn({matchPatterns:gV,defaultMatchWidth:"wide",parsePatterns:mV,defaultParseWidth:"any"}),day:Bn({matchPatterns:vV,defaultMatchWidth:"wide",parsePatterns:yV,defaultParseWidth:"any"}),dayPeriod:Bn({matchPatterns:bV,defaultMatchWidth:"any",parsePatterns:wV,defaultParseWidth:"any"})},BV={code:"zh-CN",formatDistance:XG,formatLong:qG,formatRelative:tV,localize:lV,match:CV,options:{weekStartsOn:1,firstWeekContainsDate:4}};const pf={code:"zh-CN",dateFnsLocale:BV,Pagination:{pageSize:"每页条数：${pageSize}",total:"总页数：${total}",jumpTo:"跳至",page:"页"},Modal:{confirm:"确定",cancel:"取消"},Tabs:{more:"更多"},TimePicker:{placeholder:{time:"请选择时间",timeRange:"请选择时间范围"},begin:"开始时间",end:"结束时间",hour:"时",minute:"分",second:"秒",AM:"上午",PM:"下午"},DatePicker:{placeholder:{date:"请选择日期",dateTime:"请选择日期及时间",dateRange:["开始日期","结束日期"],dateTimeRange:["开始日期","结束日期"],monthRange:["开始月份","结束月份"]},presets:"快捷选择",footer:{confirm:"确定",cancel:"取消"},selectDate:"返回选择日期",selectTime:"选择时间",year:"年",month:"月",day:"日",monthText:"${year}年 ${month}",months:{1:"1月",2:"2月",3:"3月",4:"4月",5:"5月",6:"6月",7:"7月",8:"8月",9:"9月",10:"10月",11:"11月",12:"12月"},fullMonths:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},weeks:{Mon:"一",Tue:"二",Wed:"三",Thu:"四",Fri:"五",Sat:"六",Sun:"日"},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy-MM-dd"}},Navigation:{collapseText:"收起侧边栏",expandText:"展开侧边栏"},Popconfirm:{confirm:"确定",cancel:"取消"},Table:{emptyText:"暂无数据",pageText:"显示第 ${currentStart} 条-第 ${currentEnd} 条，共 ${total} 条",descend:"点击降序",ascend:"点击升序",cancelSort:"取消排序"},Select:{emptyText:"暂无数据",createText:"创建"},Cascader:{emptyText:"暂无数据"},Tree:{emptyText:"暂无数据",searchPlaceholder:"搜索"},List:{emptyText:"暂无数据"},Calendar:{allDay:"全天",AM:"上午${time}时",PM:"下午${time}时",datestring:"日",remaining:"还有${remained}项"},Upload:{mainText:"点击上传文件或拖拽文件到这里",illegalTips:"不支持此类型文件",legalTips:"松手开始上传",retry:"重试",replace:"替换文件",clear:"清空",selectedFiles:"已选择文件",illegalSize:"文件尺寸不合法",fail:"上传失败"},TreeSelect:{searchPlaceholder:"搜索"},Typography:{copy:"复制",copied:"复制成功",expand:"展开",collapse:"收起"},Transfer:{emptyLeft:"暂无数据",emptySearch:"无搜索结果",emptyRight:"暂无内容，可从左侧勾选",placeholder:"搜索",clear:"清空",selectAll:"全选",clearSelectAll:"取消全选",total:"总个数：${total}",selected:"已选个数：${total}"},Form:{optional:"（可选）"},Image:{preview:"预览",loading:"加载中",loadError:"加载失败",prevTip:"上一张",nextTip:"下一张",zoomInTip:"放大",zoomOutTip:"缩小",rotateTip:"旋转",downloadTip:"下载",adaptiveTip:"适应页面",originTip:"原始尺寸"},Chat:{deleteConfirm:"确认删除该会话吗？",clearContext:"上下文已清除",copySuccess:"复制成功",stop:"停止",copy:"复制",copied:"复制成功",dropAreaText:"将文件放到这里"}};class gr extends H.Component{renderChildren(e,t){const{componentName:r}=this.props;let i=e;e!=null&&e.code||(i=pf);const s=le(pf,"dateFnsLocale"),o=le(i,"dateFnsLocale",s);return t(i[r],i.code,o)}render(){const{children:e}=this.props;return b.createElement(Zs.Consumer,null,t=>{let{locale:r}=t;return b.createElement(m3.Consumer,null,i=>this.renderChildren(r||i,e))})}}gr.propTypes={componentName:g.string.isRequired,children:g.any};gr.defaultProps={componentName:""};const xV="semi";var _V=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const v3=b.forwardRef((n,e)=>{const{svg:t,spin:r=!1,rotate:i,style:s,className:o,prefixCls:a=xV,type:A,size:c="default"}=n,l=_V(n,["svg","spin","rotate","style","className","prefixCls","type","size"]),h=N(`${a}-icon`,{[`${a}-icon-extra-small`]:c==="extra-small",[`${a}-icon-small`]:c==="small",[`${a}-icon-default`]:c==="default",[`${a}-icon-large`]:c==="large",[`${a}-icon-extra-large`]:c==="extra-large",[`${a}-icon-spinning`]:r===!0,[`${a}-icon-${A}`]:!!A},o),u={};return Number.isSafeInteger(i)&&(u.transform=`rotate(${i}deg)`),Object.assign(u,s),b.createElement("span",Object.assign({role:"img",ref:e,"aria-label":A,className:h,style:u},l),t)});v3.elementType="Icon";const Wt=(n,e)=>{const t=b.forwardRef((r,i)=>b.createElement(v3,Object.assign({svg:b.createElement(n),type:e,ref:i},r)));return t.elementType="Icon",t};function SV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM13.5 17.5C13.5 16.6716 12.8284 16 12 16C11.1716 16 10.5 16.6716 10.5 17.5C10.5 18.3284 11.1716 19 12 19C12.8284 19 13.5 18.3284 13.5 17.5ZM12 5C10.9138 5 10.0507 5.91244 10.1109 6.99692L10.4168 12.5023C10.4635 13.3426 11.1584 14 12 14C12.8416 14 13.5365 13.3426 13.5832 12.5023L13.8891 6.99692C13.9493 5.91244 13.0862 5 12 5Z",fill:"currentColor"}))}const y3=Wt(SV,"alert_circle");function EV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2268 2.3986L1.52616 19.0749C0.831449 20.4064 1.79747 22 3.29933 22H20.7007C22.2025 22 23.1686 20.4064 22.4739 19.0749L13.7732 2.3986C13.0254 0.965441 10.9746 0.965442 10.2268 2.3986ZM13.1415 14.0101C13.0603 14.5781 12.5739 15 12.0001 15C11.4263 15 10.9398 14.5781 10.8586 14.0101L10.2829 9.97992C10.1336 8.93495 10.9445 8.00002 12.0001 8.00002C13.0556 8.00002 13.8665 8.93495 13.7172 9.97992L13.1415 14.0101ZM13.5001 18.5C13.5001 19.3284 12.8285 20 12.0001 20C11.1716 20 10.5001 19.3284 10.5001 18.5C10.5001 17.6716 11.1716 17 12.0001 17C12.8285 17 13.5001 17.6716 13.5001 18.5Z",fill:"currentColor"}))}const Jb=Wt(EV,"alert_triangle");function FV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.08045 7.59809C4.66624 7.01231 5.61599 7.01231 6.20177 7.59809L11.8586 13.2549L17.5155 7.59809C18.1013 7.01231 19.051 7.01231 19.6368 7.59809C20.2226 8.18388 20.2226 9.13363 19.6368 9.71941L12.9193 16.4369C12.3335 17.0227 11.3838 17.0227 10.798 16.4369L4.08045 9.71941C3.49467 9.13363 3.49467 8.18388 4.08045 7.59809Z",fill:"currentColor"}))}const Hc=Wt(FV,"chevron_down");function TV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.2782 4.23933C16.864 4.82511 16.864 5.77486 16.2782 6.36065L10.6213 12.0175L16.2782 17.6744C16.864 18.2601 16.864 19.2099 16.2782 19.7957C15.6924 20.3815 14.7426 20.3815 14.1569 19.7957L7.43934 13.0782C6.85355 12.4924 6.85355 11.5426 7.43934 10.9568L14.1569 4.23933C14.7426 3.65354 15.6924 3.65354 16.2782 4.23933Z",fill:"currentColor"}))}const PV=Wt(TV,"chevron_left");function OV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.43934 19.7957C6.85355 19.2099 6.85355 18.2601 7.43934 17.6744L13.0962 12.0175L7.43934 6.36065C6.85355 5.77486 6.85355 4.82511 7.43934 4.23933C8.02513 3.65354 8.97487 3.65354 9.56066 4.23933L16.2782 10.9568C16.864 11.5426 16.864 12.4924 16.2782 13.0782L9.56066 19.7957C8.97487 20.3815 8.02513 20.3815 7.43934 19.7957Z",fill:"currentColor"}))}const Ey=Wt(OV,"chevron_right");function IV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.637 16.4369C19.0513 17.0227 18.1015 17.0227 17.5157 16.4369L11.8589 10.7801L6.20202 16.4369C5.61623 17.0227 4.66648 17.0227 4.0807 16.4369C3.49491 15.8511 3.49491 14.9014 4.0807 14.3156L10.7982 7.59809C11.384 7.01231 12.3337 7.01231 12.9195 7.59809L19.637 14.3156C20.2228 14.9014 20.2228 15.8511 19.637 16.4369Z",fill:"currentColor"}))}const UV=Wt(IV,"chevron_up");function kV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM17.0352 16.8626C16.4597 17.4585 15.5101 17.4751 14.9142 16.8996L12.0368 14.121L9.25822 16.9984C8.68274 17.5943 7.73314 17.6109 7.13722 17.0354C6.5413 16.4599 6.52472 15.5103 7.1002 14.9144L9.87883 12.037L7.00147 9.2584C6.40555 8.68293 6.38897 7.73332 6.96445 7.1374C7.53992 6.54148 8.48953 6.52491 9.08545 7.10038L11.9628 9.87901L14.7414 7.00165C15.3169 6.40573 16.2665 6.38916 16.8624 6.96463C17.4584 7.54011 17.4749 8.48971 16.8995 9.08563L14.1208 11.963L16.9982 14.7416C17.5941 15.3171 17.6107 16.2667 17.0352 16.8626Z",fill:"currentColor"}))}const b3=Wt(kV,"clear");function DV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{d:"M17.6568 19.7782C18.2426 20.3639 19.1924 20.3639 19.7782 19.7782C20.3639 19.1924 20.3639 18.2426 19.7782 17.6568L14.1213 12L19.7782 6.34313C20.3639 5.75734 20.3639 4.8076 19.7782 4.22181C19.1924 3.63602 18.2426 3.63602 17.6568 4.22181L12 9.87866L6.34313 4.22181C5.75734 3.63602 4.8076 3.63602 4.22181 4.22181C3.63602 4.8076 3.63602 5.75734 4.22181 6.34313L9.87866 12L4.22181 17.6568C3.63602 18.2426 3.63602 19.1924 4.22181 19.7782C4.8076 20.3639 5.75734 20.3639 6.34313 19.7782L12 14.1213L17.6568 19.7782Z",fill:"currentColor"}))}const mh=Wt(DV,"close");function QV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{d:"M7 4C7 2.89543 7.89543 2 9 2H20C21.1046 2 22 2.89543 22 4V15C22 16.1046 21.1046 17 20 17H19V8C19 6 18 5 16 5H7V4Z",fill:"currentColor"}),H.createElement("path",{d:"M5 7C3.89543 7 3 7.89543 3 9V19C3 20.1046 3.89543 21 5 21H15C16.1046 21 17 20.1046 17 19V9C17 7.89543 16.1046 7 15 7H5Z",fill:"currentColor"}))}const MV=Wt(QV,"copy");function LV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7071 3.70711C22.0976 3.31658 22.0976 2.68342 21.7071 2.29289C21.3166 1.90237 20.6834 1.90237 20.2929 2.29289L17.3135 5.27233C15.8114 4.50566 14.0321 4 12 4C5 4 1 10 1 12C1 13.1757 2.38219 15.7335 4.94345 17.6423L2.29289 20.2929C1.90237 20.6834 1.90237 21.3166 2.29289 21.7071C2.68342 22.0976 3.31658 22.0976 3.70711 21.7071L21.7071 3.70711ZM7.8284 14.7574L9.29237 13.2934C9.10495 12.9018 9 12.4631 9 12C9 10.3431 10.3431 9 12 9C12.4631 9 12.9018 9.10495 13.2934 9.29237L14.7574 7.8284C13.967 7.30488 13.0191 7 12 7C9.23858 7 7 9.23858 7 12C7 13.0191 7.30488 13.967 7.8284 14.7574Z",fill:"currentColor"}),H.createElement("path",{d:"M12 20C10.7789 20 9.64914 19.8174 8.61594 19.5054L11.1871 16.9342C11.4516 16.9775 11.7232 17 12 17C14.7614 17 17 14.7614 17 12C17 11.7232 16.9775 11.4516 16.9342 11.1871L20.5032 7.61808C22.1342 9.27317 23 11.0695 23 12C23 14 19 20 12 20Z",fill:"currentColor"}))}const NV=Wt(LV,"eye_closed_solid");function RV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.22396 20.7662C-0.415453 19.1136 -0.406853 16.4316 1.24313 14.7897L10.57 5.50874L9.62535 4.55653C9.08135 4.00817 9.08135 3.11909 9.62535 2.57074C10.1694 2.02238 11.0514 2.02238 11.5954 2.57074L12.5526 3.53579L14.8854 1.21459C16.5204 -0.412333 19.1516 -0.403739 20.776 1.2338C22.4154 2.88639 22.4069 5.56845 20.7569 7.21035L18.4626 9.49315L19.4751 10.5139C20.0192 11.0623 20.0192 11.9514 19.4751 12.4998C18.9311 13.0481 18.0491 13.0481 17.5053 12.4998L16.4799 11.4661L7.11458 20.7855C5.47962 22.4122 2.84845 22.4038 1.22396 20.7662ZM12.54 7.49455L14.5099 9.48042L5.1574 18.7869C4.61243 19.3291 3.7354 19.3263 3.19392 18.7805C2.64747 18.2295 2.65033 17.3355 3.20031 16.7883L12.54 7.49455Z",fill:"currentColor"}))}const HV=Wt(RV,"eyedropper");function $V(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C5 4 1 10 1 12C1 14 5 20 12 20C19 20 23 14 23 12C23 10 19 4 12 4ZM17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12ZM12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",fill:"currentColor"}))}const jV=Wt($V,"eye_opened");function KV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM11.8281 14.6094C10.9688 14.6094 10.5391 14.0723 10.5391 13.3691C10.5391 12.3242 11.0566 11.6504 12.2676 10.7324C12.2894 10.7158 12.3111 10.6993 12.3326 10.6829C13.1573 10.0555 13.7324 9.61807 13.7324 8.82812C13.7324 7.93945 12.9023 7.42188 11.9746 7.42188C11.2129 7.42188 10.627 7.70508 10.168 8.30078C9.83594 8.64258 9.57227 8.82812 9.12305 8.82812C8.38086 8.82812 8 8.31055 8 7.71484C8 7.10938 8.3418 6.49414 8.87891 6.02539C9.60156 5.40039 10.7539 5 12.2773 5C14.9922 5 16.8965 6.33789 16.8965 8.64258C16.8965 10.3223 15.8906 11.1328 14.709 11.9531C13.9082 12.5391 13.5273 12.8809 13.2246 13.5742L13.2238 13.5756C12.8922 14.1609 12.638 14.6094 11.8281 14.6094ZM11.8086 18.7695C10.8711 18.7695 10.0996 18.1641 10.0996 17.2266C10.0996 16.2891 10.8711 15.6836 11.8086 15.6836C12.7461 15.6836 13.5078 16.2891 13.5078 17.2266C13.5078 18.1641 12.7461 18.7695 11.8086 18.7695Z",fill:"currentColor"}))}const GV=Wt(KV,"help_circle");function VV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM14 7C14 8.10457 13.1046 9 12 9C10.8954 9 10 8.10457 10 7C10 5.89543 10.8954 5 12 5C13.1046 5 14 5.89543 14 7ZM9 10.75C9 10.3358 9.33579 10 9.75 10H12.5C13.0523 10 13.5 10.4477 13.5 11V16.5H14.25C14.6642 16.5 15 16.8358 15 17.25C15 17.6642 14.6642 18 14.25 18H9.75C9.33579 18 9 17.6642 9 17.25C9 16.8358 9.33579 16.5 9.75 16.5H10.5V11.5H9.75C9.33579 11.5 9 11.1642 9 10.75Z",fill:"currentColor"}))}const w3=Wt(VV,"info_circle");function zV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 2C5.80558 2 2 5.80558 2 10.5C2 15.1944 5.80558 19 10.5 19C12.3054 19 13.9794 18.4371 15.356 17.4773L19.4393 21.5606C20.0251 22.1464 20.9749 22.1464 21.5606 21.5606C22.1464 20.9749 22.1464 20.0251 21.5606 19.4393L17.4773 15.356C18.4371 13.9794 19 12.3054 19 10.5C19 5.80558 15.1944 2 10.5 2ZM5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5Z",fill:"currentColor"}))}const WV=Wt(zV,"search");function XV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 2H19C20.6569 2 22 3.34315 22 5V19C22 20.6569 20.6569 22 19 22H5C3.34315 22 2 20.6569 2 19V5C2 3.34315 3.34315 2 5 2ZM6 4C5.44772 4 5 4.44772 5 5V19C5 19.5523 5.44772 20 6 20H9C9.55229 20 10 19.5523 10 19V5C10 4.44772 9.55229 4 9 4H6Z",fill:"currentColor"}))}const YV=Wt(XV,"sidebar");function JV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3516 4.2652C22.0336 4.73552 22.2052 5.66964 21.7348 6.35162L11.7348 20.8516C11.4765 21.2262 11.0622 21.4632 10.6084 21.4961C10.1546 21.529 9.71041 21.3541 9.40082 21.0207L2.90082 14.0207C2.33711 13.4136 2.37226 12.4645 2.97933 11.9008C3.5864 11.3371 4.53549 11.3723 5.0992 11.9793L10.3268 17.6091L19.2652 4.64842C19.7355 3.96644 20.6696 3.79487 21.3516 4.2652Z",fill:"currentColor"}))}const gf=Wt(JV,"tick");function ZV(n){return H.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),H.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM17.8831 9.82235L11.6854 17.4112C11.4029 17.7806 10.965 17.9981 10.5 18C10.035 18.0019 9.59533 17.788 9.30982 17.421L5.81604 13.4209C5.30744 12.767 5.42524 11.8246 6.07916 11.316C6.73308 10.8074 7.67549 10.9252 8.1841 11.5791L10.4838 14.0439L15.5 8C16.0032 7.34193 16.9446 7.21641 17.6027 7.71964C18.2608 8.22287 18.3863 9.16428 17.8831 9.82235Z",fill:"currentColor"}))}const C3=Wt(ZV,"tick_circle"),Ir={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229},Zb="Enter";function vh(n){return le(n,"key")===Zb}const Ym=_g.PREFIX;class qb extends b.PureComponent{constructor(e){super(e),this.copy=t=>{const{content:r,duration:i,onCopy:s}=this.props,o=kK(r);s&&s(t,r,o),this.setCopied(r,i)},this.setCopied=(t,r)=>{this.setState({copied:!0,item:t}),this._timeId=setTimeout(()=>{this.resetCopied()},r*1e3)},this.resetCopied=()=>{this._timeId&&(clearTimeout(this._timeId),this._timeId=null,this.setState({copied:!1,item:""}))},this.renderSuccessTip=()=>{const{successTip:t}=this.props;return typeof t<"u"?t:b.createElement(gr,{componentName:"Typography"},r=>b.createElement("span",null,b.createElement(gf,null),r.copied))},this.renderCopyIcon=()=>{const{icon:t}=this.props,r={role:"button",tabIndex:0,onClick:this.copy,onKeyPress:s=>vh(s)&&this.copy(s)},i=b.createElement("a",{className:`${Ym}-action-copy-icon`},b.createElement(MV,Object.assign({onClick:this.copy},r)));return b.isValidElement(t)?b.cloneElement(t,r):i},this.state={copied:!1,item:""}}componentWillUnmount(){this._timeId&&(clearTimeout(this._timeId),this._timeId=null)}render(){const{style:e,className:t,forwardRef:r,copyTip:i,render:s}=this.props,{copied:o}=this.state,a=N(t,{[`${Ym}-action-copy`]:!o,[`${Ym}-action-copied`]:o});return s?s(o,this.copy,this.props):b.createElement(gr,{componentName:"Typography"},A=>b.createElement("span",{style:Object.assign({marginLeft:"4px"},e),className:a,ref:r},o?this.renderSuccessTip():b.createElement(It,{content:typeof i<"u"?i:A.copy},this.renderCopyIcon())))}}qb.propTypes={content:g.string,onCopy:g.func,successTip:g.node,copyTip:g.node,duration:g.number,style:g.object,className:g.string,icon:g.node};qb.defaultProps={content:"",onCopy:Wn,duration:3,style:{},className:""};const B3={PREFIX:`${re}-popover`,ARROW:`${re}-popover-icon-arrow`},hc={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},qo={ARROW_BOUNDING:Object.assign(Object.assign({},bs.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030};var qV=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const x3=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{position:e="",className:t,arrowStyle:r,popStyle:i}=n,s=qV(n,["position","className","arrowStyle","popStyle"]),o=e.indexOf("top")===0||e.indexOf("bottom")===0,a=N(t,B3.ARROW),A=le(r,"borderOpacity",hc.DEFAULT_ARROW_STYLE.borderOpacity),c=le(r,"backgroundColor",le(i,"backgroundColor",hc.DEFAULT_ARROW_STYLE.backgroundColor)),l=le(r,"borderColor",le(i,"borderColor",hc.DEFAULT_ARROW_STYLE.borderColor)),h=Object.assign(Object.assign({},s),{width:qo.ARROW_BOUNDING.width,height:qo.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:a});return o?b.createElement("svg",Object.assign({},h),b.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",fill:l,opacity:A}),b.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",fill:c})):b.createElement("svg",Object.assign({},h),b.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",fill:l,opacity:A}),b.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",fill:c}))};x3.propTypes={position:g.string,className:g.string,arrowStyle:g.object,popStyle:g.object};var ez=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const tz=hc.POSITION_SET,nz=hc.TRIGGER_SET;class pn extends b.PureComponent{constructor(e){super(e),this.focusTrigger=()=>{var t;(t=this.tooltipRef.current)===null||t===void 0||t.focusTrigger()},this.renderPopCard=t=>{let{initialFocusRef:r}=t;const{content:i,contentClassName:s,prefixCls:o}=this.props,{direction:a}=this.context,A=N(o,s,{[`${o}-rtl`]:a==="rtl"}),c=this.renderContentNode({initialFocusRef:r,content:i});return b.createElement("div",{className:A},b.createElement("div",{className:`${o}-content`},c))},this.renderContentNode=t=>{const{initialFocusRef:r,content:i}=t,s={initialFocusRef:r};return un(i)?i(s):i},this.tooltipRef=b.createRef()}render(){const e=this.props,{children:t,prefixCls:r,showArrow:i,arrowStyle:s={},arrowBounding:o,position:a,style:A,trigger:c}=e,l=ez(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]);let{spacing:h}=this.props;const u={position:a,className:"",popStyle:A,arrowStyle:s},d=i?b.createElement(x3,Object.assign({},u)):!1;Sn(h)&&(h=i?qo.SPACING_WITH_ARROW:qo.SPACING);const p=c==="click"||c==="custom"?"dialog":"tooltip";return b.createElement(It,Object.assign({guardFocus:!0,ref:this.tooltipRef},l,{trigger:c,position:a,style:A,content:this.renderPopCard,prefixCls:r,spacing:h,showArrow:d,arrowBounding:o,role:p}),t)}}pn.contextType=Zs;pn.propTypes={children:g.node,content:g.oneOfType([g.node,g.func]),visible:g.bool,autoAdjustOverflow:g.bool,motion:g.bool,position:g.oneOf(tz),margin:g.oneOfType([g.number,g.object]),mouseEnterDelay:g.number,mouseLeaveDelay:g.number,trigger:g.oneOf(nz).isRequired,contentClassName:g.oneOfType([g.string,g.array]),onVisibleChange:g.func,onClickOutSide:g.func,style:g.object,spacing:g.oneOfType([g.number,g.object]),zIndex:g.number,showArrow:g.bool,arrowStyle:g.shape({borderColor:g.string,backgroundColor:g.string,borderOpacity:g.oneOfType([g.string,g.number])}),arrowPointAtCenter:g.bool,arrowBounding:g.object,prefixCls:g.string,guardFocus:g.bool,disableArrowKeyDown:g.bool};pn.__SemiComponentName__="Popover";pn.defaultProps=nr(pn.__SemiComponentName__,{arrowBounding:qo.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:qo.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:B3.PREFIX,onClickOutSide:X,onEscKeyDown:X,closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0});let ft;function Jm(n){if(!n)return 0;const e=n.match(/^\d*(\.\d*)?/);return e?Number(e[0]):0}function rz(n){return Array.prototype.slice.apply(n).map(t=>`${t}: ${n.getPropertyValue(t)};`).join("")}const iz=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;if(t.length===0)return"";ft||(ft=document.createElement("div"),ft.setAttribute("aria-hidden","true"),document.body.appendChild(ft));const a=window.getComputedStyle(n),A=rz(a),c=Jm(a.lineHeight),l=Math.round(c*(e+1)+Jm(a.paddingTop)+Jm(a.paddingBottom));ft.setAttribute("style",A),ft.style.position="fixed",ft.style.left="0",ft.style.height="auto",ft.style.top="-999999px",ft.style.zIndex="-1000",ft.style.textOverflow="clip",ft.style.webkitLineClamp="none",Dr.render(b.createElement(b.Fragment,null),ft);function h(){const y=ft.scrollWidth<=ft.offsetWidth,w=ft.scrollHeight<l;return e===1?y&&w:w}const u=document.createElement("span"),d=document.createTextNode(t);if(u.appendChild(d),s.length>0){const y=document.createTextNode(s);u.appendChild(y)}ft.appendChild(u),Object.values(Vi(r,"expand")).map(y=>y&&ft.appendChild(y.cloneNode(!0)));function p(){ft.innerHTML="",ft.appendChild(u),Object.values(r).map(y=>y&&ft.appendChild(y.cloneNode(!0)))}function f(y,w){const C=y.length;return w?o==="end"?y.slice(0,w)+i:y.slice(0,w)+i+y.slice(C-w,C):i}function v(y,w){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:w.length,x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;const E=Math.floor((C+S)/2),T=f(w,E);if(y.textContent=T,C>=S-1&&S>0)for(let P=S;P>=C;P-=1){const F=f(w,P);if(y.textContent=F,h())return F}else if(S===0)return i;return h()?v(y,w,E,S,E):v(y,w,C,E,x)}let m=t;return h()||(p(),m=v(d,t,0,o==="middle"?Math.floor(t.length/2):t.length)),ft.innerHTML="",m},_3=b.createContext("normal");var mf;(function(n){n.Width="width",n.Height="height",n.All="all"})(mf||(mf={}));class gA extends Ie{constructor(e){var t;super(e),t=this,this.formerPropertyValue=new Map,this.getElement=()=>{try{return lh.findDOMNode(this.childNode||this)}catch{return null}},this.handleResizeEventTriggered=r=>{var i,s,o,a;if(this.props.observerProperty===mf.All)(s=(i=this.props).onResize)===null||s===void 0||s.call(i,r);else{const A=[];for(const c of r)this.formerPropertyValue.has(c.target)?c.contentRect[this.props.observerProperty]!==this.formerPropertyValue.get(c.target)&&(this.formerPropertyValue.set(c.target,c.contentRect[this.props.observerProperty]),A.push(c)):(this.formerPropertyValue.set(c.target,c.contentRect[this.props.observerProperty]),A.push(c));A.length>0&&((a=(o=this.props).onResize)===null||a===void 0||a.call(o,A))}},this.observeElement=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const i=t.getElement();if(t.observer||(t.observer=new ResizeObserver(t.handleResizeEventTriggered)),!(i&&i instanceof Element)){t.observer.disconnect();return}i===t.element&&!r||(t.observer.disconnect(),t.element=i,t.observer.observe(i),t.props.observeParent&&i.parentNode&&i.parentNode.ownerDocument&&i.parentNode.ownerDocument.defaultView&&i.parentNode instanceof i.parentNode.ownerDocument.defaultView.HTMLElement&&(t._parentNode=i.parentNode,t.observer.observe(t._parentNode)))},this.mergeRef=(r,i)=>{this.childNode=i,typeof r=="function"?r(i):typeof r=="object"&&r&&"current"in r&&(r.current=i)},globalThis.ResizeObserver&&(this.observer=new ResizeObserver(this.handleResizeEventTriggered))}componentDidMount(){var e;(e=this.observeElement)===null||e===void 0||e.call(this)}componentDidUpdate(e){var t;(t=this.observeElement)===null||t===void 0||t.call(this,this.props.observeParent!==e.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}render(){const e=b.Children.only(this.props.children),{ref:t}=e;return b.cloneElement(e,{ref:r=>this.mergeRef(t,r)})}}gA.propTypes={onResize:g.func,observeParent:g.bool,observerProperty:g.string,delayTick:g.number};gA.defaultProps={onResize:()=>{},observeParent:!1,observerProperty:"all",delayTick:0};var Zm=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(h){o(h)}}function A(l){try{c(r.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,A)}c((r=r.apply(n,e||[])).next())})},sz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const $t=_g.PREFIX,oz="...",az=(n,e)=>{const{mark:t,code:r,underline:i,strong:s,link:o,disabled:a}=n;let A=e;const c=(l,h)=>{let u={};l&&(typeof l=="object"&&(u=Object.assign({},l)),A=b.createElement(h,u,A))};return c(t,"mark"),c(r,"code"),c(i&&!o,"u"),c(s,"strong"),c(n.delete,"del"),c(o,a?"span":"a"),A};class la extends H.Component{constructor(e){super(e),this.observerTakingEffect=!1,this.onResize=t=>Zm(this,void 0,void 0,function*(){return this.rafId&&window.cancelAnimationFrame(this.rafId),new Promise(r=>{this.rafId=window.requestAnimationFrame(()=>Zm(this,void 0,void 0,function*(){yield this.getEllipsisState(),r()}))})}),this.canUseCSSEllipsis=()=>{const{copyable:t}=this.props,{expandable:r,expandText:i,pos:s,suffix:o}=this.getEllipsisOpt();return!r&&Kl(i)&&!t&&s==="end"&&!o.length},this.shouldTruncated=t=>!t||t<1?!1:t<=1?this.compareSingleRow():this.wrapperRef.current.scrollHeight>this.wrapperRef.current.offsetHeight,this.compareSingleRow=()=>{if(!(document&&document.createRange))return!1;const t=this.wrapperRef.current,r=t.getBoundingClientRect().width,i=Array.from(t.childNodes),s=document.createRange(),o=i.reduce((a,A)=>{var c;return s.selectNodeContents(A),a+((c=s.getBoundingClientRect().width)!==null&&c!==void 0?c:0)},0);return s.detach(),o>r},this.showTooltip=()=>{var t,r;const{isOverflowed:i,isTruncated:s,expanded:o}=this.state,{showTooltip:a,expandable:A,expandText:c}=this.getEllipsisOpt(),l=this.canUseCSSEllipsis(),h=!o&&(l?i:s),d=!A&&Kl(c)&&h&&a;if(!d)return d;const p={type:"tooltip"};return typeof a=="object"?a.type&&a.type.toLowerCase()==="popover"?G8({opts:{showArrow:!0}},a,{opts:{className:N({[`${$t}-ellipsis-popover`]:!0,[(t=a==null?void 0:a.opts)===null||t===void 0?void 0:t.className]:!!(!((r=a==null?void 0:a.opts)===null||r===void 0)&&r.className)})}}):Object.assign(Object.assign({},p),a):p},this.onHover=()=>{if(this.canUseCSSEllipsis()){const{rows:r,suffix:i,pos:s}=this.getEllipsisOpt(),o=this.shouldTruncated(r);this.setState({isOverflowed:o,isTruncated:!1});return}},this.getEllipsisState=()=>Zm(this,void 0,void 0,function*(){const{rows:t,suffix:r,pos:i}=this.getEllipsisOpt(),{children:s}=this.props;if(!this.wrapperRef||!this.wrapperRef.current){yield this.onResize();return}const{expanded:o}=this.state;if(this.canUseCSSEllipsis())return;if(zM(s))return new Promise(h=>{this.setState({isTruncated:!1,isOverflowed:!1},h)});if(zi("children"in this.props&&typeof s!="string","[Semi Typography] Only children with pure text could be used with ellipsis at this moment."),!t||t<0||o)return;const A={expand:this.expandRef.current,copy:this.copyRef&&this.copyRef.current},c=Array.isArray(s)?s.join(""):String(s),l=iz(this.wrapperRef.current,t,c,A,oz,r,i);return new Promise(h=>{this.setState({isOverflowed:!1,ellipsisContent:l,isTruncated:c!==l},h)})}),this.toggleOverflow=t=>{const{onExpand:r,expandable:i,collapsible:s}=this.getEllipsisOpt(),{expanded:o}=this.state;r&&r(!o,t),(i&&!o||s&&o)&&this.setState({expanded:!o})},this.getEllipsisOpt=()=>{const{ellipsis:t}=this.props;return t?Object.assign({rows:1,expandable:!1,pos:"end",suffix:"",showTooltip:!1,collapsible:!1,expandText:t.expandable?this.expandStr:void 0,collapseText:t.collapsible?this.collapseStr:void 0},typeof t=="object"?t:null):{}},this.renderExpandable=()=>{const{expanded:t,isTruncated:r}=this.state;if(!r)return null;const{expandText:i,expandable:s,collapseText:o,collapsible:a}=this.getEllipsisOpt(),A=!s&&Kl(i),c=!a&&Kl(o);let l;return!t&&!A?l=i:t&&!c&&(l=o),!A||!c?b.createElement("a",{role:"button",tabIndex:0,className:`${$t}-ellipsis-expand`,key:"expand",ref:this.expandRef,"aria-label":l,onClick:this.toggleOverflow,onKeyPress:h=>vh(h)&&this.toggleOverflow(h)},l):null},this.getEllipsisStyle=()=>{const{ellipsis:t,component:r}=this.props;if(!t)return{ellipsisCls:"",ellipsisStyle:{}};const{rows:i}=this.getEllipsisOpt(),{expanded:s}=this.state,o=!s&&this.canUseCSSEllipsis(),a=N({[`${$t}-ellipsis`]:!0,[`${$t}-ellipsis-single-line`]:i===1,[`${$t}-ellipsis-multiple-line`]:i>1,[`${$t}-ellipsis-multiple-line-text`]:i>1&&r==="span",[`${$t}-ellipsis-overflow-ellipsis`]:i===1&&o,[`${$t}-ellipsis-overflow-ellipsis-text`]:i===1&&o&&r==="span"}),A=o&&i>1?{WebkitLineClamp:i}:{};return{ellipsisCls:a,ellipsisStyle:A}},this.renderEllipsisText=t=>{const{suffix:r}=t,{children:i}=this.props,{isTruncated:s,expanded:o,ellipsisContent:a}=this.state;return o||!s?b.createElement("span",{onMouseEnter:this.onHover},i,r&&r.length?r:null):b.createElement("span",{onMouseEnter:this.onHover},a,r)},this.state={editable:!1,copied:!1,isOverflowed:!1,ellipsisContent:e.children,expanded:!1,isTruncated:!1,prevChildren:null},this.wrapperRef=b.createRef(),this.expandRef=b.createRef(),this.copyRef=b.createRef()}componentDidMount(){this.props.ellipsis&&this.onResize().then(()=>zb(()=>this.observerTakingEffect=!0,1))}static getDerivedStateFromProps(e,t){const{prevChildren:r}=t,i={};return i.prevChildren=e.children,e.ellipsis&&r!==e.children&&(i.isOverflowed=!1,i.ellipsisContent=e.children,i.expanded=!1,i.isTruncated=!0),i}componentDidUpdate(e){this.props.children!==e.children&&(this.forceUpdate(),this.props.ellipsis&&this.onResize())}componentWillUnmount(){this.rafId&&window.cancelAnimationFrame(this.rafId)}renderOperations(){return b.createElement(b.Fragment,null,this.renderExpandable(),this.renderCopy())}renderCopy(){var e;const{copyable:t,children:r}=this.props;if(!t)return null;const i=(e=t==null?void 0:t.content)!==null&&e!==void 0?e:r;let s,o=!1;Array.isArray(i)?(s="",i.forEach(A=>{typeof A=="object"&&(o=!0),s+=String(A)})):(typeof i!="object"||(o=!0),s=String(i)),zi(o,"Content to be copied in Typography is a object, it will case a [object Object] mistake when copy to clipboard.");const a=Object.assign({content:s,duration:3},typeof t=="object"?t:null);return b.createElement(qb,Object.assign({},a,{forwardRef:this.copyRef}))}renderIcon(){const{icon:e,size:t}=this.props,r=t==="inherit"?this.context:t;if(!e)return null;const i=r==="small"?"small":"default";return b.createElement("span",{className:`${$t}-icon`,"x-semi-prop":"icon"},kr(e)?b.cloneElement(e,{size:i}):e)}renderContent(){const e=this.props,{component:t,children:r,className:i,type:s,spacing:o,disabled:a,style:A,ellipsis:c,icon:l,size:h,link:u,heading:d,weight:p}=e,f=sz(e,["component","children","className","type","spacing","disabled","style","ellipsis","icon","size","link","heading","weight"]),v=Vi(f,["strong","editable","mark","copyable","underline","code","delete"]),m=h==="inherit"?this.context:h,y=this.renderIcon(),w=this.getEllipsisOpt(),{ellipsisCls:C,ellipsisStyle:S}=this.getEllipsisStyle();let x=c?this.renderEllipsisText(w):r;const E=N({[`${$t}-link-text`]:u,[`${$t}-link-underline`]:this.props.underline&&u});x=az(this.props,b.createElement(b.Fragment,null,y,this.props.link?b.createElement("span",{className:E},x):x));const T=/^h[1-6]$/,P=Ft(d)&&T.test(d),F=N(i,C,{[`${$t}-${s}`]:s&&!u,[`${$t}-${m}`]:m,[`${$t}-link`]:u,[`${$t}-disabled`]:a,[`${$t}-${o}`]:o,[`${$t}-${d}`]:P,[`${$t}-${d}-weight-${p}`]:P&&p&&isNaN(Number(p))}),U=Object.assign(Object.assign({},isNaN(Number(p))?{}:{fontWeight:p}),A);return b.createElement(Sg,Object.assign({className:F,style:Object.assign(Object.assign({},U),S),component:t,forwardRef:this.wrapperRef},v),x,this.renderOperations())}renderTipWrapper(){const{children:e}=this.props,t=this.showTooltip(),r=this.renderContent();if(t){const{type:i,opts:s,renderTooltip:o}=t;return un(o)?o(e,r):i.toLowerCase()==="popover"?b.createElement(pn,Object.assign({content:e,position:"top"},s),r):b.createElement(It,Object.assign({content:e,position:"top"},s),r)}else return r}render(){var e=this;const{size:t}=this.props,r=t==="inherit"?this.context:t,i=b.createElement(_3.Provider,{value:r},b.createElement(gr,{componentName:"Typography"},s=>(this.expandStr=s.expand,this.collapseStr=s.collapse,this.renderTipWrapper())));return this.props.ellipsis?b.createElement(gA,{onResize:function(){e.observerTakingEffect&&e.onResize(...arguments)},observeParent:!0,observerProperty:mf.Width},i):i}}la.propTypes={children:g.node,copyable:g.oneOfType([g.shape({text:g.string,onCopy:g.func,successTip:g.node,copyTip:g.node}),g.bool]),delete:g.bool,disabled:g.bool,ellipsis:g.oneOfType([g.shape({rows:g.number,expandable:g.bool,expandText:g.string,onExpand:g.func,suffix:g.string,showTooltip:g.oneOfType([g.shape({type:g.string,opts:g.object}),g.bool]),collapsible:g.bool,collapseText:g.string,pos:g.oneOf(["end","middle"])}),g.bool]),mark:g.bool,underline:g.bool,link:g.oneOfType([g.object,g.bool]),spacing:g.oneOf(dn.SPACING),strong:g.bool,size:g.oneOf(dn.SIZE),type:g.oneOf(dn.TYPE),style:g.object,className:g.string,icon:g.oneOfType([g.node,g.string]),heading:g.string,component:g.string};la.defaultProps={children:null,copyable:!1,delete:!1,disabled:!1,ellipsis:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",spacing:"normal",size:"normal",style:{},className:""};la.contextType=_3;class Ig extends H.PureComponent{render(){return b.createElement(la,Object.assign({component:"span"},this.props))}}Ig.propTypes={copyable:g.oneOfType([g.object,g.bool]),delete:g.bool,disabled:g.bool,icon:g.oneOfType([g.node,g.string]),ellipsis:g.oneOfType([g.object,g.bool]),mark:g.bool,underline:g.bool,link:g.oneOfType([g.object,g.bool]),strong:g.bool,type:g.oneOf(dn.TYPE),size:g.oneOf(dn.SIZE),style:g.object,className:g.string,code:g.bool,component:g.string,weight:g.number};Ig.defaultProps={copyable:!1,delete:!1,disabled:!1,icon:"",ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};var Az=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};let Ug=class extends H.PureComponent{render(){const e=this.props,{heading:t}=e,r=Az(e,["heading"]),i=dn.HEADING.indexOf(t)!==-1?`h${t}`:"h1";return b.createElement(la,Object.assign({component:i,heading:i},r))}};Ug.propTypes={copyable:g.oneOfType([g.object,g.bool]),delete:g.bool,disabled:g.bool,ellipsis:g.oneOfType([g.object,g.bool]),mark:g.bool,link:g.oneOfType([g.object,g.bool]),underline:g.bool,strong:g.bool,type:g.oneOf(dn.TYPE),heading:g.oneOf(dn.HEADING),style:g.object,className:g.string,component:g.string,weight:g.oneOfType([g.oneOf(dn.WEIGHT),g.number])};Ug.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",heading:1,style:{},className:""};const lz=_g.PREFIX;let ew=class extends H.PureComponent{render(){const{className:e}=this.props,t=N(e,`${lz}-paragraph`);return b.createElement(la,Object.assign({component:"p"},this.props,{className:t}))}};ew.propTypes={copyable:g.oneOfType([g.object,g.bool]),delete:g.bool,disabled:g.bool,ellipsis:g.oneOfType([g.object,g.bool]),mark:g.bool,link:g.oneOfType([g.object,g.bool]),underline:g.bool,strong:g.bool,type:g.oneOf(dn.TYPE),size:g.oneOf(dn.SIZE),spacing:g.oneOf(dn.SPACING),style:g.object,className:g.string,component:g.string};ew.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""};class cz{constructor(e,t,r,i,s){this.ruleMethods={"bytes-decimal":o=>{const a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let A=0;for(;o>=1e3;)o/=1e3,A++;return`${this.truncatePrecision(o)} ${a[A]}`},"bytes-binary":o=>{const a=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let A=0;for(;o>=1024;)o/=1024,A++;return`${this.truncatePrecision(o)} ${a[A]}`},percentages:o=>`${this.truncatePrecision(o*100)}%`,exponential:o=>{const A=o.toExponential(this.precision+2).split("e");return`${this.truncatePrecision(Number(A[0]))}e${A[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=typeof s<"u",this.content=e,this.rule=t,this.precision=r,this.truncate=i,this.parser=s}format(){return this.isDiyParser?this.parser(this.content):this.rule==="text"?qm(this.content).map(e=>e0(e)?this.truncatePrecision(e):e).join(""):this.rule==="numbers"?qm(this.content).filter(e=>e0(e)).map(e=>this.truncatePrecision(e)).join(","):qm(this.content).map(e=>e0(e)?this.ruleMethods[this.rule](Number(e)):e).join("")}truncatePrecision(e){const t=this.truncateMethods[this.truncate](Number(e)*Math.pow(10,this.precision))/Math.pow(10,this.precision),r=t.toString().split(".");if(r.length===1)return t.toFixed(this.precision);const i=r[1].length;return i<this.precision?`${r[0]}.${r[1]}${"0".repeat(this.precision-i)}`:t.toString()}}function qm(n){const e=/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g;return n.match(e)||[]}function e0(n){return!(isNaN(Number(n))||n.replace(/\s+/g,"")==="")}class tw extends H.PureComponent{formatNodeDFS(e){return Array.isArray(e)||(e=[e]),e=e.map(t=>typeof t=="string"||typeof t=="number"?new cz(String(t),this.props.rule,this.props.precision,this.props.truncate,this.props.parser).format():typeof t=="function"?this.formatNodeDFS(t()):typeof t=="object"&&"children"in t.props?Object.assign(Object.assign({},t),{props:Object.assign(Object.assign({},t.props),{children:this.formatNodeDFS(t.props.children)})}):t),e.length===1?e[0]:e}render(){const e=Object.assign({},this.props);return delete e.rule,delete e.parser,e.children=this.formatNodeDFS(this.props.children),b.createElement(la,Object.assign({component:"span"},e))}}tw.propTypes={rule:g.oneOf(dn.RULE),precision:g.number,truncate:g.oneOf(dn.TRUNCATE),parser:g.func,copyable:g.oneOfType([g.object,g.bool]),delete:g.bool,disabled:g.bool,icon:g.oneOfType([g.node,g.string]),mark:g.bool,underline:g.bool,link:g.oneOfType([g.object,g.bool]),strong:g.bool,type:g.oneOf(dn.TYPE),size:g.oneOf(dn.SIZE),style:g.object,className:g.string,code:g.bool,component:g.string};tw.defaultProps={rule:"text",precision:0,truncate:"round",parser:void 0,copyable:!1,delete:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};const zr=Sg;zr.Text=Ig;zr.Title=Ug;zr.Paragraph=ew;zr.Numeral=tw;var hz=Js,uz=Vr,dz="[object Number]";function fz(n){return typeof n=="number"||uz(n)&&hz(n)==dz}var S3=fz;const Ls=Ge(S3),pz=`${re}-spin`,gz={PREFIX:pz},mz={SIZE:["small","middle","large"]};class nw extends Ye{static get spinDefaultAdapter(){return{getProp:()=>{},setLoading:e=>{}}}constructor(e){super(Object.assign(Object.assign({},nw.spinDefaultAdapter),e))}updateLoadingIfNeedDelay(){const{spinning:e,delay:t}=this._adapter.getProps(),{delay:r}=this._adapter.getStates();if(r){const i=this;this._timer=setTimeout(()=>{i._adapter.setState({loading:e,delay:0})},t)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}}var vz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};let dB=-1;function E3(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:e,className:t}=n,r=vz(n,["id","className"]);let i=e;Sn(i)&&(dB++,i=dB);const s=`linearGradient-${i}`;return b.createElement("svg",Object.assign({},r,{className:t,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),b.createElement("defs",null,b.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:s},b.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),b.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),b.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),b.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},b.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),b.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:`url(#${s})`,strokeWidth:"4",strokeLinecap:"round"})))}var yz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const eo=gz.PREFIX;class kg extends Ie{constructor(e){super(e),this.foundation=new nw(this.adapter),this.state={delay:e.delay,loading:!0}}static getDerivedStateFromProps(e){return e.delay?e.spinning===!1?{delay:0,loading:!1}:{delay:e.delay}:{loading:e.spinning}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setLoading:e=>{this.setState({loading:e})}})}componentWillUnmount(){this.foundation.destroy()}renderSpin(){const{indicator:e,tip:t}=this.props,{loading:r}=this.state;return r?b.createElement("div",{className:`${eo}-wrapper`},e?b.createElement("div",{className:`${eo}-animate`,"x-semi-prop":"indicator"},e):b.createElement(E3,null),t?b.createElement("div",{"x-semi-prop":"tip"},t):null):null}render(){this.foundation.updateLoadingIfNeedDelay();const e=this.props,{children:t,style:r,wrapperClassName:i,childStyle:s,size:o}=e,a=yz(e,["children","style","wrapperClassName","childStyle","size"]),{loading:A}=this.state,c=N(eo,i,{[`${eo}-${o}`]:o,[`${eo}-block`]:t,[`${eo}-hidden`]:!A});return b.createElement("div",Object.assign({className:c,style:r},this.getDataAttr(a)),this.renderSpin(),b.createElement("div",{className:`${eo}-children`,style:s,"x-semi-prop":"children"},t))}}kg.propTypes={size:g.oneOf(mz.SIZE),spinning:g.bool,children:g.node,indicator:g.node,delay:g.number,tip:g.node,wrapperClassName:g.string,childStyle:g.object,style:g.object};kg.defaultProps={size:"middle",spinning:!0,children:null,indicator:null,delay:0};const rw={PREFIX:`${re}-input`},nl={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]},bz={};function wz(n){const{value:e,maxLength:t,getValueLength:r}=n;if(un(r)){let i=0,s=e.length;for(;i<s;){const o=i+Math.floor((s-i)/2),a=e.slice(0,o+1);r(a)>t?s=o:i=o+1}return e.slice(0,i)}else return e.slice(0,t)}class iw extends Ye{static get inputDefaultAdapter(){return{notifyChange:X,setValue:X}}constructor(e){super(Object.assign(Object.assign({},iw.inputDefaultAdapter),e))}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}setDisable(){}setValue(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:i,getValueLength:s}=this._adapter.getProps();let o=e;r&&un(s)&&(o=this.handleVisibleMaxLength(e)),i&&un(s)&&this.handleVisibleMinLength(o),this._isControlledComponent()?this._adapter.notifyChange(o,t):(this._adapter.setValue(o),this._adapter.notifyChange(o,t))}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:i}=this._adapter.getStates();if(Ls(t)&&t>=0&&un(r)&&Ft(e)){const s=r(e);if(s<t){const o=e.length+(t-s);o!==i&&this._adapter.setMinLength(o)}else i!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();return Ls(t)&&t>=0&&un(r)&&Ft(e)&&r(e)>t?(console.warn("[Semi Input] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)):e}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();return wz({value:e,maxLength:t,getValueLength:r})}handleClear(e){let t=e;const r="";this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),(!t||typeof t!="object")&&(t={}),u3(t,nl.CLEARBTN_CLICKED_EVENT_FLAG,!0),this._adapter.notifyChange(r,t),this._adapter.notifyClear(t),t&&this.stopPropagation(t)}handleClick(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();t||r||this._adapter.isEventTarget(e)&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handleModeChange(e){e==="password"?this._adapter.setEyeClosed(!0):this._adapter.setEyeClosed(!1)}handleClickEye(e){const t=this._adapter.getState("eyeClosed");this._adapter.focusInput(),this._adapter.toggleFocusing(!0),this._adapter.setEyeClosed(!t)}handleInputType(e){const t=this._adapter.getProp("mode"),r=this._adapter.getState("eyeClosed");return t==="password"?r?"password":"text":e}handleMouseDown(e){e.preventDefault()}handleMouseUp(e){e.preventDefault()}handleBlur(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(t,e)}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleInput(e){this._adapter.notifyInput(e)}handleKeyDown(e){this._adapter.notifyKeyDown(e)}handleKeyUp(e){this._adapter.notifyKeyUp(e)}handleKeyPress(e){this._adapter.notifyKeyPress(e),e.key===Zb&&this._adapter.notifyEnterPress(e)}isAllowClear(){const{value:e,isFocus:t,isHovering:r}=this._adapter.getStates(),{showClear:i,disabled:s,showClearIgnoreDisabled:o}=this._adapter.getProps();return e&&i&&(!s||o)&&(t||r)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!t&&!r&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handlePreventMouseDown(e){e&&un(e.preventDefault)&&e.preventDefault()}handleModeEnterPress(e){["Enter"," "].includes(e==null?void 0:e.key)&&(this.handlePreventMouseDown(e),this.handleClickEye(e))}}var Cz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Ee=rw.PREFIX,Bz=nl.SIZE,xz=nl.STATUS,_z=nl.MODE;class sw extends Ie{constructor(e){super(e),this.handleClear=r=>{this.foundation.handleClear(r)},this.handleClick=r=>{this.foundation.handleClick(r)},this.handleMouseOver=r=>{this.setState({isHovering:!0})},this.handleMouseLeave=r=>{this.setState({isHovering:!1})},this.handleModeChange=r=>{this.foundation.handleModeChange(r)},this.handleClickEye=r=>{this.foundation.handleClickEye(r)},this.handleMouseDown=r=>{this.foundation.handleMouseDown(r)},this.handleMouseUp=r=>{this.foundation.handleMouseUp(r)},this.handleModeEnterPress=r=>{this.foundation.handleModeEnterPress(r)},this.handleClickPrefixOrSuffix=r=>{this.foundation.handleClickPrefixOrSuffix(r)},this.handlePreventMouseDown=r=>{this.foundation.handlePreventMouseDown(r)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,cachedValue:e.value,disabled:!1,props:{},isFocus:!1,isHovering:!1,eyeClosed:e.mode==="password",minLength:e.minLength},this.inputRef=b.createRef(),this.prefixRef=b.createRef(),this.suffixRef=b.createRef(),this.foundation=new iw(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e}),setEyeClosed:e=>this.setState({eyeClosed:e}),toggleFocusing:e=>{this.setState({isFocus:e})},focusInput:()=>{const{preventScroll:e}=this.props,t=this.inputRef&&this.inputRef.current;t&&t.focus({preventScroll:e})},toggleHovering:e=>this.setState({isHovering:e}),getIfFocusing:()=>this.state.isFocus,notifyChange:(e,t)=>this.props.onChange(e,t),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyInput:e=>this.props.onInput(e),notifyKeyPress:e=>this.props.onKeyPress(e),notifyKeyDown:e=>this.props.onKeyDown(e),notifyKeyUp:e=>this.props.onKeyUp(e),notifyEnterPress:e=>this.props.onEnterPress(e),notifyClear:e=>this.props.onClear(e),setMinLength:e=>this.setState({minLength:e}),isEventTarget:e=>e&&e.target===e.currentTarget})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentDidUpdate(e){const{mode:t}=this.props;e.mode!==t&&this.handleModeChange(t)}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:r}=this.props;!e&&(t||this.props.autofocus)&&this.inputRef.current.focus({preventScroll:r})}renderPrepend(){const{addonBefore:e}=this.props;if(e){const t=N({[`${Ee}-prepend`]:!0,[`${Ee}-prepend-text`]:e&&Ft(e),[`${Ee}-prepend-icon`]:kr(e)});return b.createElement("div",{className:t,"x-semi-prop":"addonBefore"},e)}return null}renderAppend(){const{addonAfter:e}=this.props;if(e){const t=N({[`${Ee}-append`]:!0,[`${Ee}-append-text`]:e&&Ft(e),[`${Ee}-append-icon`]:kr(e)});return b.createElement("div",{className:t,"x-semi-prop":"addonAfter"},e)}return null}renderClearBtn(){const e=N(`${Ee}-clearbtn`),{clearIcon:t}=this.props;return this.foundation.isAllowClear()?b.createElement("div",{className:e,onMouseDown:this.handleClear},t||b.createElement(b3,null)):null}renderModeBtn(){const{eyeClosed:e}=this.state,{mode:t,disabled:r}=this.props,i=N(`${Ee}-modebtn`),s=e?b.createElement(NV,null):b.createElement(jV,null),o=t==="password"&&!r,a=e?"Show password":"Hidden password";return o?b.createElement("div",{role:"button",tabIndex:0,"aria-label":a,className:i,onClick:this.handleClickEye,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyPress:this.handleModeEnterPress},s):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,i=e||t;if(!i)return null;const s=N({[`${Ee}-prefix`]:!0,[`${Ee}-inset-label`]:t,[`${Ee}-prefix-text`]:i&&Ft(i),[`${Ee}-prefix-icon`]:kr(i)});return b.createElement("div",{className:s,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix,insetLabel"},i)}renderSuffix(e){const{suffix:t,hideSuffix:r}=this.props;if(!t)return null;const i=N({[`${Ee}-suffix`]:!0,[`${Ee}-suffix-text`]:t&&Ft(t),[`${Ee}-suffix-icon`]:kr(t),[`${Ee}-suffix-hidden`]:e&&!!r});return b.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},t)}getInputRef(){const{forwardRef:e}=this.props;if(!Kl(e)){if(typeof e=="function")return t=>{e(t),this.inputRef={current:t}};if(Object.prototype.toString.call(e)==="[object Object]")return this.inputRef=e,e}return this.inputRef}render(){const e=this.props,{addonAfter:t,addonBefore:r,autoFocus:i,clearIcon:s,className:o,disabled:a,defaultValue:A,placeholder:c,prefix:l,mode:h,insetLabel:u,insetLabelId:d,validateStatus:p,type:f,readonly:v,size:m,suffix:y,style:w,showClear:C,onEnterPress:S,onClear:x,hideSuffix:E,inputStyle:T,forwardRef:P,maxLength:F,getValueLength:U,preventScroll:I,borderless:D,showClearIgnoreDisabled:$,onlyBorder:M}=e,G=Cz(e,["addonAfter","addonBefore","autoFocus","clearIcon","className","disabled","defaultValue","placeholder","prefix","mode","insetLabel","insetLabelId","validateStatus","type","readonly","size","suffix","style","showClear","onEnterPress","onClear","hideSuffix","inputStyle","forwardRef","maxLength","getValueLength","preventScroll","borderless","showClearIgnoreDisabled","onlyBorder"]),{value:V,isFocus:Q,minLength:R}=this.state,B=this.foundation.isAllowClear(),O=kr(y),k=this.getInputRef(),L=`${Ee}-wrapper`,j=N(L,o,{[`${Ee}-wrapper__with-prefix`]:l||u,[`${Ee}-wrapper__with-suffix`]:y,[`${Ee}-wrapper__with-suffix-hidden`]:B&&!!E,[`${Ee}-wrapper__with-suffix-icon`]:O,[`${Ee}-wrapper__with-append`]:r,[`${Ee}-wrapper__with-prepend`]:t,[`${Ee}-wrapper__with-append-only`]:r&&!t,[`${Ee}-wrapper__with-prepend-only`]:!r&&t,[`${L}-readonly`]:v,[`${L}-disabled`]:a,[`${L}-warning`]:p==="warning",[`${L}-error`]:p==="error",[`${L}-focus`]:Q,[`${L}-clearable`]:C,[`${L}-modebtn`]:h==="password",[`${L}-hidden`]:f==="hidden",[`${L}-${m}`]:m,[`${Ee}-borderless`]:D,[`${Ee}-only_border`]:M!=null}),K=N(Ee,{[`${Ee}-${m}`]:m,[`${Ee}-disabled`]:a,[`${Ee}-sibling-clearbtn`]:this.foundation.isAllowClear(),[`${Ee}-sibling-modebtn`]:h==="password"}),J=V??"",Y=Object.assign(Object.assign({},G),{style:T,className:K,disabled:a,readOnly:v,type:this.foundation.handleInputType(f),placeholder:c,onInput:Z=>this.foundation.handleInput(Z),onChange:Z=>this.foundation.handleChange(Z.target.value,Z),onFocus:Z=>this.foundation.handleFocus(Z),onBlur:Z=>this.foundation.handleBlur(Z),onKeyUp:Z=>this.foundation.handleKeyUp(Z),onKeyDown:Z=>this.foundation.handleKeyDown(Z),onKeyPress:Z=>this.foundation.handleKeyPress(Z),value:J});un(U)||(Y.maxLength=F),R&&(Y.minLength=R),p==="error"&&(Y["aria-invalid"]="true");let ie=Object.assign({},w);return M!==void 0&&(ie=Object.assign({borderWidth:M},w)),b.createElement("div",{className:j,style:ie,onMouseEnter:Z=>this.handleMouseOver(Z),onMouseLeave:Z=>this.handleMouseLeave(Z),onClick:Z=>this.handleClick(Z)},this.renderPrepend(),this.renderPrefix(),b.createElement("input",Object.assign({},Y,{ref:k})),this.renderClearBtn(),this.renderSuffix(B),this.renderModeBtn(),this.renderAppend())}}sw.propTypes={"aria-label":g.string,"aria-labelledby":g.string,"aria-invalid":g.bool,"aria-errormessage":g.string,"aria-describedby":g.string,"aria-required":g.bool,addonBefore:g.node,addonAfter:g.node,clearIcon:g.node,prefix:g.node,suffix:g.node,mode:g.oneOf(_z),value:g.any,defaultValue:g.any,disabled:g.bool,readonly:g.bool,autoFocus:g.bool,type:g.string,showClear:g.bool,hideSuffix:g.bool,placeholder:g.any,size:g.oneOf(Bz),className:g.string,style:g.object,validateStatus:g.oneOf(xz),onClear:g.func,onChange:g.func,onBlur:g.func,onFocus:g.func,onInput:g.func,onKeyDown:g.func,onKeyUp:g.func,onKeyPress:g.func,onEnterPress:g.func,insetLabel:g.node,insetLabelId:g.string,inputStyle:g.object,getValueLength:g.func,preventScroll:g.bool,borderless:g.bool};sw.defaultProps={addonBefore:"",addonAfter:"",prefix:"",suffix:"",readonly:!1,type:"text",showClear:!1,hideSuffix:!1,placeholder:"",size:"default",className:"",onClear:X,onChange:X,onBlur:X,onFocus:X,onInput:X,onKeyDown:X,onKeyUp:X,onKeyPress:X,onEnterPress:X,validateStatus:"default",borderless:!1};const vf=b.forwardRef((n,e)=>b.createElement(sw,Object.assign({},n,{forwardRef:e})));var Sz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class F3 extends b.PureComponent{render(){const e=this.props,{triggerRender:t,componentName:r}=e,i=Sz(e,["triggerRender","componentName"]);return t(Object.assign({},i))}}F3.propTypes={triggerRender:g.func.isRequired,componentName:g.string,componentProps:g.object,value:g.any,inputValue:g.string,placeholder:g.oneOfType([g.string,g.array]),className:g.string,style:g.object};const Ez={PREFIX:`${re}-avatar`},rl={SHAPE:["circle","square"],SIZE:["extra-extra-small","extra-small","small","default","medium","large","extra-large"],COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],OVERLAP_FROM:["start","end"]};class Fz extends Ye{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:r}=t;try{r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{zi(!0,"Warning: [Semi Avatar] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)},this.changeScale=()=>{const{gap:t}=this.getProps(),r=this._adapter.getAvatarNode(),i=r==null?void 0:r.firstChild,[s,o]=[(r==null?void 0:r.offsetWidth)||0,(i==null?void 0:i.offsetWidth)||0];if(s!==0&&o!==0&&t*2<s){const a=s-t*2>o?1:(s-t*2)/o;this._adapter.setScale(a)}}}init(){const{children:e}=this.getProps();typeof e=="string"&&this.changeScale()}destroy(){}handleImgLoadError(){const{onError:e}=this.getProps();(e?e():void 0)!==!1&&this._adapter.notifyImgState(!1)}handleEnter(e){this._adapter.notifyEnter(e)}handleLeave(e){this._adapter.notifyLeave(e)}}const Tz=n=>{let{gradientStart:e,gradientEnd:t}=n;const r=ff();return b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"51",height:"52",viewBox:"0 0 51 52",fill:"none"},b.createElement("g",{filter:"url(#filter0_d_6_2)"},b.createElement("path",{d:"M40.4918 46.5592C44.6795 43.176 46.261 34.1333 47.5301 25.6141C49.5854 11.8168 39.6662 1 25.8097 1C11.2857 1 3 11.4279 3 25.3518C3 33.7866 6.29361 43.8947 10.4602 46.5592C12.5868 47.9192 12.5868 47.9051 25.8097 47.9192C38.3651 47.9282 38.5352 48.14 40.4918 46.5592Z",fill:`url(#${r})`})),b.createElement("defs",null,b.createElement("filter",{id:"filter0_d_6_2",x:"0.789215",y:"0.447304",width:"49.2216",height:"51.3549",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},b.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),b.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b.createElement("feOffset",{dy:"1.65809"}),b.createElement("feGaussianBlur",{stdDeviation:"1.10539"}),b.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),b.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_6_2"}),b.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_6_2",result:"shape"})),b.createElement("linearGradient",{id:r,x1:"17.671",y1:"31.7392",x2:"17.671",y2:"47.9333",gradientUnits:"userSpaceOnUse"},b.createElement("stop",{stopColor:e}),b.createElement("stop",{offset:"1",stopColor:t}))))};var Pz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Oz=rl.SIZE,Iz=rl.SHAPE,Uz=rl.COLOR,Fe=Ez.PREFIX;let Vn=class extends Ie{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.getContent=()=>{const{children:t,onClick:r,imgAttr:i,src:s,srcSet:o,alt:a}=this.props,{isImgExist:A}=this.state;let c=t;const l=r!==Wn,h=s&&A,u={tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocusVisible,onBlur:this.handleBlur};if(h){const d=l?`clickable Avatar: ${a}`:a,p=Object.assign(Object.assign({src:s,srcSet:o,onError:this.handleError},i),{className:N({[`${Fe}-no-focus-visible`]:l})}),f=l?Object.assign(Object.assign({},p),u):p;c=b.createElement("img",Object.assign({alt:d},f))}else if(typeof t=="string"){const d=a??t,f={role:"img","aria-label":l?`clickable Avatar: ${d}`:d,className:N(`${Fe}-label`,{[`${Fe}-no-focus-visible`]:l})},v=l?Object.assign(Object.assign({},f),u):f,m={transform:`scale(${this.state.scale})`};c=b.createElement("span",{className:`${Fe}-content`,style:m},b.createElement("span",Object.assign({},v,{"x-semi-prop":"children"}),t))}return c},this.renderBottomSlot=()=>{var t,r;if(!this.props.bottomSlot)return null;if(this.props.bottomSlot.render)return this.props.bottomSlot.render();const i=(t=this.props.bottomSlot.render)!==null&&t!==void 0?t:()=>{var s;const o={};return this.props.bottomSlot.bgColor&&(o.backgroundColor=this.props.bottomSlot.bgColor),this.props.bottomSlot.textColor&&(o.color=this.props.bottomSlot.textColor),b.createElement("span",{style:o,className:N(`${Fe}-bottom_slot-shape_${this.props.bottomSlot.shape}`,`${Fe}-bottom_slot-shape_${this.props.bottomSlot.shape}-${this.props.size}`,(s=this.props.bottomSlot.className)!==null&&s!==void 0?s:"")},this.props.bottomSlot.text)};return b.createElement("div",{className:N([`${Fe}-bottom_slot`]),style:(r=this.props.bottomSlot.style)!==null&&r!==void 0?r:{}},i())},this.renderTopSlot=()=>{var t,r,i,s;if(!this.props.topSlot)return null;if(this.props.topSlot.render)return this.props.topSlot.render();const o={};return this.props.topSlot.textColor&&(o.color=this.props.topSlot.textColor),b.createElement("div",{style:(t=this.props.topSlot.style)!==null&&t!==void 0?t:{},className:N([`${Fe}-top_slot-wrapper`,(r=this.props.topSlot.className)!==null&&r!==void 0?r:"",{[`${Fe}-animated`]:this.props.contentMotion}])},b.createElement("div",{className:N([`${Fe}-top_slot-bg`,`${Fe}-top_slot-bg-${this.props.size}`])},b.createElement("div",{className:N([`${Fe}-top_slot-bg-svg`,`${Fe}-top_slot-bg-svg-${this.props.size}`])},b.createElement(Tz,{gradientStart:(i=this.props.topSlot.gradientStart)!==null&&i!==void 0?i:"var(--semi-color-primary)",gradientEnd:(s=this.props.topSlot.gradientEnd)!==null&&s!==void 0?s:"var(--semi-color-primary)"}))),b.createElement("div",{className:N([`${Fe}-top_slot`])},b.createElement("div",{style:o,className:N([`${Fe}-top_slot-content`,`${Fe}-top_slot-content-${this.props.size}`])},this.props.topSlot.text)))},this.state={isImgExist:!0,hoverContent:"",focusVisible:!1,scale:1},this.onEnter=this.onEnter.bind(this),this.onLeave=this.onLeave.bind(this),this.handleError=this.handleError.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.getContent=this.getContent.bind(this),this.avatarRef=b.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyImgState:e=>{this.setState({isImgExist:e})},notifyEnter:e=>{const{hoverMask:t}=this.props,r=t;this.setState({hoverContent:r},()=>{const{onMouseEnter:i}=this.props;i&&i(e)})},notifyLeave:e=>{this.setState({hoverContent:""},()=>{const{onMouseLeave:t}=this.props;t&&t(e)})},setFocusVisible:e=>{this.setState({focusVisible:e})},setScale:e=>{this.setState({scale:e})},getAvatarNode:()=>{var e;return(e=this.avatarRef)===null||e===void 0?void 0:e.current}})}componentDidMount(){this.foundation=new Fz(this.adapter),this.foundation.init()}componentDidUpdate(e){if(this.props.src&&this.props.src!==e.src){const t=new Image(0,0);t.src=this.props.src,t.onload=()=>{this.setState({isImgExist:!0})},t.onerror=()=>{this.setState({isImgExist:!1})},t.onabort=()=>{this.setState({isImgExist:!1})}}typeof this.props.children=="string"&&this.props.children!==e.children&&this.foundation.changeScale()}componentWillUnmount(){this.foundation.destroy()}onEnter(e){this.foundation.handleEnter(e)}onLeave(e){this.foundation.handleLeave(e)}handleError(){this.foundation.handleImgLoadError()}handleKeyDown(e){const{onClick:t}=this.props;switch(e.key){case"Enter":t(e),xn(e);break;case"Escape":e.target.blur();break}}render(){var e;const t=this.props,{shape:r,children:i,size:s,color:o,className:a,hoverMask:A,onClick:c,imgAttr:l,src:h,srcSet:u,style:d,alt:p,gap:f,bottomSlot:v,topSlot:m,border:y,contentMotion:w}=t,C=Pz(t,["shape","children","size","color","className","hoverMask","onClick","imgAttr","src","srcSet","style","alt","gap","bottomSlot","topSlot","border","contentMotion"]),{isImgExist:S,hoverContent:x,focusVisible:E}=this.state;let T={};rl.SIZE.includes(s)||(T={width:s,height:s}),T=Object.assign(Object.assign({},T),d);const P=v||m||y,F={onClick:c,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave},U=h&&S,I=N(Fe,{[`${Fe}-${r}`]:r,[`${Fe}-${s}`]:s,[`${Fe}-${o}`]:o&&!U,[`${Fe}-img`]:U,[`${Fe}-focus`]:E,[`${Fe}-animated`]:w},a),D=x?b.createElement("div",{className:`${Fe}-hover`,"x-semi-prop":"hoverContent"},x):null;let $=b.createElement("span",Object.assign({},C,{style:P?{}:T,className:I},P?{}:F,{role:"listitem",ref:this.avatarRef}),this.getContent(),D);if(y){const M={};typeof y=="object"&&(y!=null&&y.color)&&(M.borderColor=y==null?void 0:y.color),$=b.createElement("div",{style:Object.assign({position:"relative"},T)},$,b.createElement("span",{style:M,className:N([`${Fe}-additionalBorder`,`${Fe}-additionalBorder-${s}`,{[`${Fe}-${r}`]:r}])}),typeof this.props.border=="object"&&this.props.border.motion&&b.createElement("span",{style:M,className:N([`${Fe}-additionalBorder`,`${Fe}-additionalBorder-${s}`,{[`${Fe}-${r}`]:r,[`${Fe}-additionalBorder-animated`]:typeof this.props.border=="object"&&((e=this.props.border)===null||e===void 0?void 0:e.motion)}])}))}return P?b.createElement("span",Object.assign({className:N([`${Fe}-wrapper`]),style:T},F),$,m&&["extra-small","small","default","medium","large","extra-large"].includes(s)&&r==="circle"&&this.renderTopSlot(),v&&["extra-small","small","default","medium","large","extra-large"].includes(s)&&this.renderBottomSlot()):$}};Vn.__SemiComponentName__="Avatar";Vn.defaultProps=nr(Vn.__SemiComponentName__,{size:"medium",color:"grey",shape:"circle",gap:3,onClick:Wn,onMouseEnter:Wn,onMouseLeave:Wn});Vn.propTypes={children:g.node,color:g.oneOf(Uz),shape:g.oneOf(Iz),size:g.oneOf(Oz),hoverMask:g.node,className:g.string,style:g.object,gap:g.number,imgAttr:g.object,src:g.string,srcSet:g.string,alt:g.string,onError:g.func,onClick:g.func,onMouseEnter:g.func,onMouseLeave:g.func,bottomSlot:g.shape({render:g.func,shape:g.oneOf(["circle","square"]),text:g.node,bgColor:g.string,textColor:g.string,className:g.string,style:g.object}),topSlot:g.shape({render:g.func,gradientStart:g.string,gradientEnd:g.string,text:g.node,textColor:g.string,className:g.string,style:g.object}),border:g.oneOfType([g.shape({color:g.string,motion:g.bool}),g.bool]),contentMotion:g.bool};Vn.elementType="Avatar";const T3={PREFIX:`${re}-button`},yh={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light","outline"],DEFAULT_ICON_SIZE:"default",DEFAULT_ICON_POSITION:"left"},kz={SIZE:["extra-small","small","default","large","extra-large","custom"],ICON_PREFIX:"semi-icon-"};var Dz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Qz=yh.sizes,{htmlTypes:Mz,btnTypes:Lz}=yh;let bh=class extends H.PureComponent{render(){const e=this.props,{children:t,block:r,htmlType:i,loading:s,circle:o,className:a,style:A,disabled:c,size:l,theme:h,type:u,prefixCls:d,iconPosition:p}=e,f=Dz(e,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","prefixCls","iconPosition"]),v=Object.assign(Object.assign({disabled:c},Vi(f,["x-semi-children-alias"])),{className:N(d,{[`${d}-${u}`]:!c&&u,[`${d}-disabled`]:c,[`${d}-size-large`]:l==="large",[`${d}-size-small`]:l==="small",[`${d}-light`]:h==="light",[`${d}-block`]:r,[`${d}-circle`]:o,[`${d}-borderless`]:h==="borderless",[`${d}-outline`]:h==="outline",[`${d}-${u}-disabled`]:c&&u},a),type:i,"aria-disabled":c}),m={};return a&&a.includes("-with-icon")||(m["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),b.createElement("button",Object.assign({},v,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:A}),b.createElement("span",Object.assign({className:N(`${d}-content`,this.props.contentClassName),onClick:y=>c&&y.stopPropagation()},m),t))}};bh.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:Wn,onClick:Wn,onMouseEnter:Wn,onMouseLeave:Wn,prefixCls:T3.PREFIX};bh.propTypes={children:g.node,disabled:g.bool,prefixCls:g.string,style:g.object,size:g.oneOf(Qz),type:g.oneOf(Lz),block:g.bool,onClick:g.func,onMouseDown:g.func,circle:g.bool,loading:g.bool,htmlType:g.oneOf(Mz),theme:g.oneOf(yh.themes),className:g.string,onMouseEnter:g.func,onMouseLeave:g.func,"aria-label":g.string,contentClassName:g.string};var Nz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Rz=kz.SIZE;class ca extends H.PureComponent{render(){const e=this.props,{children:t,iconPosition:r,iconSize:i,iconStyle:s,style:o,icon:a,noHorizontalPadding:A,theme:c,className:l,prefixCls:h,loading:u}=e,d=Nz(e,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),p=Object.assign({},o);Array.isArray(A)?(A.includes("left")&&(p.paddingLeft=0),A.includes("right")&&(p.paddingRight=0)):A===!0?(p.paddingLeft=0,p.paddingRight=0):typeof A=="string"&&(A==="left"&&(p.paddingLeft=0),A==="right"&&(p.paddingRight=0));let f=null,v=null;u&&!d.disabled?v=b.createElement(E3,null):b.isValidElement(a)&&(v=a);const m=N({[`${h}-content-left`]:r==="right",[`${h}-content-right`]:r==="left"}),y=this.props["x-semi-children-alias"]||"children",w=t!=null?b.createElement("span",{className:m,"x-semi-prop":y},t):null;r==="left"?f=b.createElement(b.Fragment,null,v,w):f=b.createElement(b.Fragment,null,w,v);const C=N(l,`${h}-with-icon`,{[`${h}-with-icon-only`]:w==null||w==="",[`${h}-loading`]:u});return b.createElement(bh,Object.assign({},d,{className:C,theme:c,style:p}),f)}}ca.defaultProps={iconPosition:yh.DEFAULT_ICON_POSITION,prefixCls:T3.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:X,onMouseLeave:X};ca.elementType="IconButton";ca.propTypes={iconStyle:g.object,style:g.object,loading:g.bool,prefixCls:g.string,icon:g.oneOfType([g.object,g.string,g.node]),iconSize:g.oneOf(Rz),noHorizontalPadding:g.oneOfType([g.bool,g.string,g.array]),children:g.node,theme:g.string,iconPosition:g.oneOf(yh.iconPositions),className:g.string,onMouseEnter:g.func,onMouseLeave:g.func};let Ne=class extends b.PureComponent{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e)}render(){const e=Object.assign({},this.props),t=!!e.icon,r=!!e.loading,i=!!e.disabled;return t||r&&!i?b.createElement(ca,Object.assign({},e)):b.createElement(bh,Object.assign({},e))}};Ne.__SemiComponentName__="Button";Ne.propTypes=Object.assign(Object.assign({},bh.propTypes),ca.propTypes);Ne.defaultProps=nr(Ne.__SemiComponentName__);Ne.elementType="Button";const P3={PREFIX:`${re}-card`},Hz={SHADOWS:["hover","always"],TYPE:["grid"]};var $z=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const wl=P3.PREFIX;class O3 extends H.PureComponent{render(){const e=this.props,{avatar:t,className:r,description:i,style:s,title:o}=e,a=$z(e,["avatar","className","description","style","title"]),A=N(`${wl}-meta`,r),c=t&&b.createElement("div",{className:`${wl}-meta-avatar`},t),l=o&&b.createElement("div",{className:`${wl}-meta-wrapper-title`},o),h=i&&b.createElement("div",{className:`${wl}-meta-wrapper-description`},i),u=o||i?b.createElement("div",{className:`${wl}-meta-wrapper`},l,h):null;return b.createElement("div",Object.assign({},a,{className:A,style:s}),c,u)}}O3.propTypes={avatar:g.node,className:g.string,description:g.node,style:g.object,title:g.node};const ow={PREFIX:`${re}-skeleton`};var jz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Kz=rl.SIZE,Gz=rl.SHAPE,Dg=n=>e=>t=>b.createElement(e,Object.assign({type:n},t));class il extends H.PureComponent{render(){const e=this.props,{prefixCls:t,className:r,type:i,size:s,shape:o}=e,a=jz(e,["prefixCls","className","type","size","shape"]),A=N(r,`${t}-${i}`,{[`${t}-${i}-${s}`]:i.toUpperCase()==="AVATAR"},{[`${t}-${i}-${o}`]:i.toUpperCase()==="AVATAR"});return b.createElement("div",Object.assign({className:A},a))}}il.propTypes={type:g.string,prefixCls:g.string,style:g.object,className:g.string,size:g.oneOf(Kz),shape:g.oneOf(Gz)};il.defaultProps={prefixCls:ow.PREFIX,size:"medium",shape:"circle"};const Vz=Dg("avatar")(il),zz=Dg("image")(il),Wz=Dg("title")(il),Xz=Dg("button")(il);class aw extends H.PureComponent{render(){const{prefixCls:e,className:t,style:r,rows:i}=this.props,s=N(t,`${e}-paragraph`);return b.createElement("ul",{className:s,style:r},[...Array(i)].map((o,a)=>b.createElement("li",{key:a})))}}aw.propTypes={rows:g.number,prefixCls:g.string,style:g.object,className:g.string};aw.defaultProps={prefixCls:ow.PREFIX,rows:4};var Yz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const fB=ow.PREFIX;class Ai extends H.PureComponent{render(){const e=this.props,{placeholder:t,active:r,children:i,className:s,loading:o,style:a}=e,A=Yz(e,["placeholder","active","children","className","loading","style"]),c=N(fB,{[`${fB}-active`]:!!r},s);let l;return o?l=b.createElement("div",Object.assign({className:c,style:a},A,{"x-semi-prop":"placeholder"}),t):l=i,l}}Ai.Avatar=Vz;Ai.Title=Wz;Ai.Button=Xz;Ai.Paragraph=aw;Ai.Image=zz;Ai.defaultProps={loading:!0};Ai.propTypes={active:g.bool,placeholder:g.node,style:g.object,className:g.string,loading:g.bool,children:g.node};const Jz={PREFIX:`${re}-space`},_o={ALIGN_SET:["start","end","center","baseline"],SPACING_LOOSE:"loose",SPACING_MEDIUM:"medium",SPACING_TIGHT:"tight"},Zz="Symbol(react.fragment)",Fy=n=>{let e=[];return b.Children.forEach(n,t=>{t!=null&&(Array.isArray(t)?e=e.concat(Fy(t)):H.isValidElement(t)&&t.type&&t.type.toString()===Zz&&t.props?e=e.concat(Fy(t.props.children)):e.push(t))}),e},Cr=Jz.PREFIX;class Qg extends H.PureComponent{render(){const{children:e=null,style:t,className:r,spacing:i,wrap:s,align:o,vertical:a}=this.props,A=s&&a?!1:s,c=Object.assign({},t);let l="",h="";Ft(i)?(l=i,h=i):Ls(i)?(c.rowGap=i,c.columnGap=i):VU(i)&&(Ft(i[0])?l=i[0]:Ls(i[0])&&(c.columnGap=`${i[0]}px`),Ft(i[1])?h=i[1]:Ls(i[1])&&(c.rowGap=`${i[1]}px`));const u=N(Cr,r,{[`${Cr}-align-${o}`]:o,[`${Cr}-vertical`]:a,[`${Cr}-horizontal`]:!a,[`${Cr}-wrap`]:A,[`${Cr}-tight-horizontal`]:l===_o.SPACING_TIGHT,[`${Cr}-tight-vertical`]:h===_o.SPACING_TIGHT,[`${Cr}-medium-horizontal`]:l===_o.SPACING_MEDIUM,[`${Cr}-medium-vertical`]:h===_o.SPACING_MEDIUM,[`${Cr}-loose-horizontal`]:l===_o.SPACING_LOOSE,[`${Cr}-loose-vertical`]:h===_o.SPACING_LOOSE}),d=Fy(e),p=JA(this.props);return b.createElement("div",Object.assign({},p,{className:u,style:c,"x-semi-prop":"children"}),d)}}Qg.propTypes={wrap:g.bool,align:g.oneOf(_o.ALIGN_SET),vertical:g.bool,spacing:g.oneOfType([g.string,g.number,g.array]),children:g.node,style:g.object,className:g.string};Qg.defaultProps={vertical:!1,wrap:!1,spacing:"tight",align:"center"};var qz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const rn=P3.PREFIX;class Mg extends H.PureComponent{constructor(){super(...arguments),this.renderHeader=()=>{const{title:e,headerExtraContent:t,header:r,headerLine:i,headerStyle:s}=this.props,o=N(`${rn}-header`,{[`${rn}-header-bordered`]:!!i}),a=N(`${rn}-header-wrapper`),A=N(`${rn}-header-wrapper-title`,{[`${rn}-header-wrapper-spacing`]:!!t});return r||t||e?b.createElement("div",{style:s,className:o},r||b.createElement("div",{className:a},t&&b.createElement("div",{className:`${rn}-header-wrapper-extra`,"x-semi-prop":"headerExtraContent"},t),e&&b.createElement("div",{className:A},Ft(e)?b.createElement(zr.Title,{heading:6,ellipsis:{showTooltip:!0,rows:1},"x-semi-prop":"title"},e):e))):null},this.renderCover=()=>{const{cover:e}=this.props,t=N(`${rn}-cover`);return e&&b.createElement("div",{className:t,"x-semi-prop":"cover"},e)},this.renderBody=()=>{const{bodyStyle:e,children:t,actions:r,loading:i}=this.props,s=N(`${rn}-body`),o=N(`${rn}-body-actions`),a=N(`${rn}-body-actions-item`),A=b.createElement("div",null,b.createElement(Ai.Title,null),b.createElement("br",null),b.createElement(Ai.Paragraph,{rows:3}));return b.createElement("div",{style:e,className:s},t&&b.createElement(Ai,{placeholder:A,loading:i,active:!0},t),Array.isArray(r)&&b.createElement("div",{className:o},b.createElement(Qg,{spacing:12},r.map((c,l)=>b.createElement("div",{key:l,className:a,"x-semi-prop":`actions.${l}`},c)))))},this.renderFooter=()=>{const{footer:e,footerLine:t,footerStyle:r}=this.props,i=N(`${rn}-footer`,{[`${rn}-footer-bordered`]:t});return e&&b.createElement("div",{style:r,className:i,"x-semi-prop":"footer"},e)}}render(){const e=this.props,{bordered:t,shadows:r,style:i,className:s}=e,o=qz(e,["bordered","shadows","style","className"]),a=Vi(o,["actions","bodyStyle","cover","headerExtraContent","footer","footerLine","footerStyle","header","headerLine","headerStyle","loading","title"]),A=N(rn,s,{[`${rn}-bordered`]:t,[`${rn}-shadows`]:r,[`${rn}-shadows-${r}`]:r});return b.createElement("div",Object.assign({},a,{"aria-busy":this.props.loading,className:A,style:i}),this.renderHeader(),this.renderCover(),this.renderBody(),this.renderFooter())}}Mg.Meta=O3;Mg.propTypes={actions:g.array,bodyStyle:g.object,bordered:g.bool,children:g.node,className:g.string,cover:g.node,footer:g.node,footerLine:g.bool,footerStyle:g.object,header:g.node,headerExtraContent:g.node,headerLine:g.bool,headerStyle:g.object,loading:g.bool,shadows:g.oneOf(Hz.SHADOWS),style:g.object,title:g.node,"aria-label":g.string};Mg.defaultProps={bordered:!0,footerLine:!1,headerLine:!0,loading:!1};function eW(n,e,t,r){for(var i=n.length,s=t+(r?1:-1);r?s--:++s<i;)if(e(n[s],s,n))return s;return-1}var tW=eW;function nW(n){return n!==n}var rW=nW;function iW(n,e,t){for(var r=t-1,i=n.length;++r<i;)if(n[r]===e)return r;return-1}var sW=iW,oW=tW,aW=rW,AW=sW;function lW(n,e,t){return e===e?AW(n,e,t):oW(n,aW,t)}var cW=lW,hW=Qb,pB=1/0,uW=17976931348623157e292;function dW(n){if(!n)return n===0?n:0;if(n=hW(n),n===pB||n===-pB){var e=n<0?-1:1;return e*uW}return n===n?n:0}var fW=dW,pW=fW;function gW(n){var e=pW(n),t=e%1;return e===e?t?e-t:e:0}var mW=gW,vW=cW;function yW(n,e){var t=n==null?0:n.length;return!!t&&vW(n,e,0)>-1}var bW=yW;function wW(n,e,t){for(var r=-1,i=n==null?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1}var CW=wW,BW=s3,xW=bW,_W=CW,SW=kb,EW=Fg,FW=o3,TW=200;function PW(n,e,t,r){var i=-1,s=xW,o=!0,a=n.length,A=[],c=e.length;if(!a)return A;t&&(e=SW(e,EW(t))),r?(s=_W,o=!1):e.length>=TW&&(s=FW,o=!1,e=new BW(e));e:for(;++i<a;){var l=n[i],h=t==null?l:t(l);if(l=r||l!==0?l:0,o&&h===h){for(var u=c;u--;)if(e[u]===h)continue e;A.push(l)}else s(e,h,r)||A.push(l)}return A}var OW=PW,IW=Db,UW=h3,kW=YA;function DW(n,e,t){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=IW(n,o);t(a,o)&&UW(s,kW(o,n),a)}return s}var QW=DW;function MW(n,e){return n!=null&&e in Object(n)}var LW=MW,NW=YA,RW=hh,HW=Hn,$W=Pg,jW=Hb,KW=xg;function GW(n,e,t){e=NW(e,n);for(var r=-1,i=e.length,s=!1;++r<i;){var o=KW(e[r]);if(!(s=n!=null&&t(n,o)))break;n=n[o]}return s||++r!=i?s:(i=n==null?0:n.length,!!i&&jW(i)&&$W(o,i)&&(HW(n)||RW(n)))}var VW=GW,zW=LW,WW=VW;function XW(n,e){return n!=null&&WW(n,e,zW)}var YW=XW,JW=QW,ZW=YW;function qW(n,e){return JW(n,e,function(t,r){return ZW(n,r)})}var eX=qW,tX=eX,nX=i3,rX=nX(function(n,e){return n==null?{}:tX(n,e)}),iX=rX;const Ty=Ge(iX);function Py(){return Py=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Py.apply(null,arguments)}function sX(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Sy(n,e)}var gB=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function oX(n,e){return!!(n===e||gB(n)&&gB(e))}function aX(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!oX(n[t],e[t]))return!1;return!0}function t0(n,e){e===void 0&&(e=aX);var t,r=[],i,s=!1;function o(){for(var a=[],A=0;A<arguments.length;A++)a[A]=arguments[A];return s&&t===this&&e(a,r)||(i=n.apply(this,a),s=!0,t=this,r=a),i}return o}var AX=typeof performance=="object"&&typeof performance.now=="function",mB=AX?function(){return performance.now()}:function(){return Date.now()};function vB(n){cancelAnimationFrame(n.id)}function lX(n,e){var t=mB();function r(){mB()-t>=e?n.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var n0=-1;function yB(n){if(n===void 0&&(n=!1),n0===-1||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),n0=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return n0}var ba=null;function bB(n){if(n===void 0&&(n=!1),ba===null||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?ba="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?ba="negative":ba="positive-ascending"),document.body.removeChild(e),ba}return ba}var cX=150,hX=function(e,t){return e};function uX(n){var e,t=n.getItemOffset,r=n.getEstimatedTotalSize,i=n.getItemSize,s=n.getOffsetForIndexAndAlignment,o=n.getStartIndexForOffset,a=n.getStopIndexForStartIndex,A=n.initInstanceProps,c=n.shouldResetStyleCacheOnItemSizeChange,l=n.validateProps;return e=function(h){sX(u,h);function u(p){var f;return f=h.call(this,p)||this,f._instanceProps=A(f.props,hB(f)),f._outerRef=void 0,f._resetIsScrollingTimeoutId=null,f.state={instance:hB(f),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof f.props.initialScrollOffset=="number"?f.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},f._callOnItemsRendered=void 0,f._callOnItemsRendered=t0(function(v,m,y,w){return f.props.onItemsRendered({overscanStartIndex:v,overscanStopIndex:m,visibleStartIndex:y,visibleStopIndex:w})}),f._callOnScroll=void 0,f._callOnScroll=t0(function(v,m,y){return f.props.onScroll({scrollDirection:v,scrollOffset:m,scrollUpdateWasRequested:y})}),f._getItemStyle=void 0,f._getItemStyle=function(v){var m=f.props,y=m.direction,w=m.itemSize,C=m.layout,S=f._getItemStyleCache(c&&w,c&&C,c&&y),x;if(S.hasOwnProperty(v))x=S[v];else{var E=t(f.props,v,f._instanceProps),T=i(f.props,v,f._instanceProps),P=y==="horizontal"||C==="horizontal",F=y==="rtl",U=P?E:0;S[v]=x={position:"absolute",left:F?void 0:U,right:F?U:void 0,top:P?0:E,height:P?"100%":T,width:P?T:"100%"}}return x},f._getItemStyleCache=void 0,f._getItemStyleCache=t0(function(v,m,y){return{}}),f._onScrollHorizontal=function(v){var m=v.currentTarget,y=m.clientWidth,w=m.scrollLeft,C=m.scrollWidth;f.setState(function(S){if(S.scrollOffset===w)return null;var x=f.props.direction,E=w;if(x==="rtl")switch(bB()){case"negative":E=-w;break;case"positive-descending":E=C-y-w;break}return E=Math.max(0,Math.min(E,C-y)),{isScrolling:!0,scrollDirection:S.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!1}},f._resetIsScrollingDebounced)},f._onScrollVertical=function(v){var m=v.currentTarget,y=m.clientHeight,w=m.scrollHeight,C=m.scrollTop;f.setState(function(S){if(S.scrollOffset===C)return null;var x=Math.max(0,Math.min(C,w-y));return{isScrolling:!0,scrollDirection:S.scrollOffset<x?"forward":"backward",scrollOffset:x,scrollUpdateWasRequested:!1}},f._resetIsScrollingDebounced)},f._outerRefSetter=function(v){var m=f.props.outerRef;f._outerRef=v,typeof m=="function"?m(v):m!=null&&typeof m=="object"&&m.hasOwnProperty("current")&&(m.current=v)},f._resetIsScrollingDebounced=function(){f._resetIsScrollingTimeoutId!==null&&vB(f._resetIsScrollingTimeoutId),f._resetIsScrollingTimeoutId=lX(f._resetIsScrolling,cX)},f._resetIsScrolling=function(){f._resetIsScrollingTimeoutId=null,f.setState({isScrolling:!1},function(){f._getItemStyleCache(-1,null)})},f}u.getDerivedStateFromProps=function(f,v){return dX(f,v),l(f),null};var d=u.prototype;return d.scrollTo=function(f){f=Math.max(0,f),this.setState(function(v){return v.scrollOffset===f?null:{scrollDirection:v.scrollOffset<f?"forward":"backward",scrollOffset:f,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},d.scrollToItem=function(f,v){v===void 0&&(v="auto");var m=this.props,y=m.itemCount,w=m.layout,C=this.state.scrollOffset;f=Math.max(0,Math.min(f,y-1));var S=0;if(this._outerRef){var x=this._outerRef;w==="vertical"?S=x.scrollWidth>x.clientWidth?yB():0:S=x.scrollHeight>x.clientHeight?yB():0}this.scrollTo(s(this.props,f,v,C,this._instanceProps,S))},d.componentDidMount=function(){var f=this.props,v=f.direction,m=f.initialScrollOffset,y=f.layout;if(typeof m=="number"&&this._outerRef!=null){var w=this._outerRef;v==="horizontal"||y==="horizontal"?w.scrollLeft=m:w.scrollTop=m}this._callPropsCallbacks()},d.componentDidUpdate=function(){var f=this.props,v=f.direction,m=f.layout,y=this.state,w=y.scrollOffset,C=y.scrollUpdateWasRequested;if(C&&this._outerRef!=null){var S=this._outerRef;if(v==="horizontal"||m==="horizontal")if(v==="rtl")switch(bB()){case"negative":S.scrollLeft=-w;break;case"positive-ascending":S.scrollLeft=w;break;default:var x=S.clientWidth,E=S.scrollWidth;S.scrollLeft=E-x-w;break}else S.scrollLeft=w;else S.scrollTop=w}this._callPropsCallbacks()},d.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&vB(this._resetIsScrollingTimeoutId)},d.render=function(){var f=this.props,v=f.children,m=f.className,y=f.direction,w=f.height,C=f.innerRef,S=f.innerElementType,x=f.innerTagName,E=f.itemCount,T=f.itemData,P=f.itemKey,F=P===void 0?hX:P,U=f.layout,I=f.outerElementType,D=f.outerTagName,$=f.style,M=f.useIsScrolling,G=f.width,V=this.state.isScrolling,Q=y==="horizontal"||U==="horizontal",R=Q?this._onScrollHorizontal:this._onScrollVertical,B=this._getRangeToRender(),O=B[0],k=B[1],L=[];if(E>0)for(var j=O;j<=k;j++)L.push(H.createElement(v,{data:T,key:F(j,T),index:j,isScrolling:M?V:void 0,style:this._getItemStyle(j)}));var K=r(this.props,this._instanceProps);return H.createElement(I||D||"div",{className:m,onScroll:R,ref:this._outerRefSetter,style:Py({position:"relative",height:w,width:G,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:y},$)},H.createElement(S||x||"div",{children:L,ref:C,style:{height:Q?"100%":K,pointerEvents:V?"none":void 0,width:Q?K:"100%"}}))},d._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var f=this.props.itemCount;if(f>0){var v=this._getRangeToRender(),m=v[0],y=v[1],w=v[2],C=v[3];this._callOnItemsRendered(m,y,w,C)}}if(typeof this.props.onScroll=="function"){var S=this.state,x=S.scrollDirection,E=S.scrollOffset,T=S.scrollUpdateWasRequested;this._callOnScroll(x,E,T)}},d._getRangeToRender=function(){var f=this.props,v=f.itemCount,m=f.overscanCount,y=this.state,w=y.isScrolling,C=y.scrollDirection,S=y.scrollOffset;if(v===0)return[0,0,0,0];var x=o(this.props,S,this._instanceProps),E=a(this.props,x,S,this._instanceProps),T=!w||C==="backward"?Math.max(1,m):1,P=!w||C==="forward"?Math.max(1,m):1;return[Math.max(0,x-T),Math.max(0,Math.min(v-1,E+P)),x,E]},u}(H.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var dX=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},fX=uX({getItemOffset:function(e,t){var r=e.itemSize;return t*r},getItemSize:function(e,t){var r=e.itemSize;return r},getEstimatedTotalSize:function(e){var t=e.itemCount,r=e.itemSize;return r*t},getOffsetForIndexAndAlignment:function(e,t,r,i,s,o){var a=e.direction,A=e.height,c=e.itemCount,l=e.itemSize,h=e.layout,u=e.width,d=a==="horizontal"||h==="horizontal",p=d?u:A,f=Math.max(0,c*l-p),v=Math.min(f,t*l),m=Math.max(0,t*l-p+l+o);switch(r==="smart"&&(i>=m-p&&i<=v+p?r="auto":r="center"),r){case"start":return v;case"end":return m;case"center":{var y=Math.round(m+(v-m)/2);return y<Math.ceil(p/2)?0:y>f+Math.floor(p/2)?f:y}case"auto":default:return i>=m&&i<=v?i:i<m?m:v}},getStartIndexForOffset:function(e,t){var r=e.itemCount,i=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/i)))},getStopIndexForStartIndex:function(e,t,r){var i=e.direction,s=e.height,o=e.itemCount,a=e.itemSize,A=e.layout,c=e.width,l=i==="horizontal"||A==="horizontal",h=t*a,u=l?c:s,d=Math.ceil((u+r-h)/a);return Math.max(0,Math.min(o-1,t+d-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});const I3={PREFIX:`${re}-tag`},sl={TAG_SIZE:["default","small","large"],TAG_COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],TAG_TYPE:["light","solid","ghost"],AVATAR_SHAPE:["square","circle"]};var pX=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const sn=I3.PREFIX,U3=sl.TAG_COLOR,k3=sl.TAG_SIZE,D3=sl.TAG_TYPE,gX=sl.AVATAR_SHAPE;class jr extends H.Component{constructor(e){super(e),this.state={visible:!0},this.close=this.close.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getDerivedStateFromProps(e){return"visible"in e?{visible:e.visible}:null}setVisible(e){"visible"in this.props||this.setState({visible:e})}close(e,t,r){const{onClose:i}=this.props;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),i&&i(t,e,r),!e.defaultPrevented&&this.setVisible(!1)}handleKeyDown(e){const{closable:t,onClick:r,onKeyDown:i}=this.props;switch(e.key){case"Backspace":case"Delete":t&&this.close(e,this.props.children,this.props.tagKey),xn(e);break;case"Enter":r(e),xn(e);break;case"Escape":e.target.blur();break}i&&i(e)}renderAvatar(){const{avatarShape:e,avatarSrc:t}=this.props;return b.createElement(Vn,{src:t,shape:e})}render(){const e=this.props,{tagKey:t,children:r,size:i,color:s,closable:o,visible:a,onClose:A,onClick:c,className:l,type:h,shape:u,avatarSrc:d,avatarShape:p,tabIndex:f,prefixIcon:v,suffixIcon:m}=e,y=pX(e,["tagKey","children","size","color","closable","visible","onClose","onClick","className","type","shape","avatarSrc","avatarShape","tabIndex","prefixIcon","suffixIcon"]),{visible:w}=this.state,C=c!==jr.defaultProps.onClick||o,S={role:"button",tabIndex:f||0,onKeyDown:this.handleKeyDown},x=Object.assign(Object.assign({},y),{onClick:c,tabIndex:f,className:N(sn,{[`${sn}-default`]:i==="default",[`${sn}-small`]:i==="small",[`${sn}-large`]:i==="large",[`${sn}-square`]:u==="square",[`${sn}-circle`]:u==="circle",[`${sn}-${h}`]:h,[`${sn}-${s}-${h}`]:s&&h,[`${sn}-closable`]:o,[`${sn}-invisible`]:!w,[`${sn}-avatar-${p}`]:d},l)}),E=C?Object.assign(Object.assign({},x),S):x,T=o?b.createElement("div",{className:`${sn}-close`,onClick:U=>this.close(U,r,t)},b.createElement(mh,{size:"small"})):null,P=Ft(r),F=N(`${sn}-content`,`${sn}-content-${P?"ellipsis":"center"}`);return b.createElement("div",Object.assign({"aria-label":this.props["aria-label"]||P?`${o?"Closable ":""}Tag: ${r}`:""},E),v?b.createElement("div",{className:`${sn}-prefix-icon`},v):null,d?this.renderAvatar():null,b.createElement("div",{className:F},r),m?b.createElement("div",{className:`${sn}-suffix-icon`},m):null,T)}}jr.defaultProps={size:k3[0],color:U3[0],closable:!1,type:D3[0],onClose:()=>{},onClick:()=>{},onMouseEnter:()=>{},style:{},className:"",shape:"square",avatarShape:"square",prefixIcon:null,suffixIcon:null};jr.propTypes={children:g.node,tagKey:g.oneOfType([g.string,g.number]),size:g.oneOf(k3),color:g.oneOf(U3),type:g.oneOf(D3),closable:g.bool,visible:g.bool,onClose:g.func,onClick:g.func,prefixIcon:g.node,suffixIcon:g.node,style:g.object,className:g.string,avatarSrc:g.string,avatarShape:g.oneOf(gX),"aria-label":g.string};class mX extends Ye{constructor(e){super(Object.assign({},e)),this.updateDOMInRenderTree=t=>{this._adapter.setDOMInRenderTree(t)},this.updateDOMHeight=t=>{this._adapter.setDOMHeight(t)},this.updateVisible=t=>{this._adapter.setVisible(t)},this.updateIsTransitioning=t=>{this._adapter.setIsTransitioning(t)}}}const wB={PREFIX:`${re}-collapsible`};class Gs extends Ie{constructor(e){super(e),this.domRef=b.createRef(),this.hasBeenRendered=!1,this.handleResize=t=>{const r=t[0];if(r){const i=Gs.getEntryInfo(r);this.foundation.updateDOMHeight(i.height),this.foundation.updateDOMInRenderTree(i.isShown)}},this.isChildrenInRenderTree=()=>this.domRef.current?this.domRef.current.offsetHeight>0:!1,this.state={domInRenderTree:!1,domHeight:0,visible:this.props.isOpen,isTransitioning:!1},this.foundation=new mX(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setDOMInRenderTree:e=>{this.state.domInRenderTree!==e&&this.setState({domInRenderTree:e})},setDOMHeight:e=>{this.state.domHeight!==e&&this.setState({domHeight:e})},setVisible:e=>{this.state.visible!==e&&this.setState({visible:e})},setIsTransitioning:e=>{this.state.isTransitioning!==e&&this.setState({isTransitioning:e})}})}componentDidMount(){super.componentDidMount(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.domRef.current);const e=this.isChildrenInRenderTree();this.foundation.updateDOMInRenderTree(e),e&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight)}componentDidUpdate(e,t,r){const i=Object.keys(this.props).filter(o=>!Ut(this.props[o],e[o])),s=Object.keys(this.state).filter(o=>!Ut(this.state[o],t[o]));i.includes("reCalcKey")&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),s.includes("domInRenderTree")&&this.state.domInRenderTree&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),i.includes("isOpen")&&(this.props.isOpen||!this.props.motion)&&this.foundation.updateVisible(this.props.isOpen),this.props.motion&&e.isOpen!==this.props.isOpen&&this.foundation.updateIsTransitioning(!0)}componentWillUnmount(){super.componentWillUnmount(),this.resizeObserver.disconnect()}render(){const e=Object.assign({overflow:"hidden",height:this.props.isOpen?this.state.domHeight:this.props.collapseHeight,opacity:this.props.isOpen||!this.props.fade||this.props.collapseHeight!==0?1:0,transitionDuration:`${this.props.motion&&this.state.isTransitioning?this.props.duration:0}ms`},this.props.style),t=N(`${wB.PREFIX}-wrapper`,{[`${wB.PREFIX}-transition`]:this.props.motion&&this.state.isTransitioning},this.props.className),r=this.props.keepDOM&&(this.props.lazyRender?this.hasBeenRendered:!0)||this.props.collapseHeight!==0||this.state.visible||this.props.isOpen;return r&&!this.hasBeenRendered&&(this.hasBeenRendered=!0),b.createElement("div",Object.assign({className:t,style:e,onTransitionEnd:()=>{var i,s;this.props.isOpen||this.foundation.updateVisible(!1),this.foundation.updateIsTransitioning(!1),(s=(i=this.props).onMotionEnd)===null||s===void 0||s.call(i)}},this.getDataAttr(this.props)),b.createElement("div",{"x-semi-prop":"children",ref:this.domRef,style:{overflow:"hidden"},id:this.props.id},r&&this.props.children))}}Gs.__SemiComponentName__="Collapsible";Gs.defaultProps=nr(Gs.__SemiComponentName__,{isOpen:!1,duration:250,motion:!0,keepDOM:!1,lazyRender:!1,collapseHeight:0,fade:!1});Gs.getEntryInfo=n=>{let e;n.borderBoxSize?e=!(n.borderBoxSize[0].blockSize===0&&n.borderBoxSize[0].inlineSize===0):e=!(n.contentRect.height===0&&n.contentRect.width===0);let t=0;return n.borderBoxSize?t=Math.ceil(n.borderBoxSize[0].blockSize):t=n.target.clientHeight,{isShown:e,height:t}};Gs.propTypes={motion:g.bool,children:g.node,isOpen:g.bool,duration:g.number,keepDOM:g.bool,collapseHeight:g.number,style:g.object,className:g.string,reCalcKey:g.oneOfType([g.string,g.number])};function vX(n,e){return n&&(typeof n=="function"||typeof n=="object")&&e&&(typeof e=="function"||typeof e=="object")&&Object.entries(e).forEach(t=>{let[r,i]=t;n[r]=i}),n}var yX=Function.prototype.toString,r0=Object.create,bX=Object.prototype.toString,wX=function(){function n(){this._keys=[],this._values=[]}return n.prototype.has=function(e){return!!~this._keys.indexOf(e)},n.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},n.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},n}();function CX(){return new wX}function BX(){return new WeakMap}var xX=typeof WeakMap<"u"?BX:CX;function Aw(n){if(!n)return r0(null);var e=n.constructor;if(e===Object)return n===Object.prototype?{}:r0(n);if(e&&~yX.call(e).indexOf("[native code]"))try{return new e}catch{}return r0(n)}function _X(n){var e="";return n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),n.unicode&&(e+="u"),n.sticky&&(e+="y"),e}function SX(n){return n.flags}var EX=/test/g.flags==="g"?SX:_X;function Q3(n){var e=bX.call(n);return e.substring(8,e.length-1)}function FX(n){return n[Symbol.toStringTag]||Q3(n)}var TX=typeof Symbol<"u"?FX:Q3,PX=Object.defineProperty,OX=Object.getOwnPropertyDescriptor,M3=Object.getOwnPropertyNames,lw=Object.getOwnPropertySymbols,L3=Object.prototype,N3=L3.hasOwnProperty,IX=L3.propertyIsEnumerable,R3=typeof lw=="function";function UX(n){return M3(n).concat(lw(n))}var kX=R3?UX:M3;function Lg(n,e,t){for(var r=kX(n),i=0,s=r.length,o=void 0,a=void 0;i<s;++i)if(o=r[i],!(o==="callee"||o==="caller")){if(a=OX(n,o),!a){e[o]=t.copier(n[o],t);continue}!a.get&&!a.set&&(a.value=t.copier(a.value,t));try{PX(e,o,a)}catch{e[o]=a.value}}return e}function DX(n,e){var t=new e.Constructor;e.cache.set(n,t);for(var r=0,i=n.length;r<i;++r)t[r]=e.copier(n[r],e);return t}function QX(n,e){var t=new e.Constructor;return e.cache.set(n,t),Lg(n,t,e)}function H3(n,e){return n.slice(0)}function MX(n,e){return n.slice(0,n.size,n.type)}function LX(n,e){return new e.Constructor(H3(n.buffer))}function NX(n,e){return new e.Constructor(n.getTime())}function $3(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(r,i){t.set(i,e.copier(r,e))}),t}function RX(n,e){return Lg(n,$3(n,e),e)}function HX(n,e){var t=Aw(e.prototype);e.cache.set(n,t);for(var r in n)N3.call(n,r)&&(t[r]=e.copier(n[r],e));return t}function $X(n,e){var t=Aw(e.prototype);e.cache.set(n,t);for(var r in n)N3.call(n,r)&&(t[r]=e.copier(n[r],e));for(var i=lw(n),s=0,o=i.length,a=void 0;s<o;++s)a=i[s],IX.call(n,a)&&(t[a]=e.copier(n[a],e));return t}var jX=R3?$X:HX;function KX(n,e){var t=Aw(e.prototype);return e.cache.set(n,t),Lg(n,t,e)}function i0(n,e){return new e.Constructor(n.valueOf())}function GX(n,e){var t=new e.Constructor(n.source,EX(n));return t.lastIndex=n.lastIndex,t}function yd(n,e){return n}function j3(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(r){t.add(e.copier(r,e))}),t}function VX(n,e){return Lg(n,j3(n,e),e)}var zX=Array.isArray,cw=Object.assign,WX=Object.getPrototypeOf||function(n){return n.__proto__},K3={array:DX,arrayBuffer:H3,blob:MX,dataView:LX,date:NX,error:yd,map:$3,object:jX,regExp:GX,set:j3},XX=cw({},K3,{array:QX,map:RX,object:KX,set:VX});function YX(n){return{Arguments:n.object,Array:n.array,ArrayBuffer:n.arrayBuffer,Blob:n.blob,Boolean:i0,DataView:n.dataView,Date:n.date,Error:n.error,Float32Array:n.arrayBuffer,Float64Array:n.arrayBuffer,Int8Array:n.arrayBuffer,Int16Array:n.arrayBuffer,Int32Array:n.arrayBuffer,Map:n.map,Number:i0,Object:n.object,Promise:yd,RegExp:n.regExp,Set:n.set,String:i0,WeakMap:yd,WeakSet:yd,Uint8Array:n.arrayBuffer,Uint8ClampedArray:n.arrayBuffer,Uint16Array:n.arrayBuffer,Uint32Array:n.arrayBuffer,Uint64Array:n.arrayBuffer}}function G3(n){var e=cw({},K3,n),t=YX(e),r=t.Array,i=t.Object;function s(o,a){if(a.prototype=a.Constructor=void 0,!o||typeof o!="object")return o;if(a.cache.has(o))return a.cache.get(o);if(a.prototype=WX(o),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return i(o,a);if(zX(o))return r(o,a);var A=t[TX(o)];return A?A(o,a):typeof o.then=="function"?o:i(o,a)}return function(a){return s(a,{Constructor:void 0,cache:xX(),copier:s,prototype:void 0})}}function JX(n){return G3(cw({},XX,n))}JX({});var yf=G3({}),ZX=NF,qX=l3,eY=mW,tY=9007199254740991,s0=4294967295,nY=Math.min;function rY(n,e){if(n=eY(n),n<1||n>tY)return[];var t=s0,r=nY(n,s0);e=qX(e),n-=s0;for(var i=ZX(r,e);++t<n;)e(t);return i}var iY=rY;const V3=Ge(iY),sY={PREFIX:`${re}`};var oY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const to=sY.PREFIX,Qr=n=>{const{layout:e="horizontal",dashed:t,align:r="center",className:i,margin:s,style:o,children:a}=n,A=oY(n,["layout","dashed","align","className","margin","style","children"]),c=N(`${to}-divider`,i,{[`${to}-divider-horizontal`]:e==="horizontal",[`${to}-divider-vertical`]:e==="vertical",[`${to}-divider-dashed`]:!!t,[`${to}-divider-with-text`]:a&&e==="horizontal",[`${to}-divider-with-text-${r}`]:a&&e==="horizontal"});let l={};return s!==void 0&&(e==="vertical"?l={marginLeft:s,marginRight:s}:e==="horizontal"&&(l={marginTop:s,marginBottom:s})),b.createElement("div",Object.assign({},A,{className:c,style:Object.assign(Object.assign({},l),o)}),a&&e==="horizontal"?typeof a=="string"?b.createElement("span",{className:`${to}-divider_inner-text`,"x-semi-prop":"children"},a):a:null)},Oe={DIALOG:`${re}-modal`},CB={cancelKey:"cancel",confirmKey:"confirm",SIZE:["small","medium","large","full-width"],directions:["ltr","rtl"]};function aY(n){return n!==null&&typeof n=="object"}function bf(n){return aY(n)&&typeof n.then=="function"}class AY extends Ye{constructor(e){super(Object.assign({},e)),this.toggleDisplayNone=(t,r)=>{this._adapter.toggleDisplayNone(t,r)}}destroy(){this.afterHide()}handleCancel(e){var t;const r=this._adapter.notifyCancel(e);bf(r)&&(this._adapter.setState({onCancelReturnPromiseStatus:"pending"}),(t=r==null?void 0:r.then(()=>{this._adapter.setState({onCancelReturnPromiseStatus:"fulfilled"})}))===null||t===void 0||t.catch(i=>{throw this._adapter.setState({onCancelReturnPromiseStatus:"rejected"}),i}))}handleOk(e){var t;const r=this._adapter.notifyOk(e);bf(r)&&(this._adapter.setState({onOKReturnPromiseStatus:"pending"}),(t=r==null?void 0:r.then(()=>{this._adapter.setState({onOKReturnPromiseStatus:"fulfilled"})}))===null||t===void 0||t.catch(i=>{throw this._adapter.setState({onOKReturnPromiseStatus:"rejected"}),i}))}beforeShow(){this._adapter.disabledBodyScroll()}afterHide(){this._adapter.enabledBodyScroll(),this._adapter.notifyClose()}enabledBodyScroll(){this._adapter.enabledBodyScroll()}}class hw extends Ye{constructor(e){super(Object.assign(Object.assign({},hw.defaultAdapter),e)),this.handleKeyDown=t=>{const{closeOnEsc:r}=this.getProps();if(r&&t.keyCode===Ir.ESC){t.stopPropagation(),this.close(t);return}}}destroy(){this.handleKeyDownEventListenerUnmount(),this.modalDialogBlur(),this.prevFocusElementReFocus()}handleDialogMouseDown(){this._adapter.notifyDialogMouseDown()}handleMaskMouseUp(){this._adapter.notifyDialogMouseUp()}handleKeyDownEventListenerMount(){this._adapter.addKeyDownEventListener()}handleKeyDownEventListenerUnmount(){this._adapter.removeKeyDownEventListener()}getMouseState(){this._adapter.getMouseState()}handleMaskClick(e){const{dialogMouseDown:t}=this.getStates();e.target===e.currentTarget&&!t&&this.close(e)}close(e){this._adapter.notifyClose(e)}modalDialogFocus(){this._adapter.modalDialogFocus()}modalDialogBlur(){this._adapter.modalDialogBlur()}prevFocusElementReFocus(){this._adapter.prevFocusElementReFocus()}}var lY=OW,cY=KF,hY=DF,uY=cY(function(n,e){return hY(n)?lY(n,e):[]}),dY=uY;const fY=Ge(dY);class Ss{constructor(e,t){var r;this.addFocusRedirectListener=i=>(this.focusRedirectListenerList.push(i),()=>this.removeFocusRedirectListener(i)),this.removeFocusRedirectListener=i=>{this.focusRedirectListenerList=fY(this.focusRedirectListenerList,i)},this.destroy=()=>{var i;(i=this.container)===null||i===void 0||i.removeEventListener("keydown",this.onKeyPress)},this.shouldFocusRedirect=i=>{if(!this.enable)return!1;for(const s of this.focusRedirectListenerList)if(!s(i))return!1;return!0},this.focusElement=(i,s)=>{const{preventScroll:o}=this.options;i==null||i.focus({preventScroll:o}),s.preventDefault()},this.onKeyPress=i=>{if(i&&i.key==="Tab"){const s=Ss.getFocusableElements(this.container);s.length&&(i.shiftKey?this.handleContainerShiftTabKeyDown(s,i):this.handleContainerTabKeyDown(s,i))}},this.handleContainerTabKeyDown=(i,s)=>{const o=Ss.getActiveElement(),a=i[i.length-1]===o,A=i[0];a&&this.shouldFocusRedirect(A)&&this.focusElement(A,s)},this.handleContainerShiftTabKeyDown=(i,s)=>{const o=Ss.getActiveElement(),a=i[0]===o,A=i[i.length-1];a&&this.shouldFocusRedirect(A)&&this.focusElement(A,s)},Object.freeze(t),this.container=e,this.options=t,this.enable=(r=t==null?void 0:t.enable)!==null&&r!==void 0?r:!0,this.focusRedirectListenerList=t!=null&&t.onFocusRedirectListener?Array.isArray(t.onFocusRedirectListener)?[...t.onFocusRedirectListener]:[t.onFocusRedirectListener]:[],this.container.addEventListener("keydown",this.onKeyPress)}get enable(){return this._enable}set enable(e){this._enable=e}static getFocusableElements(e){if(!ko(e))return[];const r=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(e.querySelectorAll(r))}static getActiveElement(){return document?document.activeElement:null}}var o0=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};let pY=0;class Ng extends Ie{constructor(e){super(e),this.onKeyDown=t=>{this.foundation.handleKeyDown(t)},this.onDialogMouseDown=()=>{this.foundation.handleDialogMouseDown()},this.onMaskMouseUp=()=>{this.foundation.handleMaskMouseUp()},this.onMaskClick=t=>{this.foundation.handleMaskClick(t)},this.close=t=>{this.foundation.close(t)},this.getMaskElement=()=>{const t=o0(this.props,[]),{mask:r,maskClassName:i}=t;if(r){const s=N(`${Oe.DIALOG}-mask`,{});return b.createElement("div",Object.assign({key:"mask"},this.props.maskExtraProps,{className:N(s,i),style:t.maskStyle}))}return null},this.renderCloseBtn=()=>{const{closable:t,closeIcon:r}=this.props;let i;if(t){const s=r||b.createElement(mh,{"x-semi-prop":"closeIcon"});i=b.createElement(ca,{"aria-label":"close",className:`${Oe.DIALOG}-close`,key:"close-btn",onClick:this.close,type:"tertiary",icon:s,theme:"borderless",size:"small"})}return i},this.renderIcon=()=>{const{icon:t}=this.props;return t?b.createElement("span",{className:`${Oe.DIALOG}-icon-wrapper`,"x-semi-prop":"icon"},t):null},this.renderHeader=()=>{if("header"in this.props)return this.props.header;const{title:t}=this.props,r=this.renderCloseBtn(),i=this.renderIcon();return t==null?null:b.createElement("div",{className:`${Oe.DIALOG}-header`},i,b.createElement(zr.Title,{heading:5,className:`${Oe.DIALOG}-title`,id:`${Oe.DIALOG}-title`,"x-semi-prop":"title"},t),r)},this.renderBody=()=>{const{bodyStyle:t,children:r,title:i}=this.props,s=N(`${Oe.DIALOG}-body`,{[`${Oe.DIALOG}-withIcon`]:this.props.icon}),o=this.renderCloseBtn(),a=this.renderIcon();return i!=null||"header"in this.props?b.createElement("div",{className:s,id:`${Oe.DIALOG}-body`,style:t,"x-semi-prop":"children"},r):b.createElement("div",{className:`${Oe.DIALOG}-body-wrapper`},a,b.createElement("div",{className:s,style:t,"x-semi-prop":"children"},r),o)},this.getDialogElement=()=>{const t=o0(this.props,[]),r={},i=N(`${Oe.DIALOG}`,{[`${Oe.DIALOG}-centered`]:t.centered,[`${Oe.DIALOG}-${t.size}`]:t.size});t.width&&(r.width=t.width),t.height&&(r.height=t.height),t.isFullScreen&&(r.width="100%",r.height="100%",r.margin="unset");const s=this.renderBody(),o=this.renderHeader(),a=t.footer?b.createElement("div",{className:`${Oe.DIALOG}-footer`,"x-semi-prop":"footer"},t.footer):null;return b.createElement("div",{key:"dialog-element",className:i,onMouseDown:this.onDialogMouseDown,style:Object.assign(Object.assign({},t.style),r),id:this.dialogId},b.createElement("div",{role:"dialog",ref:this.modalDialogRef,"aria-modal":"true","aria-labelledby":`${Oe.DIALOG}-title`,"aria-describedby":`${Oe.DIALOG}-body`,onAnimationEnd:t.onAnimationEnd,className:N([`${Oe.DIALOG}-content`,t.contentClassName,{[`${Oe.DIALOG}-content-fullScreen`]:t.isFullScreen}])},o,s,a))},this.state={dialogMouseDown:!1,prevFocusElement:Ss.getActiveElement()},this.foundation=new hw(this.adapter),this.dialogId=`dialog-${pY++}`,this.modalDialogRef=b.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyClose:e=>{this.props.onClose(e)},notifyDialogMouseDown:()=>{this.setState({dialogMouseDown:!0})},notifyDialogMouseUp:()=>{this.state.dialogMouseDown&&(this.timeoutId=setTimeout(()=>{this.setState({dialogMouseDown:!1})},0))},addKeyDownEventListener:()=>{this.props.closeOnEsc&&document.addEventListener("keydown",this.foundation.handleKeyDown)},removeKeyDownEventListener:()=>{this.props.closeOnEsc&&document.removeEventListener("keydown",this.foundation.handleKeyDown)},getMouseState:()=>this.state.dialogMouseDown,modalDialogFocus:()=>{var e,t,r;const{preventScroll:i}=this.props;let s;if(this.modalDialogRef){const o=Ss.getActiveElement();s=this.modalDialogRef.current.contains(o),(e=this.focusTrapHandle)===null||e===void 0||e.destroy(),this.focusTrapHandle=new Ss(this.modalDialogRef.current,{preventScroll:i})}s||(r=(t=this.modalDialogRef)===null||t===void 0?void 0:t.current)===null||r===void 0||r.focus({preventScroll:i})},modalDialogBlur:()=>{var e,t;(e=this.modalDialogRef)===null||e===void 0||e.current.blur(),(t=this.focusTrapHandle)===null||t===void 0||t.destroy()},prevFocusElementReFocus:()=>{const{prevFocusElement:e}=this.state,{preventScroll:t}=this.props,r=le(e,"focus");un(r)&&e.focus({preventScroll:t})}})}componentDidMount(){var e;this.foundation.handleKeyDownEventListenerMount(),this.foundation.modalDialogFocus();const t=Ss.getFocusableElements(this.modalDialogRef.current);this.modalDialogRef.current.contains(document.activeElement)||(e=t[0])===null||e===void 0||e.focus()}componentWillUnmount(){clearTimeout(this.timeoutId),this.foundation.destroy()}render(){var e;const t=this.props,{maskClosable:r,className:i,getPopupContainer:s,maskFixed:o,getContainerContext:a}=t,A=o0(t,["maskClosable","className","getPopupContainer","maskFixed","getContainerContext"]),{direction:c}=this.context,l=N(i,{[`${Oe.DIALOG}-popup`]:s&&s()!==((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body)&&!o,[`${Oe.DIALOG}-fixed`]:o,[`${Oe.DIALOG}-rtl`]:c==="rtl"}),h=a(),u=this.getDataAttr(A),d=b.createElement("div",Object.assign({className:l},u),this.getMaskElement(),b.createElement("div",Object.assign({role:"none",className:N({[`${Oe.DIALOG}-wrap`]:!0,[`${Oe.DIALOG}-wrap-center`]:this.props.centered}),onClick:r?this.onMaskClick:null,onMouseUp:r?this.onMaskMouseUp:null},this.props.contentExtraProps),this.getDialogElement()));return h&&h.Provider?b.createElement(h.Provider,{value:h.value},d):d}}Ng.contextType=Zs;Ng.propTypes={close:g.func,getContainerContext:g.func,contentClassName:g.string,maskClassName:g.string,onAnimationEnd:g.func,preventScroll:g.bool};Ng.defaultProps={close:X,getContainerContext:X,contentClassName:"",maskClassName:""};var gY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const z3=n=>{const[e,t]=H.useState(!0),[r,i]=H.useState(),[s,o]=H.useState(),{direction:a}=n,{title:A,content:c,icon:l,type:h,onCancel:u,onOk:d,className:p}=n,f=gY(n,["title","content","icon","type","onCancel","onOk","className"]),v=H.useCallback(T=>{const P=d&&d(T);P&&P.then?(i(!0),P.then(function(){t(!1),i(!1)},F=>{i(!1)})):t(!1)},[d]),m=H.useCallback(T=>{const P=u&&u(T);P&&P.then?(o(!0),P.then(function(){t(!1),o(!1)},F=>{o(!1)})):t(!1)},[u]),y=`${Oe.DIALOG}-confirm`,w=N(p,y,{[`${y}-rtl`]:a==="rtl"}),C=N(`${Oe.DIALOG}-${h}`),S=kr(l)?b.cloneElement(l,{className:`${y}-icon ${C}-icon`,size:"extra-large"}):l,x=A==null?null:b.createElement("span",{className:`${y}-title-text`},A),E=N(`${y}-content`,{[`${y}-content-withIcon`]:n.icon});return b.createElement(Rn,Object.assign({className:w,title:x,confirmLoading:r,cancelLoading:s,onOk:v,onCancel:m,icon:S,visible:e},f),b.createElement("div",{className:E,"x-semi-prop":"content"},c))};function wh(n){const e=document.createElement("div");document.body.appendChild(e);let t=Object.assign({},n);const r=()=>{Dr.unmountComponentAtNode(e)&&e.parentNode&&e.parentNode.removeChild(e);for(let A=0;A<Do.length;A++)if(Do[A]===s){Do.splice(A,1);break}};function i(a){const{afterClose:A}=a;Dr.render(b.createElement(z3,Object.assign({},a,{afterClose:function(){A==null||A(...arguments),r()},motion:n.motion})),e)}function s(){t=Object.assign(Object.assign({},t),{visible:!1}),i(t)}function o(a){t=Object.assign(Object.assign({},t),a),i(t)}return i(t),Do.push(s),{destroy:s,update:o}}function W3(n){return Object.assign({type:"info",icon:b.createElement(w3,null)},n)}function X3(n){return Object.assign({type:"success",icon:b.createElement(C3,null)},n)}function Y3(n){return Object.assign({type:"warning",icon:b.createElement(Jb,null)},n)}function J3(n){return Object.assign({type:"error",icon:b.createElement(y3,null),okButtonProps:Object.assign({type:"danger"},n.okButtonProps)},Vi(n,["okButtonProps"]))}function Z3(n){return Object.assign({type:"confirm",icon:b.createElement(GV,null)},n)}var mY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const vY=(n,e)=>{var{afterClose:t,config:r}=n;mY(n,["afterClose","config"]);const[i,s]=b.useState(r);b.useImperativeHandle(e,()=>({destroy:()=>{s(a=>Object.assign(Object.assign({},a),{visible:!1}))},update:a=>{s(A=>Object.assign(Object.assign({},A),a))}}));const o=()=>{var a;(a=r==null?void 0:r.afterClose)===null||a===void 0||a.call(r),t()};return b.createElement(z3,Object.assign({},i,{afterClose:o}))},yY=b.forwardRef(vY);let BB=0;function bY(){const[n,e]=b.useState([]);function t(r){return e(i=>[...i,r]),()=>{e(i=>i.filter(s=>s!==r))}}return[n,t]}function wY(){const[n,e]=bY();function t(r){return function(s){BB+=1;const o=b.createRef();let a;const A=b.createElement(yY,{key:`semi-modal-${BB}`,config:r(s),ref:o,afterClose:()=>{a()}});return a=e(A),{destroy:()=>{o.current&&o.current.destroy()},update:c=>{o.current&&o.current.update(c)}}}}return[{info:t(W3),success:t(X3),error:t(J3),warning:t(Y3),confirm:t(Z3)},b.createElement(b.Fragment,null,n)]}var CY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};let Do=[];class Rn extends Ie{constructor(e){super(e),this.bodyOverflow=null,this.handleCancel=t=>{this.foundation.handleCancel(t)},this.handleOk=t=>{this.foundation.handleOk(t)},this.updateState=()=>{const{visible:t}=this.props;this.foundation.toggleDisplayNone(!t)},this.renderFooter=()=>{const{okText:t,okType:r,cancelText:i,confirmLoading:s,cancelLoading:o,hasCancel:a,footerFill:A}=this.props,c=l=>{var h;return a?b.createElement(Ne,Object.assign({"aria-label":"cancel",onClick:this.handleCancel,loading:o===void 0?this.state.onCancelReturnPromiseStatus==="pending":o,type:"tertiary",block:A,autoFocus:!0},this.props.cancelButtonProps,{style:Object.assign(Object.assign({},A?{marginLeft:"unset"}:{}),(h=this.props.cancelButtonProps)===null||h===void 0?void 0:h.style),"x-semi-children-alias":"cancelText"}),i||l.cancel):null};return b.createElement(gr,{componentName:"Modal"},(l,h)=>b.createElement("div",{className:N({[`${Oe.DIALOG}-footerfill`]:A})},c(l),b.createElement(Ne,Object.assign({"aria-label":"confirm",type:r,theme:"solid",block:A,loading:s===void 0?this.state.onOKReturnPromiseStatus==="pending":s,onClick:this.handleOk},this.props.okButtonProps,{"x-semi-children-alias":"okText"}),t||l.confirm)))},this.renderDialog=()=>{var t;let r=this.props,{footer:i,className:s,motion:o,maskStyle:a,keepDOM:A,style:c,zIndex:l,getPopupContainer:h,visible:u,modalContentClass:d}=r,p=CY(r,["footer","className","motion","maskStyle","keepDOM","style","zIndex","getPopupContainer","visible","modalContentClass"]),f=c;const v=a,m="footer"in this.props?i:this.renderFooter();let y={zIndex:l};h&&h()!==((t=globalThis==null?void 0:globalThis.document)===null||t===void 0?void 0:t.body)&&(y={zIndex:l,position:"static"});const w=N(s,{[`${Oe.DIALOG}-displayNone`]:A&&this.state.displayNone}),C=this.props.visible||this.props.keepDOM&&(!this.props.lazyRender||this._haveRendered)||this.props.motion&&!this.state.displayNone;return C&&(this._haveRendered=!0),b.createElement(Zo,{motion:this.props.motion,animationState:u?"enter":"leave",startClassName:u?`${Oe.DIALOG}-content-animate-show`:`${Oe.DIALOG}-content-animate-hide`,onAnimationEnd:()=>{this.updateState()}},S=>{let{animationClassName:x,animationEventsNeedBind:E}=S;return b.createElement(Zo,{motion:this.props.motion,animationState:u?"enter":"leave",startClassName:u?`${Oe.DIALOG}-mask-animate-show`:`${Oe.DIALOG}-mask-animate-hide`,onAnimationEnd:()=>{this.updateState()}},T=>{let{animationClassName:P,animationEventsNeedBind:F}=T;return C?b.createElement(gh,{style:y,getPopupContainer:h}," ",b.createElement(Ng,Object.assign({},p,{contentExtraProps:E,maskExtraProps:F,isFullScreen:this.state.isFullScreen,contentClassName:`${x} ${d}`,maskClassName:P,className:w,getPopupContainer:h,maskStyle:v,style:f,ref:this.modalRef,footer:m,onClose:this.handleCancel}))):b.createElement(b.Fragment,null)})})},this.state={displayNone:!e.visible,isFullScreen:e.fullScreen},this.foundation=new AY(this.adapter),this.modalRef=b.createRef(),this.scrollBarWidth=0,this.originBodyWidth="100%"}get adapter(){return Object.assign(Object.assign({},super.adapter),{getProps:()=>this.props,disabledBodyScroll:()=>{var e;const{getPopupContainer:t}=this.props;this.bodyOverflow=document.body.style.overflow||"",(!t||t()===((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body))&&this.bodyOverflow!=="hidden"&&(document.body.style.overflow="hidden",document.body.style.width=`calc(${this.originBodyWidth||"100%"} - ${this.scrollBarWidth}px)`)},enabledBodyScroll:()=>{var e;const{getPopupContainer:t}=this.props;(!t||t()===((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body))&&this.bodyOverflow!==null&&this.bodyOverflow!=="hidden"&&(document.body.style.overflow=this.bodyOverflow,document.body.style.width=this.originBodyWidth)},notifyCancel:e=>this.props.onCancel(e),notifyOk:e=>this.props.onOk(e),notifyClose:()=>{this.props.afterClose()},toggleDisplayNone:(e,t)=>{e!==this.state.displayNone&&this.setState({displayNone:e},t||X)},notifyFullScreen:e=>{e!==this.state.isFullScreen&&this.setState({isFullScreen:e})}})}static getDerivedStateFromProps(e,t){const r={};return e.fullScreen!==t.isFullScreen&&(r.isFullScreen=e.fullScreen),e.visible&&t.displayNone&&(r.displayNone=!1),r}componentDidMount(){this.scrollBarWidth=CK(),this.originBodyWidth=document.body.style.width,this.props.visible&&this.foundation.beforeShow()}componentDidUpdate(e,t,r){!e.visible&&this.props.visible&&this.foundation.beforeShow(),!t.displayNone&&this.state.displayNone&&this.foundation.afterHide()}componentWillUnmount(){this.props.visible?this.foundation.destroy():this.foundation.enabledBodyScroll()}render(){return this.props,this.renderDialog()}}Rn.propTypes={mask:g.bool,closable:g.bool,centered:g.bool,visible:g.bool,width:g.oneOfType([g.string,g.number]),height:g.oneOfType([g.string,g.number]),confirmLoading:g.bool,cancelLoading:g.bool,okText:g.string,okType:g.string,cancelText:g.string,maskClosable:g.bool,onCancel:g.func,onOk:g.func,afterClose:g.func,okButtonProps:g.object,cancelButtonProps:g.object,style:g.object,className:g.string,maskStyle:g.object,bodyStyle:g.object,zIndex:g.number,title:g.node,icon:g.node,header:g.node,footer:g.node,hasCancel:g.bool,motion:g.bool,children:g.node,getPopupContainer:g.func,getContainerContext:g.func,maskFixed:g.bool,closeIcon:g.node,closeOnEsc:g.bool,size:g.oneOf(CB.SIZE),keepDOM:g.bool,lazyRender:g.bool,direction:g.oneOf(CB.directions),fullScreen:g.bool,footerFill:g.bool};Rn.__SemiComponentName__="Modal";Rn.defaultProps=nr(Rn.__SemiComponentName__,{zIndex:1e3,motion:!0,mask:!0,centered:!1,closable:!0,visible:!1,okType:"primary",maskClosable:!0,hasCancel:!0,onCancel:X,onOk:X,afterClose:X,maskFixed:!1,closeOnEsc:!0,size:"small",keepDOM:!1,lazyRender:!0,fullScreen:!1});Rn.useModal=wY;Rn.info=function(n){return wh(W3(n))};Rn.success=function(n){return wh(X3(n))};Rn.error=function(n){return wh(J3(n))};Rn.warning=function(n){return wh(Y3(n))};Rn.confirm=function(n){return wh(Z3(n))};Rn.destroyAll=function(){for(let e=0,t=Do.length;e<t;e++){const r=Do[e];r&&r()}Do=[]};const Ch={PREFIX:`${re}-dropdown`,SELECTED:`${re}-dropdown-item-selected`,DISABLED:`${re}-dropdown-item-disabled`},Rg={POSITION_SET:Ro.POSITION_SET,TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_LEAVE_DELAY:100,ITEM_TYPE:["primary","secondary","tertiary","warning","danger"]},xB={SPACING:4,NESTED_SPACING:2};class BY extends Ye{handleVisibleChange(e){this._adapter.setPopVisible(e),this._adapter.notifyVisibleChange(e);const{trigger:t}=this.getProps();if(e&&t==="click"){const r=this._adapter.getPopupId();this.setFocusToFirstMenuItem(r)}}getMenuItemNodes(e){const t=document.getElementById(e);return t?Array.from(t.getElementsByTagName("li")).filter(r=>r.ariaDisabled==="false"):null}setFocusToFirstMenuItem(e){const t=this.getMenuItemNodes(e);t&&Kj(t)}setFocusToLastMenuItem(e){const t=this.getMenuItemNodes(e);t&&Gj(t)}handleKeyDown(e){var t,r;const i=(r=(t=e.target)===null||t===void 0?void 0:t.attributes["data-popupid"])===null||r===void 0?void 0:r.value,{visible:s}=this._adapter.getStates();switch(e.key){case" ":case"Enter":e.target.click();break;case"ArrowDown":this.setFocusToFirstMenuItem(i),s&&xn(e);break;case"ArrowUp":this.setFocusToLastMenuItem(i),s&&xn(e);break}}}class xY extends Ye{constructor(){super(...arguments),this.menuItemNodes=null,this.firstChars=[]}handleEscape(e){this._adapter.getContext("trigger")==="custom"&&(e&&Yj(document.querySelectorAll("[data-popupid]"),e.id)).focus()}setFocusByFirstCharacter(e,t){const r=Wj(this.menuItemNodes,e,this.firstChars,t);r>=0&&ph(this.menuItemNodes,this.menuItemNodes[r])}onMenuKeydown(e){const t=Xj(e.target,"tooltip");this.menuItemNodes||(this.menuItemNodes=[...e.target.parentNode.getElementsByTagName("li")].filter(i=>i.ariaDisabled!=="true")),this.firstChars.length===0&&this.menuItemNodes.forEach(i=>{var s;this.firstChars.push((s=i.textContent.trim()[0])===null||s===void 0?void 0:s.toLowerCase())});const r=this.menuItemNodes.find(i=>i.tabIndex===0);switch(e.key){case" ":case"Enter":e.target.click();break;case"Escape":this.handleEscape(t);break;case"ArrowUp":Vj(this.menuItemNodes,r),xn(e);break;case"ArrowDown":zj(this.menuItemNodes,r),xn(e);break;default:jj(e.key)&&this.setFocusByFirstCharacter(r,e.key);break}}}const PA=b.createContext({level:0});var _Y=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const SY=Ch.PREFIX;class uw extends Ie{constructor(e){super(e),this.foundation=new xY(this.adapter)}get adapter(){return Object.assign({},super.adapter)}render(){const e=this.props,{children:t,className:r,style:i}=e,s=_Y(e,["children","className","style"]);return b.createElement("ul",Object.assign({role:"menu","aria-orientation":"vertical"},s,{className:N(`${SY}-menu`,r),style:i,onKeyDown:o=>this.foundation.onMenuKeydown(o)}),t)}}uw.propTypes={children:g.node,className:g.string,style:g.object};uw.contextType=PA;const no=Ch.PREFIX;class Bh extends Ie{render(){const{children:e,disabled:t,className:r,forwardRef:i,style:s,type:o,active:a,icon:A,onKeyDown:c,showTick:l,hover:h}=this.props,{showTick:u}=this.context,d=u??l,p=N(r,{[`${no}-item`]:!0,[`${no}-item-disabled`]:t,[`${no}-item-hover`]:h,[`${no}-item-withTick`]:d,[`${no}-item-${o}`]:o,[`${no}-item-active`]:a}),f={};t||["onClick","onMouseEnter","onMouseLeave","onContextMenu"].forEach(y=>{this.context.level!==1&&y==="onClick"?f.onMouseDown=C=>{var S,x;C.button===0&&((x=(S=this.props)[y])===null||x===void 0||x.call(S,C))}:f[y]=this.props[y]});let v=null;switch(!0){case(d&&a):v=b.createElement(gf,null);break;case(d&&!a):v=b.createElement(gf,{style:{color:"transparent"}});break;default:v=null;break}let m=null;return A&&(m=b.createElement("div",{className:`${no}-item-icon`},A)),b.createElement("li",Object.assign({role:"menuitem",tabIndex:-1,"aria-disabled":t},f,{onKeyDown:c,ref:y=>i(y),className:p,style:s},this.getDataAttr(this.props)),v,m,e)}}Bh.propTypes={children:g.oneOfType([g.string,g.node]),name:g.string,disabled:g.bool,selected:g.bool,onClick:g.func,onMouseEnter:g.func,onMouseLeave:g.func,onContextMenu:g.func,className:g.string,style:g.object,forwardRef:g.func,type:g.oneOf(Rg.ITEM_TYPE),active:g.bool,icon:g.node};Bh.contextType=PA;Bh.defaultProps={disabled:!1,divided:!1,selected:!1,onMouseEnter:X,onMouseLeave:X,forwardRef:X};Bh.elementType="Dropdown.Item";const EY=Ch.PREFIX,q3=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{style:e,className:t}=n;return b.createElement("div",{className:N(`${EY}-divider`,t),style:e})};q3.propTypes={style:g.object,className:g.string};const _B=Ch.PREFIX;class dw extends H.PureComponent{render(){const{className:e,style:t,children:r}=this.props,{showTick:i}=this.context,s=N({[`${_B}-title`]:!0,[`${_B}-title-withTick`]:i},e);return b.createElement("div",{className:s,style:t},r)}}dw.propTypes={children:g.node,className:g.string,style:g.object};dw.contextType=PA;var a0=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const FY=Rg.POSITION_SET,TY=Rg.TRIGGER_SET;class at extends Ie{constructor(e){super(e),this.handleVisibleChange=t=>this.foundation.handleVisibleChange(t),this.state={popVisible:e.visible},this.foundation=new BY(this.adapter),this.tooltipRef=b.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setPopVisible:e=>this.setState({popVisible:e}),notifyVisibleChange:e=>{var t,r;return(r=(t=this.props).onVisibleChange)===null||r===void 0?void 0:r.call(t,e)},getPopupId:()=>this.tooltipRef.current.getPopupId()})}renderContent(){const{render:e,menu:t,contentClassName:r,style:i,showTick:s,prefixCls:o,trigger:a}=this.props,A=N(o,r),{level:c=0}=this.context,l={showTick:s,level:c+1,trigger:a};let h=null;return b.isValidElement(e)?h=e:Array.isArray(t)&&(h=this.renderMenu()),b.createElement(PA.Provider,{value:l},b.createElement("div",{className:A,style:i},b.createElement("div",{className:`${o}-content`,"x-semi-prop":"render"},h)))}renderMenu(){const{menu:e}=this.props,t=e.map((r,i)=>{switch(r.node){case"title":{const{name:s,node:o}=r,a=a0(r,["name","node"]);return b.createElement(at.Title,Object.assign({},a,{key:o+s+i}),s)}case"item":{const{node:s,name:o}=r,a=a0(r,["node","name"]);return b.createElement(at.Item,Object.assign({},a,{key:s+o+i}),o)}case"divider":return b.createElement(at.Divider,{key:r.node+i});default:return null}});return b.createElement(at.Menu,null,t)}renderPopCard(){const{render:e,contentClassName:t,style:r,showTick:i,prefixCls:s}=this.props,o=N(s,t),{level:a=0}=this.context,A={showTick:i,level:a+1};return b.createElement(PA.Provider,{value:A},b.createElement("div",{className:o,style:r},b.createElement("div",{className:`${s}-content`},e)))}render(){const e=this.props,{children:t,position:r,trigger:i,onVisibleChange:s,zIndex:o,className:a,motion:A,margin:c,style:l,prefixCls:h}=e,u=a0(e,["children","position","trigger","onVisibleChange","zIndex","className","motion","margin","style","prefixCls"]);let{spacing:d}=this.props;const{level:p}=this.context,{popVisible:f}=this.state,v=this.renderContent();return p>0?d=typeof d=="number"?d:xB.NESTED_SPACING:(d===null||typeof d>"u")&&(d=xB.SPACING),b.createElement(It,Object.assign({zIndex:o,motion:A,margin:c,content:v,className:a,prefixCls:h,spacing:d,position:r,trigger:i,onVisibleChange:this.handleVisibleChange,showArrow:!1,returnFocusOnClose:!0,ref:this.tooltipRef},u),b.isValidElement(t)?b.cloneElement(t,{className:N(le(t,"props.className"),{[`${h}-showing`]:f}),"aria-haspopup":!0,"aria-expanded":f,onKeyDown:m=>{this.foundation.handleKeyDown(m);const y=le(t,"props.onKeyDown");y&&y(m)}}):t)}}at.Menu=uw;at.Item=Bh;at.Divider=q3;at.Title=dw;at.contextType=PA;at.propTypes={children:g.node,contentClassName:g.oneOfType([g.string,g.array]),className:g.string,getPopupContainer:g.func,margin:g.oneOfType([g.number,g.object]),mouseEnterDelay:g.number,mouseLeaveDelay:g.number,menu:g.array,motion:g.oneOfType([g.bool,g.func,g.object]),onVisibleChange:g.func,prefixCls:g.string,position:g.oneOf(FY),rePosKey:g.oneOfType([g.string,g.number]),render:g.node,spacing:g.oneOfType([g.number,g.object]),showTick:g.bool,style:g.object,trigger:g.oneOf(TY),visible:g.bool,zIndex:g.number};at.__SemiComponentName__="Dropdown";at.defaultProps=nr(at.__SemiComponentName__,{onVisibleChange:X,prefixCls:Ch.PREFIX,zIndex:bs.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",position:"bottom",mouseLeaveDelay:Rg.DEFAULT_LEAVE_DELAY,showTick:!1,closeOnEsc:!0,onEscKeyDown:X});const eT={PREFIX:`${re}`};var PY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const SB=["xxl","xl","lg","md","sm","xs"],tT=b.createContext(null),EB={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};class hi extends b.Component{constructor(){super(...arguments),this.state={screens:{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}},this.unRegisters=[]}componentDidMount(){this.unRegisters=Object.keys(EB).map(e=>d3(EB[e],{match:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!0})}))},unmatch:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!1})}))}}))}componentWillUnmount(){this.unRegisters.forEach(e=>e())}getGutter(){const{gutter:e=0}=this.props,t=[0,0];return(Array.isArray(e)?e.slice(0,2):[e,0]).forEach((i,s)=>{if(typeof i=="object")for(let o=0;o<SB.length;o++){const a=SB[o];if(this.state.screens[a]&&i[a]!==void 0){t[s]=i[a];break}}else t[s]=i||0}),t}render(){const e=this.props,{prefixCls:t,type:r,justify:i,align:s,className:o,style:a,children:A}=e,c=PY(e,["prefixCls","type","justify","align","className","style","children"]),l=this.getGutter(),h=`${t}-row`,u=N({[h]:r!=="flex",[`${h}-${r}`]:r,[`${h}-${r}-${i}`]:r&&i,[`${h}-${r}-${s}`]:r&&s},o),d=Object.assign(Object.assign(Object.assign({},l[0]>0?{marginLeft:l[0]/-2,marginRight:l[0]/-2}:{}),l[1]>0?{marginTop:l[1]/-2,marginBottom:l[1]/-2}:{}),a),p=Object.assign({},c);return delete p.gutter,b.createElement(tT.Provider,{value:{gutters:l}},b.createElement("div",Object.assign({},p,{className:u,style:d,"x-semi-prop":"children"}),A))}}hi.propTypes={type:g.oneOf(["flex"]),align:g.oneOf(["top","middle","bottom"]),justify:g.oneOf(["start","end","center","space-around","space-between"]),className:g.string,style:g.object,children:g.node,gutter:g.oneOfType([g.object,g.number,g.array]),prefixCls:g.string};hi.defaultProps={prefixCls:eT.PREFIX};hi.RowContext={gutters:g.any};var OY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const wa=g.oneOfType([g.object,g.number]);class Dn extends b.Component{render(){const{props:e}=this,{prefixCls:t,span:r,order:i,offset:s,push:o,pull:a,className:A,children:c}=e,l=OY(e,["prefixCls","span","order","offset","push","pull","className","children"]);let h={};const u=`${t}-col`;["xs","sm","md","lg","xl","xxl"].forEach(v=>{let m={};typeof e[v]=="number"?m.span=e[v]:typeof e[v]=="object"&&(m=e[v]||{}),delete l[v],h=Object.assign(Object.assign({},h),{[`${u}-${v}-${m.span}`]:m.span!==void 0,[`${u}-${v}-order-${m.order}`]:m.order||m.order===0,[`${u}-${v}-offset-${m.offset}`]:m.offset||m.offset===0,[`${u}-${v}-push-${m.push}`]:m.push||m.push===0,[`${u}-${v}-pull-${m.pull}`]:m.pull||m.pull===0})});const d=N(u,{[`${u}-${r}`]:r!==void 0,[`${u}-order-${i}`]:i,[`${u}-offset-${s}`]:s,[`${u}-push-${o}`]:o,[`${u}-pull-${a}`]:a},A,h);let{style:p}=l,f;try{f=this.context.gutters}catch{throw new Error("please make sure <Col> inside <Row>")}return p=Object.assign(Object.assign(Object.assign({},f[0]>0?{paddingLeft:f[0]/2,paddingRight:f[0]/2}:{}),f[1]>0?{paddingTop:f[1]/2,paddingBottom:f[1]/2}:{}),p),b.createElement("div",Object.assign({},l,{style:p,className:d,"x-semi-prop":"children"}),c)}}Dn.contextType=tT;Dn.propTypes={span:g.number,order:g.number,offset:g.number,push:g.number,pull:g.number,className:g.string,children:g.node,xs:wa,sm:wa,md:wa,lg:wa,xl:wa,xxl:wa,prefixCls:g.string};Dn.defaultProps={prefixCls:eT.PREFIX};const Hg={PREFIX:`${re}-layout`},IY={BREAKPOINT:["xs","sm","md","lg","xl","xxl"]},nT=b.createContext({siderHook:{addSider:Wn,removeSider:Wn}});var UY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const FB={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},kY=(()=>{let n=0;return()=>(n+=1,`${Hg.PREFIX}-sider-${n}`)})(),DY=IY.BREAKPOINT;class xh extends b.PureComponent{constructor(e){super(e),this.unRegisters=[],this.uniqueId="",this.uniqueId=kY()}componentDidMount(){const{breakpoint:e}=this.props,r=Object.keys(FB).filter(i=>e&&e.indexOf(i)!==-1).map(i=>d3(FB[i],{match:()=>{this.responsiveHandler(i,!0)},unmatch:()=>{this.responsiveHandler(i,!1)}}));this.unRegisters=r,this.context.siderHook&&this.context.siderHook.addSider(this.uniqueId)}componentWillUnmount(){this.unRegisters.forEach(e=>e()),this.context.siderHook&&this.context.siderHook.removeSider(this.uniqueId)}responsiveHandler(e,t){const{onBreakpoint:r}=this.props;r&&r(e,t)}render(){const e=this.props,{prefixCls:t,className:r,children:i,style:s}=e,o=UY(e,["prefixCls","className","children","style"]),a=N(r,{[`${t}-sider`]:!0});return b.createElement("aside",Object.assign({className:a,"aria-label":this.props["aria-label"],style:s},JA(o)),b.createElement("div",{className:`${t}-sider-children`},i))}}xh.propTypes={prefixCls:g.string,style:g.object,className:g.string,breakpoint:g.arrayOf(g.oneOf(DY)),onBreakpoint:g.func,"aria-label":g.string,role:g.string};xh.defaultProps={prefixCls:Hg.PREFIX};xh.contextType=nT;xh.elementType="Layout.Sider";var rT=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const QY={Header:"header",Footer:"footer",Content:"main",Layout:"section"};function fw(n){const e=QY[n],t=n.toLowerCase();return r=>class extends b.PureComponent{render(){return b.createElement(r,Object.assign({role:this.props.role,"aria-label":this.props["aria-label"],type:t,tagName:e},this.props))}}}class _h extends b.PureComponent{render(){const e=this.props,{prefixCls:t,type:r,className:i,children:s,tagName:o}=e,a=rT(e,["prefixCls","type","className","children","tagName"]),A=N(i,`${t}-${r}`);return b.createElement(o,Object.assign({className:A},a),s)}}_h.propTypes={prefixCls:g.string,style:g.object,className:g.string};_h.defaultProps={prefixCls:Hg.PREFIX};const MY=fw("Header")(_h),LY=fw("Footer")(_h),NY=fw("Content")(_h);class Ni extends b.Component{constructor(e){super(e),this.state={siders:[]}}getSiderHook(){return{addSider:e=>{this.setState(t=>({siders:[...t.siders,e]}))},removeSider:e=>{this.setState(t=>({siders:t.siders.filter(r=>r!==e)}))}}}render(){const e=this.props,{prefixCls:t,className:r,children:i,hasSider:s,tagName:o}=e,a=rT(e,["prefixCls","className","children","hasSider","tagName"]),{siders:A}=this.state,c=N(r,t,{[`${t}-has-sider`]:typeof s=="boolean"&&s||A.length>0||b.Children.toArray(i).some(h=>b.isValidElement(h)&&h.type&&h.type.elementType==="Layout.Sider")}),l=o;return b.createElement(nT.Provider,{value:{siderHook:this.getSiderHook()}},b.createElement(l,Object.assign({className:c},a),i))}}Ni.propTypes={prefixCls:g.string,style:g.object,className:g.string};Ni.defaultProps={prefixCls:Hg.PREFIX,tagName:"section"};Ni.Header=MY;Ni.Footer=LY;Ni.Content=NY;Ni.Sider=xh;const RY={PREFIX:`${re}-form`},mi=RY.PREFIX;class pw extends H.PureComponent{render(){const{children:e,required:t,text:r,disabled:i,name:s,width:o,align:a,style:A,className:c,extra:l,id:h,optional:u}=this.props,d=N(c,{[`${mi}-field-label`]:!0,[`${mi}-field-label-left`]:a==="left",[`${mi}-field-label-right`]:a==="right",[`${mi}-field-label-required`]:t,[`${mi}-field-label-disabled`]:i,[`${mi}-field-label-with-extra`]:l}),p=A||{};o&&(p.width=o);const f=b.createElement(gr,{componentName:"Form"},y=>b.createElement("span",{className:`${mi}-field-label-optional-text`},y.optional)),v=b.createElement("div",{className:`${mi}-field-label-text`,"x-semi-prop":"label"},typeof r<"u"?r:e,u?f:null),m=b.createElement(b.Fragment,null,v,b.createElement("div",{className:`${mi}-field-label-extra`},l));return b.createElement("label",{className:d,htmlFor:s,style:p,id:h},l?m:v)}}pw.defaultProps={required:!1,name:"",align:"left",className:"",optional:!1};pw.propTypes={id:g.string,children:g.node,required:g.bool,text:g.node,disabled:g.bool,name:g.string,align:g.string,width:g.oneOfType([g.number,g.string]),style:g.object,className:g.string,extra:g.node,optional:g.bool};var TB=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const ro=rw.PREFIX,HY=nl.SIZE;class gw extends Ie{renderGroupWithLabel(e){const t=this.props,{size:r,className:i,label:s,labelPosition:o}=t;TB(t,["size","className","label","labelPosition"]);const a=N({[`${ro}-group-wrapper`]:!0,[`${ro}-group-wrapper-with-top-label`]:o==="top",[`${ro}-group-wrapper-with-left-label`]:o==="left"}),A=N(`${ro}-group`,i,{[`${ro}-${r}`]:r!=="default"}),c="input-group";return b.createElement("div",{className:a},s&&s.text?b.createElement(pw,Object.assign({name:c},s)):null,b.createElement("span",{role:"group","aria-disabled":this.props.disabled,id:s&&s.name||c,className:A,style:this.props.style,onFocus:this.props.onFocus,onBlur:this.props.onBlur},e))}render(){const e=this.props,{size:t,style:r,className:i,children:s,label:o,onBlur:a,onFocus:A,disabled:c}=e,l=TB(e,["size","style","className","children","label","onBlur","onFocus","disabled"]),h=N(`${ro}-group`,{[`${ro}-${t}`]:t!=="default"},i);let u;return s&&(u=(Array.isArray(s)?s:[s]).map((d,p)=>{if(d){const{onBlur:f,onFocus:v,disabled:m}=d.props,y=un(f)&&le(f,"name")!=="noop"?f:a,w=un(v)&&le(v,"name")!=="noop"?v:A,C=typeof m=="boolean"?m:c;return b.cloneElement(d,Object.assign(Object.assign({key:p},l),{size:t,onBlur:y,onFocus:w,disabled:C}))}return null})),o&&o.text?this.renderGroupWithLabel(u):b.createElement("span",{role:"group","aria-label":"Input group","aria-disabled":this.props.disabled,className:h,style:r,onFocus:this.props.onFocus,onBlur:this.props.onBlur},u)}}gw.propTypes={className:g.string,children:g.node,size:g.oneOf(HY),style:g.object,onBlur:g.func,onFocus:g.func,label:g.object,labelPosition:g.string};gw.defaultProps={size:"default",className:"",onBlur:Wn,onFocus:Wn};var $Y=S3;function jY(n){return $Y(n)&&n!=+n}var KY=jY;const GY=Ge(KY),VY=(n,e)=>{const{isNaN:t}=Number;return t(n)&&t(e)},zY=Object.assign({},rw),Qo=Object.assign(Object.assign({},bz),{DEFAULT_STEP:1,DEFAULT_SHIFT_STEP:10,DEFAULT_PRESS_TIMEOUT:250,DEFAULT_PRESS_INTERVAL:0,MOUSE_BUTTON_LEFT:0}),WY=Object.assign({},nl);function XY(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=Math.pow(10,Math.max(t,r));return(n*i+e*i)/i}function PB(n,e){return XY(n,-e)}class YY extends Ye{init(){this._setInitValue()}destroy(){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}isControlled(){return this._isControlledComponent("value")}_doInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=e,s=e,o=!0;const a=this.isControlled();typeof e!="number"&&(s=this.doParse(e,!1),o=!isNaN(s)),o&&(i=s,a||this._adapter.setNumber(s)),a||this._adapter.setValue(e,r),this.getProp("keepFocus")&&this._adapter.setFocusing(!0,()=>{this._adapter.setClickUpOrDown(!0)}),this.notifyChange(i,t)}_registerInterval(e){const t=this.getProp("pressInterval")||Qo.DEFAULT_PRESS_INTERVAL;this._intervalHasRegistered=!0,this._interval=setInterval(()=>{typeof e=="function"&&this._intervalHasRegistered&&e()},t)}_unregisterInterval(){this._interval&&(this._intervalHasRegistered=!1,clearInterval(this._interval),this._interval=null)}_registerTimer(e){const t=this.getProp("pressTimeout")||Qo.DEFAULT_PRESS_TIMEOUT;this._timerHasRegistered=!0,this._timer=setTimeout(()=>{this._timerHasRegistered&&typeof e=="function"&&e()},t)}_unregisterTimer(){this._timer&&(this._timerHasRegistered=!1,clearTimeout(this._timer),this._timer=null)}handleInputFocus(e){this.getState("value"),this._adapter.recordCursorPosition(),this._adapter.setFocusing(!0,null),this._adapter.setClickUpOrDown(!1),this._adapter.notifyFocus(e)}handleInputChange(e,t){const r=this.doParse(e,!0,!0,!0),i=this.doParse(e,!1,!1,!1),s=this.afterParser(e);this._adapter.recordCursorPosition();let o,a=i,A=e;if(e==="")this.isControlled()||(a=null);else if(this.isValidNumber(i)&&this.isValidNumber(r))o=i,A=this.doFormat(i,!1);else{if(typeof i=="number"&&!isNaN(i)){A=this.doFormat(i,!1);const c=s.lastIndexOf("."),l=s.length-1-c,h=this._getPrecLen(i);if(h){if(h<l)for(let u=0;u<l-h;u++)A+="0"}else{const u=c>-1?s.slice(c):"";A+=u}a=i}else A=this.doFormat(s,!1);o=s}!this.isControlled()&&(a===null||typeof a=="number"&&!isNaN(a))&&this._adapter.setNumber(a),this._adapter.setValue(this.isControlled()?A:this.doFormat(s,!1),()=>{this._adapter.restoreCursor()}),this.notifyChange(o,t)}handleInputKeyDown(e){const t=e.keyCode;if(t===Ir.UP||t===Ir.DOWN){this._adapter.setClickUpOrDown(!0),this._adapter.recordCursorPosition();const r=t===Ir.UP?this.add(null,e):this.minus(null,e);this._doInput(r,e,()=>{this._adapter.restoreCursor()}),e.preventDefault()}this._adapter.notifyKeyDown(e)}handleInputBlur(e){const t=va(this.getState("value"));let r=this.getState("number");if(r!=null||t!=null&&t!==""){const i=this.doParse(t,!1,!0,!0);let s=!1,o=!1,a,A;this.isValidNumber(i)&&r!==i&&(a=i,this.isControlled()||(r=a),s=!0);const c=this.doFormat(r,!0);if(c!==t&&(A=c,o=!0),o||s){const l=A??a;A!=null&&this._adapter.setValue(A),a!=null&&(this._isControlledComponent("value")||this._adapter.setNumber(a)),this.notifyChange(l,e)}}this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputMouseEnter(e){this._adapter.setHovering(!0)}handleInputMouseLeave(e){this._adapter.setHovering(!1)}handleInputMouseMove(e){this._adapter.setHovering(!0)}handleMouseUp(e){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}handleUpClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.upClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.upClick(e)})}))}handleDownClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.downClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.downClick(e)})}))}_isMouseButtonLeft(e){return le(e,"button")===Qo.MOUSE_BUTTON_LEFT}_preventDefault(e){const t=this._adapter.getProp("keepFocus"),r=this._adapter.getProp("innerButtons");(t||r)&&e.preventDefault()}handleMouseLeave(e){this._adapter.registerGlobalEvent("mouseup",()=>{this.handleMouseUp(e)})}upClick(e){const t=this.add(null,e);this._doInput(t,e),this._adapter.notifyUpClick(t,e)}downClick(e){const t=this.minus(null,e);this._doInput(t,e),this._adapter.notifyDownClick(t,e)}_setInitValue(){const{defaultValue:e,value:t}=this.getProps(),r=this._isControlledComponent("value")?t:e,i=this.doParse(va(r),!1,!0,!0);let s=null;typeof i=="number"&&!isNaN(i)&&(s=i);const o=typeof s=="number"?this.doFormat(s,!0):"";this._adapter.setNumber(s),this._adapter.setValue(o),Ft(o)&&o!==String(r??"")&&this.notifyChange(o,null)}add(e,t){const i=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");e=e==null?i:Number(e);const s=Math.abs(bl(e)),o=this.getState("number");let a=this.toNumber(o)||0;const A=this.getProp("min"),c=this.getProp("max"),l=this._getPrecLen(A),h=this._getPrecLen(c),u=this._getPrecLen(a),d=this._getPrecLen(e),p=Math.pow(10,Math.max(l,h,u,d));return e<0?Math.abs(PB(A,a))>=s&&(a=(a*p+e*p)/p):e>0&&Math.abs(PB(c,a))>=s&&(a=(a*p+e*p)/p),typeof A=="number"&&A>a&&(a=A),typeof c=="number"&&c<a&&(a=c),this.doFormat(a,!0)}minus(e,t){const i=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");return e=e==null?i:Number(e),this.add(-e,t)}_getPrecLen(e){typeof e!="string"&&(e=String(Math.abs(Number(e||""))));const t=e.indexOf(".")+1;return t?e.length-t:0}_adjustPrec(e){const t=this.getProp("precision");return typeof t=="number"&&e!==""&&e!==null&&!Number.isNaN(Number(e))&&(e=Number(e).toFixed(t)),va(e)}doFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r;const i=this.getProp("formatter");return t?r=this._adjustPrec(e):r=va(e),typeof i=="function"&&(r=i(r)),r}fetchMinOrMax(e){const{min:t,max:r}=this.getProps();return e<t?t:e>r?r:e}doParse(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof e=="number")return i&&(e=this.fetchMinOrMax(e)),r&&(e=this._adjustPrec(e)),bl(e);const s=this.getProp("parser");if(typeof s=="function"&&(e=s(e)),t&&typeof e=="string"){const o=e.indexOf(".")===-1||e.indexOf(".")>-1&&(e==="0"||e.lastIndexOf("0")<e.length-1),a=e.lastIndexOf(".")<e.length-1&&e.split("").filter(A=>A===".").length<2;if(!o||!a)return NaN}return r&&(e=this._adjustPrec(e)),typeof e=="string"&&e.length?i?this.fetchMinOrMax(bl(e)):bl(e):NaN}afterParser(e){const t=this.getProp("parser");return va(typeof e=="string"&&typeof t=="function"?t(e):e)}toNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number")return e;if(typeof e=="string"){const r=this.getProp("parser");typeof r=="function"&&(e=r(e)),t&&(e=this._adjustPrec(e))}return bl(e)}isValidNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number"&&!isNaN(e)){const{min:r,max:i,precision:s}=this.getProps(),o=this._getPrecLen(e),a=t?typeof s=="number"&&o<=s||typeof s!="number":!0;if(e>=r&&e<=i&&a)return!0}return!1}isValidString(e){if(typeof e=="string"&&e.length){const t=this.doParse(e);return this.isValidNumber(t)}return!1}notifyChange(e,t){if(e==null||e==="")this._adapter.notifyChange("",t);else{const r=this.toNumber(e,!0);typeof r=="number"&&!isNaN(r)?(this._adapter.notifyChange(r,t),this.notifyNumberChange(r,t)):this._adapter.notifyChange(this.afterParser(e),t)}}notifyNumberChange(e,t){const{number:r}=this.getStates();this.isValidNumber(e)&&e!==r&&this._adapter.notifyNumberChange(e,t)}updateStates(e,t){this._adapter.updateStates(e,t)}}var JY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class wf extends Ie{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setValue:(t,r)=>this.setState({value:t},r),setNumber:(t,r)=>this.setState({number:t},r),setFocusing:(t,r)=>this.setState({focusing:t},r),setHovering:t=>this.setState({hovering:t}),notifyChange:function(){return e.props.onChange(...arguments)},notifyNumberChange:function(){return e.props.onNumberChange(...arguments)},notifyBlur:t=>this.props.onBlur(t),notifyFocus:t=>this.props.onFocus(t),notifyUpClick:(t,r)=>this.props.onUpClick(t,r),notifyDownClick:(t,r)=>this.props.onDownClick(t,r),notifyKeyDown:t=>this.props.onKeyDown(t),registerGlobalEvent:(t,r)=>{t&&typeof r=="function"&&(this.adapter.unregisterGlobalEvent(t),this.adapter.setCache(t,r),document.addEventListener(t,r))},unregisterGlobalEvent:t=>{if(t){const r=this.adapter.getCache(t);document.removeEventListener(t,r),this.adapter.setCache(t,null)}},recordCursorPosition:()=>{try{this.inputNode&&(this.cursorStart=this.inputNode.selectionStart,this.cursorEnd=this.inputNode.selectionEnd,this.currentValue=this.inputNode.value,this.cursorBefore=this.inputNode.value.substring(0,this.cursorStart),this.cursorAfter=this.inputNode.value.substring(this.cursorEnd))}catch(t){console.warn(t)}},restoreByAfter:t=>{if(Sn(t))return!1;const r=this.inputNode.value,i=r.lastIndexOf(t);return i===-1?!1:i+t.length===r.length?(this.adapter.fixCaret(i,i),!0):!1},restoreCursor:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.cursorAfter;return Sn(t)?!1:Array.prototype.some.call(t,(r,i)=>{const s=t.substring(i);return e.adapter.restoreByAfter(s)})},fixCaret:(t,r)=>{if(!(t===void 0||r===void 0||!this.inputNode||!this.inputNode.value))try{const i=this.inputNode.selectionStart,s=this.inputNode.selectionEnd;(t!==i||r!==s)&&this.inputNode.setSelectionRange(t,r)}catch{}},setClickUpOrDown:t=>{this.clickUpOrDown=t},updateStates:(t,r)=>{this.setState(t,r)}})}constructor(e){super(e),this.setInputRef=t=>{const{forwardedRef:r}=this.props;this.inputNode=t,r&&typeof r=="object"?r.current=t:typeof r=="function"&&r(t)},this.handleInputFocus=t=>this.foundation.handleInputFocus(t),this.handleInputChange=(t,r)=>this.foundation.handleInputChange(t,r),this.handleInputBlur=t=>this.foundation.handleInputBlur(t),this.handleInputKeyDown=t=>this.foundation.handleInputKeyDown(t),this.handleInputMouseEnter=t=>this.foundation.handleInputMouseEnter(t),this.handleInputMouseLeave=t=>this.foundation.handleInputMouseLeave(t),this.handleInputMouseMove=t=>this.foundation.handleInputMouseMove(t),this.handleUpClick=t=>this.foundation.handleUpClick(t),this.handleDownClick=t=>this.foundation.handleDownClick(t),this.handleMouseUp=t=>this.foundation.handleMouseUp(t),this.handleMouseLeave=t=>this.foundation.handleMouseLeave(t),this.renderButtons=()=>{const{prefixCls:t,disabled:r,innerButtons:i,max:s,min:o}=this.props,{hovering:a,focusing:A,number:c}=this.state,l=r||c===s,h=r||c===o,u=N(`${t}-number-suffix-btns`,{[`${t}-number-suffix-btns-inner`]:i,[`${t}-number-suffix-btns-inner-hover`]:i&&a&&!A}),d=N(`${t}-number-button`,`${t}-number-button-up`,{[`${t}-number-button-up-disabled`]:r,[`${t}-number-button-up-not-allowed`]:l}),p=N(`${t}-number-button`,`${t}-number-button-down`,{[`${t}-number-button-down-disabled`]:r,[`${t}-number-button-down-not-allowed`]:h});return b.createElement("div",{className:u},b.createElement("span",{className:d,onMouseDown:l?X:this.handleUpClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},b.createElement(UV,{size:"extra-small"})),b.createElement("span",{className:p,onMouseDown:h?X:this.handleDownClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},b.createElement(Hc,{size:"extra-small"})))},this.renderSuffix=()=>{const{innerButtons:t,suffix:r}=this.props,{hovering:i,focusing:s}=this.state;return t&&(i||s)?this.renderButtons():r},this.state={value:"",number:null,focusing:!!e.autofocus||!1,hovering:!1},this.inputNode=null,this.foundation=new YY(this.adapter),this.clickUpOrDown=!1}componentDidUpdate(e){const{value:t,preventScroll:r}=this.props,{focusing:i}=this.state;let s;if(t!==e.value&&!VY(t,e.value)){if(Sn(t)||t==="")s="",this.foundation.updateStates({value:s,number:null});else{let o=t;typeof t=="number"&&(o=this.foundation.doFormat(t));const a=this.foundation.doParse(o,!1,!0,!0),A=typeof t=="number"?t:this.foundation.doParse(o,!1,!1,!1);if(i)if(this.foundation.isValidNumber(a)&&a!==this.state.number){const c={number:a};this.clickUpOrDown&&(c.value=this.foundation.doFormat(c.number,!0),s=c.value),this.foundation.updateStates(c,()=>this.adapter.restoreCursor())}else GY(A)?this.foundation.updateStates({value:o}):(s=this.foundation.doFormat(A,!1),this.foundation.updateStates({value:s}));else this.foundation.isValidNumber(a)?(s=this.foundation.doFormat(a),this.foundation.updateStates({number:a,value:s})):(s="",this.foundation.updateStates({number:null,value:s}))}s&&Ft(s)&&s!==String(this.props.value)&&this.foundation.notifyChange(s,null)}this.clickUpOrDown&&this.props.keepFocus&&this.state.focusing&&document.activeElement!==this.inputNode&&this.inputNode.focus({preventScroll:r})}render(){const e=this.props,{disabled:t,className:r,prefixCls:i,min:s,max:o,step:a,shiftStep:A,precision:c,formatter:l,parser:h,forwardedRef:u,onUpClick:d,onDownClick:p,pressInterval:f,pressTimeout:v,suffix:m,size:y,hideButtons:w,innerButtons:C,style:S,onNumberChange:x,keepFocus:E,defaultValue:T}=e,P=JY(e,["disabled","className","prefixCls","min","max","step","shiftStep","precision","formatter","parser","forwardedRef","onUpClick","onDownClick","pressInterval","pressTimeout","suffix","size","hideButtons","innerButtons","style","onNumberChange","keepFocus","defaultValue"]),{value:F,number:U}=this.state,I=N(r,`${i}-number`,{[`${i}-number-size-${y}`]:y}),D=this.renderButtons(),$={"aria-disabled":t,step:a};return U&&($["aria-valuenow"]=U),o!==1/0&&($["aria-valuemax"]=o),s!==-1/0&&($["aria-valuemin"]=s),b.createElement("div",{className:I,style:S,onMouseMove:G=>this.handleInputMouseMove(G),onMouseEnter:G=>this.handleInputMouseEnter(G),onMouseLeave:G=>this.handleInputMouseLeave(G)},b.createElement(vf,Object.assign({role:"spinbutton"},$,P,{size:y,disabled:t,ref:this.setInputRef,value:F,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,suffix:this.renderSuffix()})),w||C?null:D)}}wf.propTypes={"aria-label":g.string,"aria-labelledby":g.string,"aria-invalid":g.bool,"aria-errormessage":g.string,"aria-describedby":g.string,"aria-required":g.bool,autofocus:g.bool,clearIcon:g.node,className:g.string,defaultValue:g.oneOfType([g.number,g.string]),disabled:g.bool,formatter:g.func,forwardedRef:g.any,hideButtons:g.bool,innerButtons:g.bool,insetLabel:g.node,insetLabelId:g.string,keepFocus:g.bool,max:g.number,min:g.number,parser:g.func,precision:g.number,prefixCls:g.string,pressInterval:g.number,pressTimeout:g.number,preventScroll:g.bool,shiftStep:g.number,step:g.number,style:g.object,suffix:g.any,value:g.oneOfType([g.number,g.string]),onBlur:g.func,onChange:g.func,onDownClick:g.func,onKeyDown:g.func,onNumberChange:g.func,onUpClick:g.func};wf.defaultProps={forwardedRef:X,innerButtons:!1,keepFocus:!1,max:1/0,min:-1/0,prefixCls:zY.PREFIX,pressInterval:Qo.DEFAULT_PRESS_TIMEOUT,pressTimeout:Qo.DEFAULT_PRESS_TIMEOUT,shiftStep:Qo.DEFAULT_SHIFT_STEP,size:WY.DEFAULT_SIZE,step:Qo.DEFAULT_STEP,onBlur:X,onChange:X,onDownClick:X,onFocus:X,onKeyDown:X,onNumberChange:X,onUpClick:X};const ZY=vX(b.forwardRef(function(e,t){return b.createElement(wf,Object.assign({},e,{forwardedRef:t}))}),wf),OB="horizontal",IB="vertical",Mr={PREFIX:`${re}-navigation`},Qe={MODE:[IB,OB],MODE_VERTICAL:IB,MODE_HORIZONTAL:OB,ICON_POS_LEFT:"left",ICON_POS_RIGHT:"right",DEFAULT_LOGO_ICON_SIZE:"extra-large",TOGGLE_ICON_LEFT:"left",TOGGLE_ICON_RIGHT:"right"},aA={DEFAULT_SUBNAV_MAX_HEIGHT:999,DEFAULT_TOOLTIP_SHOW_DELAY:0,DEFAULT_TOOLTIP_HIDE_DELAY:100,DEFAULT_SUBNAV_OPEN_DELAY:0,DEFAULT_SUBNAV_CLOSE_DELAY:100},UB={open:"chevron_up",closed:"chevron_down"};let qY=class Oy{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(e==null||typeof e!="object")&&(e={text:e,itemKey:e,maxHeight:aA.DEFAULT_SUBNAV_MAX_HEIGHT,link:null,items:null,icon:"",indent:!1});for(const t of Object.keys(e))this[t]=e[t];e.items&&Array.isArray(e.items)&&e.items.length?(this.items=e.items.map(t=>new Oy(t)),"toggleIcon"in e?this.toggleIcon=Oy.isValidToggleIcon(e.toggleIcon)?Object.assign({},e.toggleIcon):Object.assign({},UB):this.toggleIcon=Object.assign({},UB)):this.items=null}static isValidToggleIcon(e){return!!(e&&typeof e=="object"&&typeof e.open=="string"&&e.open.length&&typeof e.closed=="string"&&e.closed.length)}};class AA extends Ye{constructor(e){super(Object.assign({},e))}static getZeroParentKeys(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=[];for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(i.length){for(const o of i)if(Array.isArray(e[o])&&e[o].length){const a=e[o][0];Sn(a)||t.push(a)}}return t}static buildItemKeysMap(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"itemKey";if(Array.isArray(e)&&e.length)for(const s of e)if(Array.isArray(s))AA.buildItemKeysMap(s,t,[...r],i);else{let o;if(s&&typeof s=="object"&&(o=s[i]||s.props&&s.props[i]),o){if(t[o]=[...r],Array.isArray(s.items)&&s.items.length)AA.buildItemKeysMap(s.items,t,[...r,o],i);else if(s.props&&s.props.children){const a=Array.isArray(s.props.children)?s.props.children:[s.props.children];AA.buildItemKeysMap(a,t,[...r,o],i)}}}return t}init(e){const{defaultSelectedKeys:t,selectedKeys:r}=this.getProps();let i=r||t||[];const{itemKeysMap:s,willOpenKeys:o,formattedItems:a}=this.getCalcState(),A=this.selectLevelZeroParentKeys(s,i);if(i=i.concat(A),e==="constructor")return{selectedKeys:i,itemKeysMap:s,openKeys:o,items:a};this._adapter.updateSelectedKeys(i,!1),this._adapter.setItemKeysMap(s),this._adapter.updateOpenKeys(o),this._adapter.updateItems(a),this._adapter.setItemsChanged(!0)}getCalcState(){const{itemKeysMap:e,formattedItems:t}=this.getFormattedItems(),r=this.getWillOpenKeys(e);return{itemKeysMap:e,willOpenKeys:r,formattedItems:t}}getFormattedItems(){const{items:e,children:t}=this.getProps(),r=this.formatItems(e),i=Array.isArray(e)&&e.length?r:t;return{itemKeysMap:AA.buildItemKeysMap(i),formattedItems:r}}getWillOpenKeys(e){const{defaultOpenKeys:t,openKeys:r,defaultSelectedKeys:i,selectedKeys:s,mode:o}=this.getProps(),{openKeys:a=[]}=this.getStates();let A=r||t||[];if(!(Array.isArray(t)||Array.isArray(r))&&o===Qe.MODE_VERTICAL&&(Array.isArray(i)||Array.isArray(s))){const c=Array.isArray(s)?s:i;A=a.concat(this.getShouldOpenKeys(e,c)),A=Array.from(new Set(A))}return[...A]}getShouldOpenKeys(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=new Set;return Array.isArray(t)&&t.length&&t.forEach(i=>{if(i){const s=le(e,i);Array.isArray(s)&&s.forEach(o=>r.add(o))}}),[...r]}destroy(){}selectLevelZeroParentKeys(e,t){const r=Sn(e)?this.getState("itemKeysMap"):e,i=[];if(t.length){for(const s of t)if(Array.isArray(r[s])&&r[s].length){const o=r[s][0];Sn(o)||i.push(o)}}return i.length?i:[]}formatItems(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];for(const r of e)t.push(new qY(r));return t}handleSelect(e){this._adapter.notifySelect(e)}judgeIfOpen(e,t){let r=!1;const i=Array.isArray(e)?e:e&&[e];if(i&&Array.isArray(t)&&t.length){for(const s of t)if(r=i.includes(s.itemKey)||this.judgeIfOpen(i,s.items),r)break}return r}handleCollapseChange(){const e=!this.getState("isCollapsed");this._isControlledComponent("isCollapsed")||this._adapter.setIsCollapsed(e),this._adapter.notifyCollapseChange(e)}handleItemsChange(e){this._adapter.setItemsChanged(e)}}const kB=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=new Set(e);for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.forEach(o=>o&&t.add(o)),Array.from(t)},DB=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=new Set(e);for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.forEach(o=>o&&t.delete(o)),Array.from(t)};class eJ extends Ye{constructor(e){super(Object.assign({},e))}init(){this._timer=null}destroy(){this.clearDelayTimer()}clearDelayTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}isValidKey(e){return e!=null&&(typeof e=="number"||typeof e=="string")}handleDropdownVisibleChange(e){const t=this.getProp("itemKey"),r=this._adapter.getOpenKeysIsControlled(),i=this._adapter.getCanUpdateOpenKeys(),s=this._adapter.getOpenKeys(),o=e?kB(s,t):DB(s,t);this.clearDelayTimer(),r||i&&this._adapter.updateOpen(e),this._adapter.notifyGlobalOpenChange({itemKey:t,openKeys:o,isOpen:e})}handleClick(e,t){const{itemKey:r,disabled:i}=this.getProps();if(i)return;const s=t&&t.contains(e.target);let o=!!this._adapter.getIsOpen();s?o=!o:o=!1;const a=o?kB(this._adapter.getOpenKeys(),r):DB(this._adapter.getOpenKeys(),r),A={itemKey:r,openKeys:a,isOpen:o,domEvent:e},c=this._adapter.getOpenKeysIsControlled(),l=this._adapter.getCanUpdateOpenKeys();!c&&l&&this._adapter.updateOpen(o),this._adapter.notifyGlobalOpenChange(A),this._adapter.notifyGlobalOnClick(A)}handleKeyPress(e,t){vh(e)&&this.handleClick(e,t)}}class tJ extends Ye{constructor(e){super(Object.assign({},e))}init(){this._timer=null,this._mounted=!0}destroy(){this._mounted=!1}isValidKey(e){return e!=null&&(typeof e=="string"||typeof e=="number")}handleClick(e){const{isSubNav:t,itemKey:r,text:i,disabled:s}=this.getProps();if(s)return;!t&&this.isValidKey(r)&&!this._adapter.getSelectedKeysIsControlled()&&!this._adapter.getSelected()&&this._adapter.updateSelected(!0);const o=[r];if(!t){if(!this._adapter.getSelected()){const a=[this._adapter.cloneDeep(this.getProps())];this._adapter.notifyGlobalOnSelect({itemKey:r,selectedKeys:o,selectedItems:a,domEvent:e})}this._adapter.notifyGlobalOnClick({itemKey:r,text:i,domEvent:e})}this._adapter.notifyClick({itemKey:r,text:i,domEvent:e})}handleKeyPress(e){if(vh(e)){const{link:t,linkOptions:r}=this.getProps(),i=le(r,"target","_self");this.handleClick(e),typeof t=="string"&&(i==="_blank"?window.open(t):window.location.href=t)}}}const ol=b.createContext({isCollapsed:!1,selectedKeys:[],openKeys:[]}),vn=`${Mr.PREFIX}-item`;class al extends Ie{constructor(e){super(e),this.setItemRef=t=>{this.props.forwardRef&&this.props.forwardRef(t)},this.wrapTooltip=t=>{const{text:r,tooltipHideDelay:i,tooltipShowDelay:s}=this.props,o=i??this.context.tooltipHideDelay,a=s??this.context.tooltipShowDelay;return b.createElement(It,{content:r,position:"right",trigger:"hover",mouseEnterDelay:a,mouseLeaveDelay:o},t)},this.handleClick=t=>this.foundation.handleClick(t),this.handleKeyPress=t=>this.foundation.handleKeyPress(t),this.state={tooltipShow:!1},this.foundation=new tJ(this.adapter)}_invokeContextFunc(e){if(e&&this.context&&typeof this.context[e]=="function"){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return this.context[e](...r)}return null}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{cloneDeep:bK,updateTooltipShow:t=>this.setState({tooltipShow:t}),updateSelected:t=>this._invokeContextFunc("updateSelectedKeys",[this.props.itemKey]),updateGlobalSelectedKeys:t=>this._invokeContextFunc("updateSelectedKeys",[...t]),getSelectedKeys:()=>this.context&&this.context.selectedKeys,getSelectedKeysIsControlled:()=>this.context&&this.context.selectedKeysIsControlled,notifyGlobalOnSelect:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e._invokeContextFunc("onSelect",...r)},notifyGlobalOnClick:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e._invokeContextFunc("onClick",...r)},notifyClick:function(){return e.props.onClick(...arguments)},notifyMouseEnter:function(){return e.props.onMouseEnter(...arguments)},notifyMouseLeave:function(){return e.props.onMouseLeave(...arguments)},getIsCollapsed:()=>this.props.isCollapsed||!!(this.context&&this.context.isCollapsed)||!1,getSelected:()=>!!(this.context&&this.context.selectedKeys&&this.context.selectedKeys.includes(this.props.itemKey)),getIsOpen:()=>!!(this.context&&this.context.openKeys&&this.context.openKeys.includes(this.props.itemKey))})}renderIcon(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(this.props.isSubNav||!e&&this.context.mode===Qe.MODE_HORIZONTAL)return null;let s="large";t===Qe.ICON_POS_RIGHT&&(s="default");const o=N(`${vn}-icon`,{[`${vn}-icon-toggle-${this.context.toggleIconPosition}`]:r,[`${vn}-icon-info`]:!r});return b.createElement("i",{className:o,key:i},kr(e)?b.cloneElement(e,{size:e.props.size||s}):e)}render(){const{text:e,children:t,icon:r,toggleIcon:i,className:s,isSubNav:o,style:a,indent:A,onMouseEnter:c,onMouseLeave:l,link:h,linkOptions:u,disabled:d,level:p=0,tabIndex:f}=this.props,{mode:v,isInSubNav:m,prefixCls:y,limitIndent:w}=this.context,C=this.adapter.getIsCollapsed(),S=this.adapter.getSelected();let x=null;if(!Sn(t))x=t;else{let T=null;if(v===Qe.MODE_VERTICAL&&!w&&!C){const P=r&&!A?p:p-1;T=V3(P,F=>this.renderIcon(null,Qe.ICON_POS_RIGHT,!1,F))}x=b.createElement(b.Fragment,null,T,this.context.toggleIconPosition===Qe.TOGGLE_ICON_LEFT&&this.renderIcon(i,Qe.ICON_POS_RIGHT,!0,"key-toggle-pos-right"),r||A||m?this.renderIcon(r,Qe.ICON_POS_LEFT,!1,"key-position-left"):null,Sn(e)?"":b.createElement("span",{className:`${Mr.PREFIX}-item-text`},e),this.context.toggleIconPosition===Qe.TOGGLE_ICON_RIGHT&&this.renderIcon(i,Qe.ICON_POS_RIGHT,!0,"key-toggle-pos-right"))}typeof h=="string"&&(x=b.createElement("a",Object.assign({className:`${y}-item-link`,href:h,tabIndex:-1},u),x));let E="";if(m&&(C||v===Qe.MODE_HORIZONTAL)){const T=N({[vn]:!0,[`${vn}-sub`]:o,[`${vn}-selected`]:S,[`${vn}-collapsed`]:C,[`${vn}-disabled`]:d});E=b.createElement(at.Item,{selected:S,active:S,forwardRef:this.setItemRef,className:T,onClick:this.handleClick,onMouseEnter:c,onMouseLeave:l,disabled:d,onKeyDown:this.handleKeyPress},x)}else{const T=N(`${s||`${vn}-normal`}`,{[vn]:!0,[`${vn}-sub`]:o,[`${vn}-selected`]:S&&!o,[`${vn}-collapsed`]:C,[`${vn}-disabled`]:d,[`${vn}-has-link`]:typeof h=="string"}),P={"aria-disabled":d};if(o){const F=this.adapter.getIsOpen();P["aria-expanded"]=F}E=b.createElement("li",Object.assign({role:o?null:"menuitem",tabIndex:o?-1:f},P,{style:a,ref:this.setItemRef,className:T,onClick:this.handleClick,onMouseEnter:c,onMouseLeave:l,onKeyPress:this.handleKeyPress},this.getDataAttr(this.props)),x)}return(C&&!m&&!o||C&&o&&d)&&(E=this.wrapTooltip(E)),typeof this.context.renderWrapper=="function"?this.context.renderWrapper({itemElement:E,isSubNav:o,isInSubNav:m,props:this.props}):E}}al.contextType=ol;al.propTypes={text:g.oneOfType([g.string,g.node]),itemKey:g.oneOfType([g.string,g.number]),onClick:g.func,onMouseEnter:g.func,onMouseLeave:g.func,children:g.node,icon:g.oneOfType([g.node]),className:g.string,toggleIcon:g.string,style:g.object,forwardRef:g.func,indent:g.oneOfType([g.bool,g.number]),isCollapsed:g.bool,isSubNav:g.bool,link:g.string,linkOptions:g.object,disabled:g.bool,tabIndex:g.number};al.defaultProps={isSubNav:!1,indent:!1,forwardRef:X,isCollapsed:!1,onClick:X,onMouseEnter:X,onMouseLeave:X,disabled:!1,tabIndex:0};class Sh extends Ie{constructor(e){super(e),this.setItemRef=t=>{t&&t.current?this.itemRef=t:this.itemRef={current:t}},this.setTitleRef=t=>{t&&t.current?this.titleRef=t:this.titleRef={current:t}},this.handleClick=t=>{this.foundation.handleClick(t&&t.nativeEvent,this.titleRef&&this.titleRef.current)},this.handleKeyPress=t=>{this.foundation.handleKeyPress(t&&t.nativeEvent,this.titleRef&&this.titleRef.current)},this.handleDropdownVisible=t=>this.foundation.handleDropdownVisibleChange(t),this.state={isHovered:!1},this.adapter.setCache("firstMounted",!0),this.titleRef=b.createRef(),this.itemRef=b.createRef(),this.foundation=new eJ(this.adapter)}_invokeContextFunc(e){if(e&&this.context&&typeof this.context[e]=="function"){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return this.context[e](...r)}return null}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{updateIsHovered:t=>this.setState({isHovered:t}),getOpenKeys:()=>this.context&&this.context.openKeys,getOpenKeysIsControlled:()=>this.context&&this.context.openKeysIsControlled,getCanUpdateOpenKeys:()=>this.context&&this.context.canUpdateOpenKeys,updateOpen:t=>this._invokeContextFunc(t?"addOpenKeys":"removeOpenKeys",this.props.itemKey),notifyGlobalOpenChange:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e._invokeContextFunc("onOpenChange",...r)},notifyGlobalOnSelect:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e._invokeContextFunc("onSelect",...r)},notifyGlobalOnClick:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e._invokeContextFunc("onClick",...r)},getIsSelected:t=>!!(!Sn(t)&&le(this.context,"selectedKeys",[]).includes(String(t))),getIsOpen:()=>(this.props,!!(this.context&&this.context.openKeys&&this.context.openKeys.includes(this.props.itemKey)))})}renderIcon(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;const{prefixCls:o}=this.context;let a="large";t===Qe.ICON_POS_RIGHT&&(a="default");const A=N(`${o}-item-icon`,{[`${o}-item-icon-toggle-${this.context.toggleIconPosition}`]:i,[`${o}-item-icon-info`]:!i}),c=this.adapter.getIsOpen(),l=b.isValidElement(e)?r?b.createElement(Zo,{animationState:c?"enter":"leave",startClassName:`${Mr.PREFIX}-icon-rotate-${c?"180":"0"}`},h=>{let{animationClassName:u}=h;return b.cloneElement(e,{size:a,className:u})}):b.cloneElement(e,{size:a}):null;return b.createElement("i",{key:s,className:A},l)}renderTitleDiv(){const{text:e,icon:t,itemKey:r,indent:i,disabled:s,level:o,expandIcon:a}=this.props,{mode:A,isInSubNav:c,isCollapsed:l,prefixCls:h,subNavMotion:u,limitIndent:d}=this.context,p=this.adapter.getIsOpen(),f=N(`${h}-sub-title`,{[`${h}-sub-title-selected`]:this.adapter.getIsSelected(r),[`${h}-sub-title-disabled`]:s});let v=!1,m="";l?c?m=b.createElement(Ey,null):m=null:A===Qe.MODE_HORIZONTAL?c?m=b.createElement(Ey,{"aria-hidden":!0}):m=a||b.createElement(Hc,{"aria-hidden":!0}):(u&&(v=!0),m=a||b.createElement(Hc,{"aria-hidden":!0}));let y=null;if(A===Qe.MODE_VERTICAL&&!d&&!l){const S=t&&!i?o:o-1;y=V3(S,x=>this.renderIcon(null,Qe.ICON_POS_RIGHT,!1,!1,x))}const w=!l&&c&&A===Qe.MODE_HORIZONTAL||l&&c;return b.createElement("div",{role:"menuitem",tabIndex:w?-1:0,ref:this.setTitleRef,className:f,onClick:this.handleClick,onKeyPress:this.handleKeyPress,"aria-expanded":p?"true":"false"},b.createElement("div",{className:`${h}-item-inner`},y,this.context.toggleIconPosition===Qe.TOGGLE_ICON_LEFT&&this.renderIcon(m,Qe.ICON_POS_RIGHT,v,!0,"key-toggle-position-left"),t||i||c&&A!==Qe.MODE_HORIZONTAL?this.renderIcon(t,Qe.ICON_POS_LEFT,!1,!1,"key-inSubNav-position-left"):null,b.createElement("span",{className:`${h}-item-text`},e),this.context.toggleIconPosition===Qe.TOGGLE_ICON_RIGHT&&this.renderIcon(m,Qe.ICON_POS_RIGHT,v,!0,"key-toggle-position-right")))}renderSubUl(){const{children:e,maxHeight:t}=this.props,{isCollapsed:r,mode:i,subNavMotion:s,prefixCls:o}=this.context,a=this.adapter.getIsOpen(),A=i===Qe.MODE_HORIZONTAL,c=N(`${o}-sub`,{[`${o}-sub-open`]:a,[`${o}-sub-popover`]:r||A});return A?null:s?b.createElement(Gs,{motion:s,isOpen:a,keepDOM:!1,fade:!0},r?null:b.createElement("ul",{className:c},e)):a&&!r?b.createElement("ul",{className:c},e):null}wrapDropdown(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{children:r,dropdownStyle:i,disabled:s}=this.props,{mode:o,isInSubNav:a,isCollapsed:A,subNavCloseDelay:c,subNavOpenDelay:l,prefixCls:h,getPopupContainer:u}=this.context,d=this.adapter.getIsOpen(),p=this.adapter.getOpenKeysIsControlled(),f=N({[`${h}-popover`]:A}),v={trigger:"hover",style:i};return p&&(v.trigger="custom",v.visible=d),u&&(v.getPopupContainer=u),(A||o===Qe.MODE_HORIZONTAL)&&(t=s?t:b.createElement(at,Object.assign({className:f,render:b.createElement(at.Menu,null,r),position:o===Qe.MODE_HORIZONTAL&&!a?"bottomLeft":"rightTop",mouseEnterDelay:l,mouseLeaveDelay:c,onVisibleChange:this.handleDropdownVisible},v),t)),t}render(){const{itemKey:e,style:t,onMouseEnter:r,onMouseLeave:i,disabled:s,text:o}=this.props,{mode:a,isCollapsed:A,prefixCls:c}=this.context;let l=this.renderTitleDiv();const h=this.renderSubUl();return(A||a===Qe.MODE_HORIZONTAL)&&(l=this.wrapDropdown(l)),b.createElement(al,{style:t,isSubNav:!0,itemKey:e,forwardRef:this.setItemRef,isCollapsed:A,className:`${c}-sub-wrap`,onMouseEnter:r,onMouseLeave:i,disabled:s,text:o},b.createElement(ol.Provider,{value:Object.assign(Object.assign({},this.context),{isInSubNav:!0})},l,h))}}Sh.contextType=ol;Sh.propTypes={itemKey:g.oneOfType([g.string,g.number]),text:g.oneOfType([g.string,g.node]),isOpen:g.bool,isCollapsed:g.bool,indent:g.oneOfType([g.bool,g.number]),children:g.node,style:g.object,icon:g.node,maxHeight:g.number,onMouseEnter:g.func,onMouseLeave:g.func,disabled:g.bool,level:g.number};Sh.defaultProps={level:0,indent:!1,isCollapsed:!1,isOpen:!1,maxHeight:aA.DEFAULT_SUBNAV_MAX_HEIGHT,disabled:!1};function nJ(n){let{prefixCls:e,locale:t,collapseText:r,isCollapsed:i,onClick:s=X}=n;const o=()=>{typeof s=="function"&&s(!i)},a={icon:b.createElement(YV,null),type:"tertiary",theme:"borderless",onClick:o};let A=i?t==null?void 0:t.expandText:t==null?void 0:t.collapseText;return typeof r=="function"&&(A=r(i)),b.createElement("div",{className:`${e}-collapse-btn`},i?b.createElement(It,{content:A,position:"right"},b.createElement(Ne,Object.assign({},a))):b.createElement(Ne,Object.assign({},a),A))}class Ns extends H.PureComponent{constructor(){super(...arguments),this.renderCollapseButton=()=>{const{collapseButton:e,collapseText:t}=this.props;if(b.isValidElement(e))return e;const{onCollapseChange:r,prefixCls:i,locale:s,isCollapsed:o}=this.context;return b.createElement(nJ,{prefixCls:i,isCollapsed:o,locale:s,onClick:r,collapseText:t})}}render(){const{style:e,className:t,collapseButton:r,onClick:i}=this.props;let{children:s}=this.props;const{isCollapsed:o,mode:a}=this.context;!b.isValidElement(s)&&r&&a!==Qe.MODE_HORIZONTAL&&(s=this.renderCollapseButton());const A=N(t,`${Mr.PREFIX}-footer`,{[`${Mr.PREFIX}-footer-collapsed`]:o});return b.createElement("div",{className:A,style:e,onClick:i},s)}}Ns.contextType=ol;Ns.propTypes={children:g.node,style:g.object,className:g.string,collapseButton:g.oneOfType([g.node,g.bool]),collapseText:g.func,onClick:g.func};Ns.defaultProps={collapseButton:!1,onClick:X};Ns.elementType="NavFooter";class Rs extends H.PureComponent{renderLogo(e){return b.isValidElement(e)?e:null}render(){const{children:e,style:t,className:r,logo:i,text:s,link:o,linkOptions:a,prefixCls:A}=this.props,{isCollapsed:c}=this.context,l=N(r,`${Mr.PREFIX}-header`,{[`${Mr.PREFIX}-header-collapsed`]:c});let h=b.createElement(b.Fragment,null,i?b.createElement("i",{className:`${Mr.PREFIX}-header-logo`},this.renderLogo(i)):null,!Sn(s)&&!c?b.createElement("span",{className:`${Mr.PREFIX}-header-text`},s):null,e);return typeof o=="string"&&(h=b.createElement("a",Object.assign({className:`${A}-header-link`,href:o},a),h)),b.createElement("div",{className:l,style:t},h)}}Rs.contextType=ol;Rs.propTypes={prefixCls:g.string,logo:g.oneOfType([g.string,g.object,g.node]),text:g.oneOfType([g.string,g.node]),children:g.node,style:g.object,className:g.string,link:g.string,linkOptions:g.object};Rs.defaultProps={prefixCls:Mr.PREFIX};Rs.elementType="NavHeader";var rJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function QB(n,e){return function(){const r=new Set(n.state[e]);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];s.forEach(a=>a&&r.add(a)),n.setState({[e]:Array.from(r)})}}function MB(n,e){return function(){const r=new Set(n.state[e]);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];s.forEach(a=>a&&r.delete(a)),n.setState({[e]:Array.from(r)})}}const{hasOwnProperty:iJ}=Object.prototype;class kn extends Ie{constructor(e){super(e),this.onCollapseChange=()=>{this.foundation.handleCollapseChange()},this.foundation=new AA(this.adapter),this.itemsChanged=!0;const{isCollapsed:t,defaultIsCollapsed:r,items:i,children:s}=e,o={isCollapsed:!!(this.isControlled("isCollapsed")?t:r),openKeys:[],items:[],itemKeysMap:{},selectedKeys:[]};if(this.state=Object.assign({},o),i&&i.length||s){const a=this.foundation.init("constructor");this.state=Object.assign(Object.assign({},o),a)}}static getDerivedStateFromProps(e,t){const r={};return iJ.call(e,"isCollapsed")&&e.isCollapsed!==t.isCollapsed&&(r.isCollapsed=e.isCollapsed),r}componentDidMount(){}componentDidUpdate(e){if(e.items!==this.props.items||e.children!==this.props.children)this.foundation.init();else{if(this.foundation.handleItemsChange(!1),this.props.selectedKeys&&!Ut(e.selectedKeys,this.props.selectedKeys)){this.adapter.updateSelectedKeys(this.props.selectedKeys);const t=this.foundation.getWillOpenKeys(this.state.itemKeysMap);this.adapter.updateOpenKeys(t)}this.props.openKeys&&!Ut(e.openKeys,this.props.openKeys)&&this.adapter.updateOpenKeys(this.props.openKeys)}}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifySelect:function(){return e.props.onSelect(...arguments)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},setIsCollapsed:t=>this.setState({isCollapsed:t}),notifyCollapseChange:function(){return e.props.onCollapseChange(...arguments)},updateItems:t=>this.setState({items:[...t]}),setItemKeysMap:t=>this.setState({itemKeysMap:Object.assign({},t)}),addSelectedKeys:QB(this,"selectedKeys"),removeSelectedKeys:MB(this,"selectedKeys"),updateSelectedKeys:function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=t;if(r){const s=e.foundation.selectLevelZeroParentKeys(null,t);i=Array.from(new Set(t.concat(s)))}e.setState({selectedKeys:i})},updateOpenKeys:t=>this.setState({openKeys:[...t]}),addOpenKeys:QB(this,"openKeys"),removeOpenKeys:MB(this,"openKeys"),setItemsChanged:t=>{this.itemsChanged=t}})}renderItems(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const{expandIcon:r}=this.props;return b.createElement(b.Fragment,null,e.map((s,o)=>Array.isArray(s.items)&&s.items.length?b.createElement(Sh,Object.assign({key:s.itemKey||String(t)+o},s,{level:t,expandIcon:r}),this.renderItems(s.items,t+1)):b.createElement(al,Object.assign({key:s.itemKey||String(t)+o},s,{level:t}))))}render(){const e=this.props,{children:t,mode:r,onOpenChange:i,onSelect:s,onClick:o,style:a,className:A,subNavCloseDelay:c,subNavOpenDelay:l,subNavMotion:h,tooltipShowDelay:u,tooltipHideDelay:d,prefixCls:p,bodyStyle:f,footer:v,header:m,toggleIconPosition:y,limitIndent:w,renderWrapper:C,getPopupContainer:S}=e,x=rJ(e,["children","mode","onOpenChange","onSelect","onClick","style","className","subNavCloseDelay","subNavOpenDelay","subNavMotion","tooltipShowDelay","tooltipHideDelay","prefixCls","bodyStyle","footer","header","toggleIconPosition","limitIndent","renderWrapper","getPopupContainer"]),{selectedKeys:E,openKeys:T,items:P,isCollapsed:F}=this.state,{updateOpenKeys:U,addOpenKeys:I,removeOpenKeys:D,updateSelectedKeys:$,addSelectedKeys:M,removeSelectedKeys:G}=this.adapter,V=Object.assign({},a);let Q=H.Children.toArray(t);const R=[],B=[];if(b.isValidElement(v)?R.push(b.createElement(Ns,{key:0},v)):v&&typeof v=="object"&&R.push(b.createElement(Ns,Object.assign({key:0},v))),b.isValidElement(m)?B.push(b.createElement(Rs,{key:0},m)):m&&typeof m=="object"&&B.push(b.createElement(Rs,Object.assign({key:0},m))),Array.isArray(Q)&&Q.length){Q=[...Q];let L=Q.length;for(let j=0;j<L;j++){const K=Q[j];K.type===Ns||le(K,"type.elementType")==="NavFooter"?(R.push(K),Q.splice(j,1),j--,L--):(K.type===Rs||le(K,"type.elementType")==="NavHeader")&&(B.push(K),Q.splice(j,1),j--,L--)}}const O=N(p,A,{[`${p}-collapsed`]:F,[`${p}-horizontal`]:r==="horizontal",[`${p}-vertical`]:r==="vertical"}),k=N(`${p}-header-list-outer`,{[`${p}-header-list-outer-collapsed`]:F});return this.itemsChanged&&this.adapter.setCache("itemElems",this.renderItems(P)),b.createElement(gr,{componentName:"Navigation"},L=>b.createElement(ol.Provider,{value:{subNavCloseDelay:c,subNavOpenDelay:l,subNavMotion:h,tooltipShowDelay:u,tooltipHideDelay:d,openKeys:T,openKeysIsControlled:this.isControlled("openKeys")&&r==="vertical"&&!F,canUpdateOpenKeys:!0,selectedKeys:E,selectedKeysIsControlled:this.isControlled("selectedKeys"),isCollapsed:F,onCollapseChange:this.onCollapseChange,mode:r,onSelect:s,onOpenChange:i,updateOpenKeys:U,addOpenKeys:I,removeOpenKeys:D,updateSelectedKeys:$,addSelectedKeys:M,removeSelectedKeys:G,onClick:o,locale:L,prefixCls:p,toggleIconPosition:y,limitIndent:w,renderWrapper:C,getPopupContainer:S}},b.createElement("div",Object.assign({className:O,style:V},this.getDataAttr(x)),b.createElement("div",{className:`${p}-inner`},b.createElement("div",{className:k},B,b.createElement("div",{style:f,className:`${p}-list-wrapper`},b.createElement("ul",{role:"menu","aria-orientation":r,className:`${p}-list`},this.adapter.getCache("itemElems"),Q))),R))))}}kn.Sub=Sh;kn.Item=al;kn.Header=Rs;kn.Footer=Ns;kn.propTypes={collapseIcon:g.node,defaultOpenKeys:g.arrayOf(g.oneOfType([g.string,g.number])),openKeys:g.arrayOf(g.oneOfType([g.string,g.number])),defaultSelectedKeys:g.arrayOf(g.oneOfType([g.string,g.number])),expandIcon:g.node,selectedKeys:g.arrayOf(g.oneOfType([g.string,g.number])),mode:g.oneOf([...Qe.MODE]),onSelect:g.func,onClick:g.func,onOpenChange:g.func,items:g.array,isCollapsed:g.bool,defaultIsCollapsed:g.bool,onCollapseChange:g.func,multiple:g.bool,onDeselect:g.func,subNavMotion:g.oneOfType([g.bool,g.object,g.func]),subNavCloseDelay:g.number,subNavOpenDelay:g.number,tooltipShowDelay:g.number,tooltipHideDelay:g.number,children:g.node,style:g.object,bodyStyle:g.object,className:g.string,toggleIconPosition:g.string,prefixCls:g.string,header:g.oneOfType([g.node,g.object]),footer:g.oneOfType([g.node,g.object]),limitIndent:g.bool,getPopupContainer:g.func};kn.__SemiComponentName__="Navigation";kn.defaultProps=nr(kn.__SemiComponentName__,{subNavCloseDelay:aA.DEFAULT_SUBNAV_CLOSE_DELAY,subNavOpenDelay:aA.DEFAULT_SUBNAV_OPEN_DELAY,tooltipHideDelay:aA.DEFAULT_TOOLTIP_HIDE_DELAY,tooltipShowDelay:aA.DEFAULT_TOOLTIP_SHOW_DELAY,onCollapseChange:X,onSelect:X,onClick:X,onOpenChange:X,toggleIconPosition:"right",limitIndent:!0,prefixCls:Mr.PREFIX,subNavMotion:!0,mode:Qe.MODE_VERTICAL});const sJ={PREFIX:re+"-overflow-list"},LB={COLLAPSE:"collapse",SCROLL:"scroll"},NB={START:"start",END:"end"},oJ={NONE:0,GROW:1,SHRINK:2},Ho={BOUNDARY_SET:Object.values(NB),POSITION_SET:["vertical","horizontal"],MODE_SET:Object.values(LB),MODE_MAP:LB,BOUNDARY_MAP:NB,OVERFLOW_DIR:oJ},RB={MINIMUM_HTML_ELEMENT_WIDTH:4};class mw extends b.PureComponent{componentDidMount(){const{items:e}=this.props;this.cachedKeys=Object.keys(e);const{root:t,threshold:r,rootMargin:i,option:s,onIntersect:o}=this.props;this.observer=new IntersectionObserver(o,Object.assign({root:t,threshold:r,rootMargin:i},s)),this.observeElement()}componentDidUpdate(){const{items:e}=this.props,t=Object.keys(e);Ut(this.cachedKeys,t)||(this.observeElement(!0),this.cachedKeys=t)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null)}observeElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{items:t}=this.props;if(ni(t)){this.observer.disconnect();return}e&&this.observer.disconnect(),Object.keys(t).forEach(r=>{const i=t[r];i&&ko(i)&&this.observer.observe(i)})}render(){const{children:e}=this.props;return e}}mw.propTypes={onIntersect:g.func,option:g.object,root:g.any,threshold:g.number,rootMargin:g.string,items:g.object};mw.defaultProps={onIntersect:()=>{},threshold:.75,rootMargin:"0px",option:{},items:{}};const aJ=Ho.BOUNDARY_MAP;class AJ extends Ye{constructor(e){super(Object.assign({},e)),this.previousY=void 0,this.isScrollMode=()=>{const{renderMode:t}=this.getProps();return t==="scroll"},this.getReversedItems=()=>{const{items:t}=this.getProps();return yf(t).reverse()}}getOverflowItem(){const{items:e}=this.getProps(),{visibleState:t,overflow:r}=this.getStates();if(!this.isScrollMode())return r;const i=e.map(A=>{let{key:c}=A;return!!t.get(c)}),s=i.indexOf(!0),o=i.lastIndexOf(!0),a=[];return a[0]=s>=0?e.slice(0,s):[],a[1]=o>=0?e.slice(o+1,e.length):e.slice(),a}handleIntersect(e){const t=yf(this.getState("visibleState")),r={};e.forEach(A=>{const c=le(A,"target.dataset.scrollkey"),l=A.isIntersecting;r[c]=A,t.set(c,l)});let i=!1;for(const A of t.values())if(A){i=!0;break}const s=i,[o]=e,a=o.boundingClientRect.y;if(!s&&this.previousY!==void 0&&a!==this.previousY){this.previousY=a;return}this.previousY=a,this._adapter.updateVisibleState(t),this._adapter.notifyIntersect(r)}handleCollapseOverflow(){const{minVisibleItems:e,collapseFrom:t}=this.getProps(),{overflowWidth:r,containerWidth:i,pivot:s,overflowStatus:o}=this.getStates(),{items:a,onOverflow:A}=this.getProps();let c=r,l=0,h=!1;for(const u of this._adapter.getItemSizeMap().values()){if(c+=u,c>i){h=!0;break}if(l===a.length-1){this._adapter.updateStates({overflowStatus:"normal",pivot:a.length-1,visible:a,overflow:[]});break}l++}if(h){const u=Math.max(e,l),d=t===aJ.START,p=d?this.getReversedItems().slice(0,u).reverse():a.slice(0,u),f=d?this.getReversedItems().slice(u).reverse():a.slice(u);this._adapter.updateStates({overflowStatus:"overflowed",pivot:u,visible:p,overflow:f}),s!==u&&A(f);return}}}const Cl=sJ.PREFIX,A0=Ho.BOUNDARY_MAP,HB=Ho.OVERFLOW_DIR,Bl=Ho.MODE_MAP;class OA extends Ie{constructor(e){var t;super(e),t=this,this.scroller=null,this.spacer=null,this.isScrollMode=()=>{const{renderMode:r}=this.props;return r===Bl.SCROLL},this.resize=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];var i;const s=(i=r[0])===null||i===void 0?void 0:i.target.clientWidth;t.setState({containerWidth:s,overflowStatus:"calculating"})},this.reintersect=r=>{this.foundation.handleIntersect(r)},this.mergeRef=(r,i,s)=>{this.itemRefs[s]=i,typeof r=="function"?r(i):typeof r=="object"&&r&&"current"in r&&(r.current=i)},this.renderOverflow=()=>{const r=this.foundation.getOverflowItem();return this.props.overflowRenderer(r)},this.getItemKey=(r,i)=>{const{itemKey:s}=this.props;return un(s)?s(r):le(r,s||"key",i)},this.renderItemList=()=>{const{className:r,wrapperClassName:i,wrapperStyle:s,style:o,visibleItemRenderer:a,renderMode:A,collapseFrom:c}=this.props,{visible:l,overflowStatus:h}=this.state;let u=this.renderOverflow();if(!this.isScrollMode()&&(Array.isArray(u)&&(u=b.createElement(b.Fragment,null,u)),b.isValidElement(u))){const f=b.cloneElement(u);u=b.createElement(gA,{onResize:v=>{let[m]=v;this.setState({overflowWidth:m.target.clientWidth,overflowStatus:"calculating"})}},b.createElement("div",{className:`${Cl}-overflow`},f))}const d=A===Bl.SCROLL?(()=>{const f=[b.createElement("div",{className:N(i,`${Cl}-scroll-wrapper`),ref:v=>{this.scroller=v},style:Object.assign({},s),key:`${Cl}-scroll-wrapper`},l.map(a).map(v=>{const{forwardRef:m,key:y}=v;return b.cloneElement(v,{ref:w=>this.mergeRef(m,w,y),"data-scrollkey":`${y}`,key:y})}))];return this.props.overflowRenderDirection==="both"?(f.unshift(u[0]),f.push(u[1])):this.props.overflowRenderDirection==="start"?(f.unshift(u[1]),f.unshift(u[0])):(f.push(u[0]),f.push(u[1])),f})():[c===A0.START?u:null,l.map((f,v)=>{const{key:m}=f,y=a(f,v),w=b.cloneElement(y);return b.createElement(gA,{key:m??v,onResize:C=>{let[S]=C;return this.onItemResize(S,f,v)}},b.createElement("div",{key:m??v,className:`${Cl}-item`},w))}),c===A0.END?u:null];return b.createElement("div",{className:N(`${Cl}`,r),style:Object.assign(Object.assign({},o),A===Bl.COLLAPSE?{maxWidth:"100%",visibility:h==="calculating"?"hidden":"visible"}:null)},...d)},this.onItemResize=(r,i,s)=>{const o=this.getItemKey(i,s),a=this.itemSizeMap.get(o);a?a!==r.target.clientWidth&&(this.itemSizeMap.set(o,r.target.clientWidth),this.setState({overflowStatus:"calculating"})):this.itemSizeMap.set(o,r.target.clientWidth);const{maxCount:A}=this.state;this.itemSizeMap.size===A&&this.setState({overflowStatus:"calculating"})},this.state={direction:HB.GROW,lastOverflowCount:0,overflow:[],visible:[],containerWidth:0,visibleState:new Map,itemSizeMap:new Map,overflowStatus:"calculating",pivot:-1,overflowWidth:0,maxCount:0},this.foundation=new AJ(this.adapter),this.previousWidths=new Map,this.itemRefs={},this.itemSizeMap=new Map}static getDerivedStateFromProps(e,t){const{prevProps:r}=t,i={};i.prevProps=e;const s=o=>!r&&o in e||r&&!Ut(r[o],e[o]);if(s("items")||s("style")){if(i.direction=HB.GROW,i.lastOverflowCount=0,i.maxCount=0,e.renderMode===Bl.SCROLL)i.visible=e.items,i.overflow=[];else{let o=e.items.length;Math.floor(t.containerWidth/RB.MINIMUM_HTML_ELEMENT_WIDTH)!==0&&(o=Math.min(o,Math.floor(t.containerWidth/RB.MINIMUM_HTML_ELEMENT_WIDTH)));const a=e.collapseFrom===A0.START,A=a?yf(e.items).reverse().slice(0,o):e.items.slice(0,o),c=a?yf(e.items).reverse().slice(o):e.items.slice(o);i.visible=A,i.overflow=c,i.maxCount=o}i.pivot=-1,i.overflowStatus="calculating"}return i}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateVisibleState:e=>{this.setState({visibleState:e},()=>{var t,r;(r=(t=this.props).onVisibleStateChange)===null||r===void 0||r.call(t,e)})},updateStates:e=>{this.setState(Object.assign({},e))},notifyIntersect:e=>{this.props.onIntersect&&this.props.onIntersect(e)},getItemSizeMap:()=>this.itemSizeMap})}componentDidUpdate(e,t){const r=e.items.map(c=>c.key),i=this.props.items.map(c=>c.key);Ut(r,i)||(this.itemRefs={},this.setState({visibleState:new Map}));const{overflow:s,containerWidth:o,visible:a,overflowStatus:A}=this.state;this.isScrollMode()||A!=="calculating"||this.foundation.handleCollapseOverflow()}render(){const e=this.renderItemList(),{renderMode:t}=this.props;return t===Bl.SCROLL?b.createElement(mw,{onIntersect:this.reintersect,root:this.scroller,threshold:this.props.threshold,items:this.itemRefs},e):b.createElement(gA,{onResize:this.resize},e)}}OA.__SemiComponentName__="OverflowList";OA.defaultProps=nr(OA.__SemiComponentName__,{collapseFrom:"end",minVisibleItems:0,overflowRenderer:()=>null,renderMode:"collapse",threshold:.75,visibleItemRenderer:()=>null,onOverflow:()=>null,overflowRenderDirection:"both"});OA.propTypes={className:g.string,collapseFrom:g.oneOf(Ho.BOUNDARY_SET),direction:g.oneOf(Ho.POSITION_SET),items:g.array,minVisibleItems:g.number,onIntersect:g.func,onOverflow:g.func,overflowRenderer:g.func,renderMode:g.oneOf(Ho.MODE_SET),style:g.object,threshold:g.number,visibleItemRenderer:g.func,wrapperClassName:g.string,wrapperStyle:g.object,collapseMask:g.object,overflowRenderDirection:g.string};const vw={PREFIX:`${re}-select`,PREFIX_OPTION:`${re}-select-option`,PREFIX_GROUP:`${re}-select-group`},Ri={SIZE_SET:["small","large","default"],POSITION_SET:Ro.POSITION_SET,MODE_SELECT:"select",MODE_AUTOCOMPLETE:"autoComplete",STATUS:$M,SEARCH_POSITION_TRIGGER:"trigger",SEARCH_POSITION_DROPDOWN:"dropdown"},iT={LIST_HEIGHT:270};var $B=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class lJ extends Ye{constructor(e){super(Object.assign({},e)),this._keydownHandler=null}init(){this._setDropdownWidth();const e=this.getProp("defaultOpen"),t=this.getProp("open"),r=this._collectOptions();this._setDefaultSelection(r),(e||t)&&this.open(void 0,r),this.getProp("autoFocus")&&this.focus()}focus(){const e=this._isFilterable(),t=this._isMultiple();this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1),e&&t?this.focusInput():e&&!t?this.toggle2SearchInput(!0):this._focusTrigger()}_focusTrigger(){this._adapter.focusTrigger()}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&Ls(e.width)||e&&Ft(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}_collectOptions(){const e=this._adapter.getOptionsFromChildren();return this._adapter.updateOptions(e),this._adapter.rePositionDropdown(),e}_setDefaultSelection(e){let{value:t}=this.getProps();const{defaultValue:r}=this.getProps();this._isControlledComponent()||(t=r),this._update(t,e)}handleOptionListChange(){const e=this._collectOptions(),{selections:t}=this.getStates();this.updateOptionsActiveStatus(t,e);const{defaultActiveFirstOption:r}=this.getProps();r&&this._adapter.updateFocusIndex(0)}handleOptionListChangeHadDefaultValue(){const e=this.getState("selections");let t;const{onChangeWithObject:r}=this.getProps(),i=this._isMultiple();switch(!0){case(i&&!!e.size):try{t=[...e].map(o=>r?o[1]:o[1].value)}catch{t=[]}break;case(i&&!e.size):t=[];break;case(!i&&!!e.size):try{t=r?[...e][0][1]:[...e][0][1].value}catch{}break;case(!i&&!e.size):break}const s=this._adapter.getOptionsFromChildren();this._update(t,s)}handleValueChange(e){const{allowCreate:t,autoClearSearchValue:r,remote:i}=this.getProps(),{inputValue:s}=this.getStates();let o;t&&this._isControlledComponent()?(o=this.getState("options"),o.forEach(a=>a._show=!0)):o=this._adapter.getOptionsFromChildren(),this._adapter.rePositionDropdown(),this._isFilterable()&&!r&&s&&!i&&(o=this._filterOption(o,s)),this._update(e,o)}_update(e,t){let r;this._isMultiple()?(r=this._updateMultiple(e,t),this.updateOverflowItemCount(r.size)):r=this._updateSingle(e,t),this._adapter.updateSelection(r),this.updateOptionsActiveStatus(r,t)}_updateSingle(e,t){const r=new Map,{onChangeWithObject:i}=this.getProps(),s=i&&typeof e<"u"?e.value:e,o=t.filter(A=>A.value===s),a=!o.length&&typeof s<"u"&&s!==null;if(o.length){const A=o[0],c=Object.assign({},A);r.set(c.label,c)}else if(a){let A={value:e,label:e,_notExist:!0,_scrollIndex:-1};i&&(A=Object.assign(Object.assign({},e),{_notExist:!0,_scrollIndex:-1})),r.set(A.label,A)}return r}_updateMultiple(e,t){const r=this.getState("selections");let i=[];const s=Array.isArray(e);this.checkMultipleProps(),r.size&&(i=[...r].map(c=>c[1]));const o=new Map;let a=e;const{onChangeWithObject:A}=this.getProps();return A&&s&&(a=e.map(c=>c.value)),s&&a.length&&a.forEach((c,l)=>{const h=t.findIndex(u=>u.value===c);if(h!==-1)o.set(t[h].label,t[h]);else{const u=i.findIndex(d=>d.value===c);if(u!==-1){const d=i[u];if(A){const p=Object.assign({},e[l]);Ut(p,d)?o.set(d.label,d):o.set(p.label,p)}else o.set(d.label,d)}else{let d={value:c,label:c,_notExist:!0};A&&(d=Object.assign(Object.assign({},e[l]),{_notExist:!0})),o.set(d.label,Object.assign(Object.assign({},d),{_scrollIndex:-1}))}}}),o}_isMultiple(){return this.getProp("multiple")}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filter")}handleClick(e){const{clickToHide:t}=this.getProps(),{isOpen:r}=this.getStates();this._isDisabled()||(r?r&&t?this.close({event:e}):r&&!t&&this.focusInput():(this.open(),this._notifyFocus(e)))}open(e,t){const r=this._isFilterable(),i=t||this.getState("options");if(r){const o=this._filterOption(i,"").filter(a=>!a._inputCreateOnly);this._adapter.updateOptions(o),this.toggle2SearchInput(!0)}else this._adapter.updateFocusState(!0);this._adapter.openMenu(()=>{const{searchPosition:s,autoFocus:o}=this.getProps();o&&s===Ri.SEARCH_POSITION_DROPDOWN&&this._adapter.focusDropdownInput()}),this._setDropdownWidth(),this._adapter.notifyDropdownVisibleChange(!0),this.bindKeyBoardEvent(),this._adapter.registerClickOutsideHandler(s=>{this.close({event:s}),this._notifyBlur(s),this._adapter.updateFocusState(!1)})}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focusInput()):this._adapter.toggleInputShow(e,()=>{})}close(e){const{event:t,closeCb:r,notToggleInput:i}=e||{};this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.setIsFocusInContainer(!1),this._adapter.unregisterClickOutsideHandler();const s=this._isFilterable();s&&!i&&this.toggle2SearchInput(!1),this._adapter.once("popoverClose",()=>{s&&this.clearInput(t),r&&r()})}onSelect(e,t,r){if(this._isDisabled())return;e._inputCreateOnly&&this._adapter.notifyCreate(e),this._isMultiple()?this._handleMultipleSelect(e,r):(this._handleSingleSelect(e,r),this._focusTrigger()),this._adapter.updateFocusIndex(t)}_handleSingleSelect(e,t){var{value:r,label:i}=e,s=$B(e,["value","label"]);const o=new Map().set(i,Object.assign({value:r,label:i},s));this._notifySelect(r,Object.assign({value:r,label:i},s));const a=this._isFilterable();this._isControlledComponent()?this.close({event:t,notToggleInput:!0,closeCb:()=>{this._notifyChange(o),a&&this.toggle2SearchInput(!1)}}):(this._adapter.updateSelection(o),this._notifyChange(o),this.close({event:t,closeCb:()=>{this.updateOptionsActiveStatus(o)}}))}_handleMultipleSelect(e,t){var{value:r,label:i}=e,s=$B(e,["value","label"]);const o=this._adapter.getMaxLimit(),a=this._adapter.getSelections(),{autoClearSearchValue:A}=this.getProps();if(a.has(i))this._notifyDeselect(r,Object.assign({value:r,label:i},s)),a.delete(i);else if(o&&a.size===o){this._adapter.notifyMaxLimit(Object.assign({value:r,label:i},Vi(s,"_scrollIndex")));return}else this._notifySelect(r,Object.assign({value:r,label:i},s)),a.set(i,Object.assign({value:r,label:i},s));if(this._isControlledComponent())this._notifyChange(a),this._isFilterable()&&(A&&this.clearInput(t),this.focusInput());else{this._adapter.updateSelection(a),this.updateOverflowItemCount(a.size),this._adapter.rePositionDropdown();let{options:c}=this.getStates();this._isFilterable()&&(A&&(this.clearInput(t),c=this._filterOption(c,"")),this.focusInput()),this.updateOptionsActiveStatus(a,c),this._notifyChange(a)}}clearSelected(){const e=new Map;this._isControlledComponent()?(this._notifyChange(e),this._adapter.notifyClear()):(this._adapter.updateSelection(e),this.updateOptionsActiveStatus(e),this._notifyChange(e),this._adapter.notifyClear());const{isOpen:t}=this.getStates();t&&this._adapter.rePositionDropdown()}updateOptionsActiveStatus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getState("options");const{allowCreate:r}=this.getProps(),i=t.map(s=>(e.has(s.label)?(s._selected=!0,r&&delete s._inputCreateOnly):(s._inputCreateOnly&&(s._show=!1),s._selected=!1),s));this._adapter.updateOptions(i)}removeTag(e){const t=this._adapter.getSelections();t.delete(e.label),this._isControlledComponent()?(this._notifyDeselect(e.value,e),this._notifyChange(t)):(this._notifyDeselect(e.value,e),this._adapter.updateSelection(t),this.updateOverflowItemCount(t.size),this.updateOptionsActiveStatus(t),this._adapter.rePositionDropdown(),this._notifyChange(t))}clearInput(e){const{inputValue:t}=this.getStates();if(t!==""){this._adapter.updateInputValue(""),this._adapter.notifySearch("",e);const{options:r}=this.getStates(),{remote:i}=this.getProps();let s=r;i||(s=this._filterOption(r,"")),this._adapter.updateOptions(s)}}focusInput(){this._adapter.focusInput(),this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1)}handleInputChange(e,t){this._adapter.updateInputValue(e);const{options:r,isOpen:i}=this.getStates(),{allowCreate:s,remote:o}=this.getProps();let a=r;o||(a=this._filterOption(r,e)),a=this._createOptionByInput(s,a,e),this._adapter.updateOptions(a),this._adapter.notifySearch(e,t),this._isMultiple()&&this._adapter.rePositionDropdown()}_filterOption(e,t){const r=this.getProp("filter");if(r){if(typeof r=="boolean"&&r){const i=t.toLowerCase();return e.map(s=>{const o=s.label.toString().toLowerCase(),a=s._parentGroup&&s._parentGroup.label,A=o.includes(i),c=Ft(a)&&a.toLowerCase().includes(i);return A||c?s._show=!0:s._show=!1,s})}else if(typeof r=="function")return e.map(i=>(r(t,i)?i._show=!0:i._show=!1,i))}else return e}_createOptionByInput(e,t,r){if(e)if(r){const i={_show:!0,_selected:!1,value:r,label:r,_inputCreateOnly:!0};let s=-1,o=-1;t.forEach((a,A)=>{!a._show&&!a._inputCreateOnly||(a.label===r&&(o=A),a._inputCreateOnly&&(s=A,a.value=r,a.label=r,a._show=!0))}),s===-1&&o===-1&&t.push(i),o!==-1&&(t=t.filter(a=>!a._inputCreateOnly))}else t=t.filter(i=>!i._inputCreateOnly);return t}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}unBindKeyBoardEvent(){this._keydownHandler&&this._adapter.unregisterKeyDown()}_handleKeyDown(e){const t=e.keyCode,{loading:r,filter:i,multiple:s,disabled:o}=this.getProps(),{isOpen:a}=this.getStates();if(!(r||o))switch(t){case Ir.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case Ir.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case Ir.BACKSPACE:this._handleBackspaceKeyDown();break;case Ir.ENTER:xn(e),this._handleEnterKeyDown(e);break;case Ir.ESC:a&&this.close({event:e}),i&&!s&&this._focusTrigger();break;case Ir.TAB:this._handleTabKeyDown(e);break}}handleContainerKeyDown(e){const t=e.keyCode,{isOpen:r}=this.getStates();switch(t){case Ir.TAB:r&&this._handleTabKeyDown(e);break}}_getEnableFocusIndex(e){const{focusIndex:t,options:r}=this.getStates(),i=r.filter(a=>a._show),s=i.length;let o=t+e;if(o<0&&(o=s-1),o>=s&&(o=0),e>0){let a=-1;for(let A=0;A<i.length&&(!i[A].disabled&&(a=A),!(a>=o));A++);o=a}else{let a=i.length;for(let A=s-1;A>=0&&(!i[A].disabled&&(a=A),!(a<=o));A--);o=a}this._adapter.updateFocusIndex(o),this._adapter.updateScrollTop(o)}_handleArrowKeyDown(e){const{isOpen:t}=this.getStates();t?this._getEnableFocusIndex(e):this.open()}_handleTabKeyDown(e){const{isOpen:t}=this.getStates();if(this._adapter.updateFocusState(!1),t){const r=this._adapter.getContainer(),i=this._adapter.getFocusableElements(r);i.length>0?e.shiftKey?this._handlePanelOpenShiftTabKeyDown(i,e):this._handlePanelOpenTabKeyDown(i,e):(this.close({event:e}),this._notifyBlur(e))}else this._notifyBlur(e)}_handlePanelOpenTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[e.length-1]&&(this._focusTrigger(),this.close({event:t}),xn(t)):(e[0].focus(),this._adapter.setIsFocusInContainer(!0),xn(t))}_handlePanelOpenShiftTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[0]&&(this._focusTrigger(),this._adapter.setIsFocusInContainer(!1),xn(t)):(this.close({event:t}),this._notifyBlur(t))}_handleEnterKeyDown(e){const{isOpen:t,options:r,focusIndex:i}=this.getStates();if(!t)this.open();else if(i!==-1){const s=r.filter(a=>a._show),{length:o}=s;if(o<=i)return;if(s&&o){const a=s[i];if(a.disabled)return;this.onSelect(a,i,e)}}else this.close({event:e})}_handleBackspaceKeyDown(){if(this._isMultiple()){const e=this._adapter.getSelections(),{inputValue:t}=this.getStates(),r=e.size;if(r&&!t){const i=[...e.keys()];let s=r-1,o=i[s],a=e.get(o),A=!1;if(a.disabled&&s===0)return;for(;a.disabled&&s!==0;)s=s-1,o=i[s],a=e.get(o),s==0&&a.disabled&&(A=!0);A||this.removeTag(a)}}}_notifyChange(e){const{onChangeWithObject:t}=this.getProps(),r=this.getState("selections");let i;const s=[...e.values()],o=this._isMultiple();if(this._diffSelections(e,r,o))switch(!0){case t:this._notifyChangeWithObject(e);break;case(!t&&!o):i=s.length?s[0].value:void 0,this._adapter.notifyChange(i);break;case(!t&&o):i=s.length?s.map(A=>A.value):[],this._adapter.notifyChange(i);break}}_removeInternalKey(e){let t=Object.assign({},e);return delete t._parentGroup,delete t._show,delete t._selected,delete t._scrollIndex,delete t._keyInJsx,"_keyInOptionList"in t&&(t.key=t._keyInOptionList,delete t._keyInOptionList),t}_notifySelect(e,t){const r=this._removeInternalKey(t);this._adapter.notifySelect(e,r)}_notifyDeselect(e,t){const r=this._removeInternalKey(t);this._adapter.notifyDeselect(e,r)}_diffSelections(e,t,r){let i=!0,s=!0;if(!r){const o=[...e.values()],a=[...t.values()],A=o[0]?o[0].value:o[0],c=a[0]?a[0].value:a[0];s=!Ut(A,c);const l=o[0]?o[0].label:o[0],h=a[0]?a[0].label:a[0];i=!Ut(l,h)}return s||i}_notifyChangeWithObject(e){this.getState("selections");const t=[];for(const r of e.entries()){let i=Object.assign({label:r[0]},r[1]);i=this._removeInternalKey(i),t.push(i)}this._isMultiple()?this._adapter.notifyChange(t):this._adapter.notifyChange(t[0])}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}handleMouseEnter(e){this._adapter.updateHovering(!0),this._adapter.notifyMouseEnter(e)}handleMouseLeave(e){this._adapter.updateHovering(!1),this._adapter.notifyMouseLeave(e)}handleClearClick(e){const{filter:t,searchPosition:r}=this.getProps();t&&r===Ri.SEARCH_POSITION_TRIGGER&&this.clearInput(e),this.focus(),this.clearSelected(),e.stopPropagation()}handleKeyPress(e){e&&e.key===Zb&&this.handleClick(e)}handleClearBtnEnterPress(e){vh(e)&&this.handleClearClick(e)}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleListScroll(e){this._adapter.notifyListScroll(e)}handleTriggerFocus(e){this.bindKeyBoardEvent(),this._adapter.setIsFocusInContainer(!1)}handleTriggerBlur(e){this.getProps();const{isOpen:t,isFocus:r}=this.getStates();r&&!t&&(this._notifyBlur(e),this._adapter.updateFocusState(!1))}handleInputBlur(e){const{filter:t,autoFocus:r}=this.getProps(),i=this._isMultiple();r&&t&&!i&&this.toggle2SearchInput(!1)}selectAll(){const{options:e}=this.getStates(),{onChangeWithObject:t}=this.getProps();let r=[];if(!this._isMultiple()){console.warn(`[Semi Select]: It seems that you have called the selectAll method in the single-selection Select.
                Please note that this is not a legal way to use it`);return}t?r=e:r=e.map(s=>s.value),this.handleValueChange(r),this._adapter.notifyChange(r)}checkMultipleProps(e){if(this._isMultiple()){const t=e||this.getProps(),{defaultValue:r,value:i}=t,s=i||r;!Sn(s)&&!Array.isArray(s)&&zi(!0,"[Semi Select] defaultValue/value should be array type in multiple mode")}}updateScrollTop(){this._adapter.updateScrollTop()}updateOverflowItemCount(e,t){const{maxTagCount:r,ellipsisTrigger:i}=this.getProps();i&&(t?this._adapter.updateOverflowItemCount(t):typeof r=="number"&&(e-r>0?this._adapter.updateOverflowItemCount(e-r):this._adapter.updateOverflowItemCount(0)))}updateIsFullTags(){const{isFullTags:e}=this.getStates();e||this._adapter.setState({isFullTags:!0})}handlePopoverClose(){this._adapter.emit("popoverClose")}handleSlotMouseEnter(){this._adapter.updateFocusIndex(-1)}}const xl=I3.PREFIX,sT=sl.TAG_SIZE,cJ=sl.AVATAR_SHAPE;class Cf extends H.PureComponent{renderNTag(e,t){const{size:r,showPopover:i,popoverProps:s,onPlusNMouseEnter:o}=this.props;let a=b.createElement(jr,{closable:!1,size:r,color:"grey",style:{backgroundColor:"transparent"},key:"_+n",onMouseEnter:o},"+",e);return i&&(a=b.createElement(pn,Object.assign({showArrow:!0,content:t,trigger:"hover",position:"top",autoAdjustOverflow:!0,className:`${xl}-rest-group-popover`},s,{key:"_+n_Popover"}),a)),a}renderMergeTags(e){const{maxTagCount:t,tagList:r,restCount:i}=this.props,s=i||r.length-t;let o=e;const a=e.slice(0,t),A=e.slice(t);let c=null;return s>0&&(c=this.renderNTag(s,A),a.push(c),o=a),o}renderAllTags(){const{tagList:e,size:t,mode:r,avatarShape:i,onTagClose:s}=this.props;return e.map(a=>{if(r==="custom")return a;const A=Object.assign({},a);return A.size||(A.size=t),A.avatarShape||(A.avatarShape=i),A.tagKey||(typeof A.children=="string"||typeof A.children=="number"?A.tagKey=A.children:A.tagKey=Math.random()),b.createElement(jr,Object.assign({},A,{key:A.tagKey,onClose:(c,l,h)=>{A.onClose&&A.onClose(c,l,h),s&&s(c,l,h)}}))})}render(){const{style:e,className:t,maxTagCount:r,size:i}=this.props,s=N({[`${xl}-group`]:!0,[`${xl}-group-max`]:r,[`${xl}-group-small`]:i==="small",[`${xl}-group-large`]:i==="large"},t),o=this.renderAllTags(),a=typeof r>"u"?o:this.renderMergeTags(o);return b.createElement("div",{style:e,className:s},a)}}Cf.defaultProps={style:{},className:"",size:sT[0],avatarShape:"square",onTagClose:()=>{},onPlusNMouseEnter:()=>{}};Cf.propTypes={children:g.node,style:g.object,className:g.string,maxTagCount:g.number,restCount:g.number,tagList:g.array,size:g.oneOf(sT),mode:g.string,onTagClose:g.func,showPopover:g.bool,popoverProps:g.object,avatarShape:g.oneOf(cJ)};var hJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const jB=(n,e,t,r)=>{const i=n.props;if(!n||!i)return null;const s=Object.assign(Object.assign({value:i.value,label:i.label||i.children||i.value,_show:!0,_selected:!1,_scrollIndex:t},i),{_parentGroup:e});return s._keyInJsx=r||n.key,s},uJ=n=>{let e=[],t=[];const r={label:"",children:[],_show:!1};let i=b.Children.toArray(n);i=i.filter(a=>a&&a.props);let s="",o=-1;return i.forEach(a=>{if(a.type.isSelectOption){s="option",o++;const A=jB(a,void 0,o);r.children.push(A),t.push(A)}else if(a.type.isSelectOptionGroup){s="group";let A=a.props,{children:c}=A,l=hJ(A,["children"]),h=[];Array.isArray(c)?h=c.map(p=>p.key):h.push(c.key),c=b.Children.toArray(c);const u=c.map((p,f)=>{let v=p.key;return h[f]===null&&(v=a.key+""+p.key),o++,jB(p,l,o,v)}),d=Object.assign(Object.assign({},a.props),{children:u,key:a.key});e.push(d),t=t.concat(u)}else zi(!0,"[Semi Select] The children of `Select` should be `Select.Option` or `Select.OptionGroup`")}),s==="option"&&(e=[r]),{optionGroups:e,options:t}},dJ=n=>{let{index:e,data:t,style:r}=n;const{visibleOptions:i,renderOption:s}=t,o=i[e];return s(o,e,r)};var KB=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class $o extends H.PureComponent{onClick(e,t){var{value:r,label:i,children:s}=e,o=KB(e,["value","label","children"]);const{props:a}=this;a.disabled||a.onSelect(Object.assign(Object.assign({},o),{value:r,label:i||s}),t)}renderOptionContent(e){let{config:t,children:r,inputValue:i,prefixCls:s}=e;return Ft(r)&&i?wK(t):r}render(){const e=this.props,{children:t,disabled:r,value:i,selected:s,label:o,empty:a,emptyContent:A,onSelect:c,focused:l,showTick:h,className:u,style:d,onMouseEnter:p,prefixCls:f,renderOptionItem:v,inputValue:m,semiOptionId:y}=e,w=KB(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue","semiOptionId"]),C=N(f,{[`${f}-disabled`]:r,[`${f}-selected`]:s,[`${f}-focused`]:l,[`${f}-empty`]:a,[u]:u}),S=N([`${f}-icon`]);if(a)return A===null?null:b.createElement(gr,{componentName:"Select"},E=>b.createElement("div",{className:C,"x-semi-prop":"emptyContent"},A||E.emptyText));if(typeof v=="function")return v(Object.assign({disabled:r,focused:l,selected:s,style:d,label:o,value:i,inputValue:m,onMouseEnter:E=>p(E),onClick:E=>this.onClick(Object.assign({value:i,label:o,children:t},w),E),className:u},w));const x={searchWords:m,sourceString:t,option:{highlightClassName:`${f}-keyword`}};return b.createElement("div",Object.assign({className:C,onClick:E=>{this.onClick(Object.assign({value:i,label:o,children:t},w),E)},onMouseEnter:E=>p&&p(E),role:"option",id:y,"aria-selected":s?"true":"false","aria-disabled":r?"true":"false",style:d},JA(w)),h?b.createElement("div",{className:S},b.createElement(gf,null)):null,Ft(t)?b.createElement("div",{className:`${f}-text`},this.renderOptionContent({children:t,config:x,inputValue:m,prefixCls:f})):t)}}$o.isSelectOption=!0;$o.propTypes={children:g.node,disabled:g.bool,value:g.oneOfType([g.string,g.number]),selected:g.bool,label:g.node,empty:g.bool,emptyContent:g.node,onSelect:g.func,focused:g.bool,showTick:g.bool,className:g.string,style:g.object,onMouseEnter:g.func,prefixCls:g.string,renderOptionItem:g.func,inputValue:g.string};$o.defaultProps={prefixCls:vw.PREFIX_OPTION};var fJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const pJ=vw.PREFIX_GROUP;class $g extends Ie{render(){const e=this.props,{label:t,className:r,style:i}=e,s=fJ(e,["label","className","style"]),o=N(r,{[pJ]:!0});return!t&&typeof t!="number"?null:b.createElement("div",Object.assign({className:o,style:i},this.getDataAttr(s)),t)}}$g.isSelectOptionGroup=!0;$g.propTypes={children:g.oneOfType([g.array,g.node]),label:g.node,className:g.string,style:g.object};var gJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const se=vw.PREFIX,mJ=0;class ci extends Ie{constructor(e){super(e),this.setOptionContainerEl=t=>this.optionContainerEl={current:t},this.handleInputChange=(t,r)=>this.foundation.handleInputChange(t,r),this.getTagItem=(t,r,i)=>{const{size:s,disabled:o}=this.props,a=t[0],{value:A}=t[1],c=t[1].disabled||o,l=(p,f)=>{f&&typeof f.preventDefault=="function"&&f.preventDefault(),this.foundation.removeTag({label:a,value:A})},{content:h,isRenderInTag:u}=i(t[1],{index:r,disabled:c,onClose:l}),d={disabled:c,closable:!c,onClose:l};return u?b.createElement(jr,Object.assign({},d,{color:"white",size:s||"large",key:A,tabIndex:-1}),h):b.createElement(H.Fragment,{key:A},h)},this.state={isOpen:!1,isFocus:!1,options:[],selections:new Map,dropdownMinWidth:null,optionKey:mJ,inputValue:"",showInput:!1,focusIndex:e.defaultActiveFirstOption?0:-1,keyboardEventSet:{},optionGroups:[],isHovering:!1,isFocusInContainer:!1,isFullTags:!1,overflowItemCount:0},this.selectOptionListID="",this.selectID="",this.virtualizeListRef=b.createRef(),this.inputRef=b.createRef(),this.dropdownInputRef=b.createRef(),this.triggerRef=b.createRef(),this.optionsRef=b.createRef(),this.optionContainerEl=b.createRef(),this.clickOutsideHandler=null,this.onSelect=this.onSelect.bind(this),this.onClear=this.onClear.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.renderOption=this.renderOption.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.eventManager=new c3,this.foundation=new lJ(this.adapter)}get adapter(){var e=this;const t={registerKeyDown:s=>{const o={onKeyDown:s};this.setState({keyboardEventSet:o})},unregisterKeyDown:()=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:s=>{this.setState({focusIndex:s})},scrollToFocusOption:()=>{}},r={updateInputValue:s=>{this.setState({inputValue:s})},toggleInputShow:(s,o)=>{this.setState({showInput:s},()=>{o()})},focusInput:()=>{const{preventScroll:s}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:s})},focusDropdownInput:()=>{const{preventScroll:s}=this.props;this.dropdownInputRef&&this.dropdownInputRef.current&&this.dropdownInputRef.current.focus({preventScroll:s})}},i={notifyMaxLimit:s=>this.props.onExceed(s),getMaxLimit:()=>this.props.max,registerClickOutsideHandler:s=>{const o=a=>{const A=this.optionsRef&&this.optionsRef.current,c=this.triggerRef&&this.triggerRef.current,l=Dr.findDOMNode(A),h=a.target,u=a.composedPath&&a.composedPath()||[h];!(l&&l.contains(h))&&!(c&&c.contains(h))&&!(u.includes(c)||u.includes(l))&&s(a)};this.clickOutsideHandler=o,document.addEventListener("mousedown",o,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{optionKey:s}=this.state;s=s+1,this.setState({optionKey:s})},notifyDeselect:(s,o)=>{delete o._parentGroup,this.props.onDeselect(s,o)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),i),{on:(s,o)=>this.eventManager.on(s,o),off:s=>this.eventManager.off(s),once:(s,o)=>this.eventManager.once(s,o),emit:s=>this.eventManager.emit(s),getOptionsFromChildren:function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.props.children,o=[],a=[];const{optionList:A}=e.props;if(A&&A.length)a=A.map((c,l)=>Object.assign({_show:!0,_selected:!1,_scrollIndex:l},c)),o[0]={children:a,label:""};else{const c=uJ(s);o=c.optionGroups,a=c.options}return e.setState({optionGroups:o}),a},updateOptions:s=>{this.setState({options:s})},openMenu:s=>{this.setState({isOpen:!0},()=>{s==null||s()})},closeMenu:()=>{this.setState({isOpen:!1})},getTriggerWidth:()=>{const s=this.triggerRef.current;return s&&s.getBoundingClientRect().width},setOptionWrapperWidth:s=>{this.setState({dropdownMinWidth:s})},updateSelection:s=>{this.setState({selections:s})},getSelections:()=>new Map(this.state.selections),notifyChange:s=>{this.props.onChange(s)},notifySelect:(s,o)=>{delete o._parentGroup,this.props.onSelect(s,o)},notifyDropdownVisibleChange:s=>{this.props.onDropdownVisibleChange(s)},notifySearch:(s,o)=>{this.props.onSearch(s,o)},notifyCreate:s=>{this.props.onCreate(s)},notifyMouseEnter:s=>{this.props.onMouseEnter(s)},notifyMouseLeave:s=>{this.props.onMouseLeave(s)},notifyFocus:s=>{this.props.onFocus(s)},notifyBlur:s=>{this.props.onBlur(s)},notifyClear:()=>{this.props.onClear()},notifyListScroll:s=>{this.props.onListScroll(s)},updateHovering:s=>{this.setState({isHovering:s})},updateFocusState:s=>{this.setState({isFocus:s})},updateOverflowItemCount:s=>{this.setState({overflowItemCount:s})},focusTrigger:()=>{try{const{preventScroll:s}=this.props;this.triggerRef.current.focus({preventScroll:s})}catch{}},getContainer:()=>this.optionContainerEl&&this.optionContainerEl.current,getFocusableElements:s=>p3(s),getActiveElement:()=>f3(),setIsFocusInContainer:s=>{this.setState({isFocusInContainer:s})},getIsFocusInContainer:()=>this.state.isFocusInContainer,updateScrollTop:s=>{let o=`.${se}-option-selected`;s!==void 0&&(o=`.${se}-option:nth-child(${s})`);let a=document.querySelector(`#${se}-${this.selectOptionListID} ${o}`);if(Array.isArray(a)&&(a=a[0]),a){const A=a.parentNode;A.scrollTop=a.offsetTop-A.offsetTop-A.clientHeight/2+a.clientHeight/2}}})}componentDidMount(){this.foundation.init(),this.selectOptionListID=ff(),this.selectID=this.props.id||ff()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){const r=b.Children.toArray(e.children).map(o=>o.key),i=b.Children.toArray(this.props.children).map(o=>o.key);let s=!1;(!Ut(r,i)||!Ut(e.optionList,this.props.optionList))&&(s=!0,this.foundation.handleOptionListChange()),(!Ut(this.props.value,e.value)||s)&&("value"in this.props?this.foundation.handleValueChange(this.props.value):this.foundation.handleOptionListChangeHadDefaultValue())}renderTriggerInput(){const{size:e,multiple:t,disabled:r,inputProps:i,filter:s}=this.props,o=le(i,"className"),a=N(`${se}-input`,{[`${se}-input-single`]:!t,[`${se}-input-multiple`]:t},o),{inputValue:A,focusIndex:c}=this.state,l=Object.assign({value:A,disabled:r,className:a,onChange:this.handleInputChange},i);let h={};return t&&(h={width:A?`${A.length*16}px`:"2px"},l.style=h),b.createElement(vf,Object.assign({ref:this.inputRef,size:e,"aria-activedescendant":c!==-1?`${this.selectID}-option-${c}`:"",onFocus:u=>{t&&s&&this.setState({isFocus:!0}),u.stopPropagation()},onBlur:u=>this.foundation.handleInputBlur(u)},l))}renderDropdownInput(){const{size:e,multiple:t,disabled:r,inputProps:i,filter:s,searchPosition:o,searchPlaceholder:a}=this.props,{inputValue:A,focusIndex:c}=this.state,l=N(`${se}-dropdown-search-wrapper`,{}),h=le(i,"className"),u=N(`${se}-dropdown-input`,{[`${se}-dropdown-input-single`]:!t,[`${se}-dropdown-input-multiple`]:t},h),d=Object.assign(Object.assign({value:A,disabled:r,className:u,onChange:this.handleInputChange,placeholder:a,showClear:!0},i),{onKeyDown:p=>this.foundation._handleKeyDown(p)});return b.createElement("div",{className:l},b.createElement(vf,Object.assign({ref:this.dropdownInputRef,prefix:b.createElement(WV,null),"aria-activedescendant":c!==-1?`${this.selectID}-option-${c}`:""},d)))}close(){this.foundation.close()}open(){this.foundation.open()}clearInput(){this.foundation.clearInput()}selectAll(){this.foundation.selectAll()}deselectAll(){this.foundation.clearSelected()}focus(){this.foundation.focus()}onSelect(e,t,r){this.foundation.onSelect(e,t,r)}onClear(e){e.nativeEvent.stopImmediatePropagation(),this.foundation.handleClearClick(e)}search(e,t){this.handleInputChange(e,t)}renderEmpty(){return b.createElement($o,{empty:!0,emptyContent:this.props.emptyContent})}renderLoading(){const e=`${se}-loading-wrapper`;return b.createElement("div",{className:e},b.createElement(kg,null))}renderOption(e,t,r){const{focusIndex:i,inputValue:s}=this.state,{renderOptionItem:o}=this.props;let a;const A=t===i;let c=r||{};return e.style&&(c=Object.assign(Object.assign({},c),e.style)),e._inputCreateOnly?a=this.renderCreateOption(e,A,t,r):("key"in e&&(e._keyInOptionList=e.key),a=b.createElement($o,Object.assign({showTick:!0},e,{selected:e._selected,onSelect:(l,h)=>this.onSelect(l,t,h),focused:A,onMouseEnter:()=>this.onOptionHover(t),style:c,key:e._keyInOptionList||e._keyInJsx||e.label+e.value+t,renderOptionItem:o,inputValue:s,semiOptionId:`${this.selectID}-option-${t}`}),e.label)),a}renderCreateOption(e,t,r,i){const{renderCreateItem:s}=this.props;if(typeof s>"u")return b.createElement($o,Object.assign({key:e.key||e.label+e.value,onSelect:(A,c)=>this.onSelect(A,r,c),onMouseEnter:()=>this.onOptionHover(r),showTick:!0},e,{focused:t,style:i}),b.createElement(gr,{componentName:"Select"},A=>b.createElement(b.Fragment,null,b.createElement("span",{className:`${se}-create-tips`},A.createText),e.value)));const o=s(e.value,t,i);return b.createElement("div",{role:"button","aria-label":"Use the input box to create an optional item",onClick:a=>this.onSelect(e,r,a),key:e.key||e.label},o)}onOptionHover(e){this.foundation.handleOptionMouseEnter(e)}renderWithGroup(e){const t=[],r=new Map;return e.forEach((i,s)=>{const o=i._parentGroup,a=this.renderOption(i,s);if(o&&!r.has(o.label)){const A=b.createElement($g,Object.assign({},o,{key:o.label}));r.set(o.label,!0),t.push(A)}t.push(a)}),t}renderVirtualizeList(e){const{virtualize:t}=this.props,{direction:r}=this.context,{height:i,width:s,itemSize:o}=t;return b.createElement(fX,{ref:this.virtualizeListRef,height:i||iT.LIST_HEIGHT,itemCount:e.length,itemSize:o,itemData:{visibleOptions:e,renderOption:this.renderOption},width:s||"100%",style:{direction:r}},dJ)}renderOptions(e){const{dropdownMinWidth:t,options:r,selections:i}=this.state,{maxHeight:s,dropdownClassName:o,dropdownStyle:a,outerTopSlot:A,innerTopSlot:c,outerBottomSlot:l,innerBottomSlot:h,loading:u,virtualize:d,multiple:p,emptyContent:f,searchPosition:v,filter:m}=this.props,y=r.filter(E=>E._show);let w=this.renderWithGroup(y);d&&(w=this.renderVirtualizeList(y));const C=Object.assign({minWidth:t},a),S=N({[`${se}-option-list`]:!0,[`${se}-option-list-chosen`]:i.size}),x=!r.length||!r.some(E=>E._show);return b.createElement("div",{id:`${se}-${this.selectOptionListID}`,className:N({[`${se}-option-list-wrapper`]:!(x&&f===null)},o),style:C,ref:this.setOptionContainerEl,onKeyDown:E=>this.foundation.handleContainerKeyDown(E)},A?b.createElement("div",{className:`${se}-option-list-outer-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},A):null,v===Ri.SEARCH_POSITION_DROPDOWN&&m?this.renderDropdownInput():null,b.createElement("div",{style:{maxHeight:`${s}px`},className:S,role:"listbox","aria-multiselectable":p,onScroll:E=>this.foundation.handleListScroll(E)},c?b.createElement("div",{className:`${se}-option-list-inner-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},c):null,u?this.renderLoading():x?this.renderEmpty():w,h?b.createElement("div",{className:`${se}-option-list-inner-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},h):null),l?b.createElement("div",{className:`${se}-option-list-outer-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},l):null)}renderSingleSelection(e,t){let{renderSelectedItem:r,searchPosition:i}=this.props;const{placeholder:s}=this.props,{showInput:o,inputValue:a}=this.state;let A="";const c=[...e];if(typeof r>"u"&&(r=d=>d.label),c.length){const d=c[0][1];A=r(d)}const l=i===Ri.SEARCH_POSITION_TRIGGER,h=N({[`${se}-selection-text`]:!0,[`${se}-selection-placeholder`]:!A&&A!==0,[`${se}-selection-text-hide`]:a&&o&&l,[`${se}-selection-text-inactive`]:!a&&o&&l}),u=`${se}-content-wrapper`;return b.createElement(b.Fragment,null,b.createElement("div",{className:u},b.createElement("span",{className:h,"x-semi-prop":"placeholder"},A||A===0?A:s),t&&o&&l?this.renderTriggerInput():null))}renderTag(e,t,r){const{size:i,disabled:s}=this.props;let{renderSelectedItem:o}=this.props;const a=e[0],{value:A}=e[1],c=e[1].disabled||s,l=(f,v)=>{v&&typeof v.preventDefault=="function"&&v.preventDefault(),this.foundation.removeTag({label:a,value:A})};typeof o>"u"&&(o=f=>({isRenderInTag:!0,content:f.label}));const{content:h,isRenderInTag:u}=o(e[1],{index:t,disabled:c,onClose:l}),d={disabled:c,closable:!c,onClose:l},p=r&&!un(this.props.renderSelectedItem)?b.createElement(Ig,{size:"small",ellipsis:{rows:1,showTooltip:{type:"popover",opts:{style:{width:"auto",fontSize:12}}}}},h):h;return u?b.createElement(jr,Object.assign({},d,{color:"white",size:i||"large",key:A,style:{maxWidth:"100%"}}),p):b.createElement(H.Fragment,{key:A},p)}renderNTag(e,t){const{size:r,showRestTagsPopover:i,restTagsPopoverProps:s}=this.props;let o=b.createElement(jr,{closable:!1,size:r||"large",color:"grey",className:`${se}-content-wrapper-collapse-tag`,key:`_+${e}`,style:{marginRight:0,flexShrink:0}},"+",e);return i&&(o=b.createElement(pn,Object.assign({showArrow:!0,content:b.createElement(Qg,{spacing:2,wrap:!0,style:{maxWidth:"400px"}},t.map((a,A)=>this.renderTag(a,A))),trigger:"hover",position:"top",autoAdjustOverflow:!0},s,{key:`_+${e}_Popover`}),o)),o}renderOverflow(e,t){return e.length&&e[0]?this.renderTag(e[0],t,!0):null}handleOverflow(e){const{overflowItemCount:t,selections:r}=this.state,{maxTagCount:i}=this.props,s=r.size-i>0?r.size-i+e.length-1:e.length-1;t!==s&&this.foundation.updateOverflowItemCount(r.size,s)}renderCollapsedTags(e,t){const{overflowItemCount:r}=this.state,i=typeof t=="number"?e.slice(0,t):e;return b.createElement("div",{className:`${se}-content-wrapper-collapse`},b.createElement(OA,{items:i,key:String(e.length),overflowRenderer:s=>this.renderOverflow(s,t-1),onOverflow:s=>this.handleOverflow(s),visibleItemRenderer:(s,o)=>this.renderTag(s,o)}),r>0&&this.renderNTag(r,e.slice(e.length-r)))}renderOneLineTags(e,t){let{renderSelectedItem:r}=this.props;const{showRestTagsPopover:i,restTagsPopoverProps:s,maxTagCount:o}=this.props,{isFullTags:a}=this.state;let A;if(typeof r>"u"&&(r=c=>({isRenderInTag:!0,content:c.label})),i){const l=(a?e:e.slice(0,o)).map((h,u)=>this.getTagItem(h,u,r));A=b.createElement(Cf,{tagList:l,maxTagCount:t,restCount:a?void 0:e.length-o,size:"large",mode:"custom",showPopover:i,popoverProps:s,onPlusNMouseEnter:()=>{this.foundation.updateIsFullTags()}})}else{const l=e.slice(0,o).map((h,u)=>this.getTagItem(h,u,r));A=b.createElement(Cf,{tagList:l,maxTagCount:t,restCount:e.length-o,size:"large",mode:"custom"})}return A}renderMultipleSelection(e,t){let{renderSelectedItem:r,searchPosition:i}=this.props;const{placeholder:s,maxTagCount:o,expandRestTagsOnClick:a,ellipsisTrigger:A}=this.props,{inputValue:c,isOpen:l}=this.state,h=[...e];typeof r>"u"&&(r=C=>({isRenderInTag:!0,content:C.label}));const u=N({[`${se}-content-wrapper`]:!0,[`${se}-content-wrapper-one-line`]:o&&!l,[`${se}-content-wrapper-empty`]:!h.length}),d=N({[`${se}-selection-text`]:!0,[`${se}-selection-placeholder`]:!h.length,[`${se}-selection-text-hide`]:h&&h.length}),p=s&&!c?b.createElement("span",{className:d},s):null,f=h.length>o?o:void 0,v=!o,m=A?this.renderCollapsedTags(h,f):this.renderOneLineTags(h,f),y=v||a&&l?h.map((C,S)=>this.renderTag(C,S)):m,w=t&&i===Ri.SEARCH_POSITION_TRIGGER;return b.createElement(b.Fragment,null,b.createElement("div",{className:u},h&&h.length?y:p,w?this.renderTriggerInput():null))}onMouseEnter(e){this.foundation.handleMouseEnter(e)}onMouseLeave(e){this.foundation.handleMouseLeave(e)}onKeyPress(e){this.foundation.handleKeyPress(e)}handlePopoverVisibleChange(e){const{virtualize:t}=this.props,{selections:r}=this.state;if(e)if(t){let i=-1;if(r.forEach(s=>{const o=le(s,"_scrollIndex");Ls(o)&&o>=0&&(i=i!==-1&&i<o?i:o)}),i!==-1)try{this.virtualizeListRef.current.scrollToItem(i,"center")}catch{}}else this.foundation.updateScrollTop()}renderSuffix(){const{suffix:e}=this.props,t=N({[`${se}-suffix`]:!0,[`${se}-suffix-text`]:e&&Ft(e),[`${se}-suffix-icon`]:kr(e)});return b.createElement("div",{className:t,"x-semi-prop":"suffix"},e)}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,i=e||t,s=N({[`${se}-prefix`]:!0,[`${se}-inset-label`]:t,[`${se}-prefix-text`]:i&&Ft(i),[`${se}-prefix-icon`]:kr(i)});return b.createElement("div",{className:s,id:r,"x-semi-prop":"prefix,insetLabel"},i)}renderSelection(){const e=this.props,{disabled:t,multiple:r,filter:i,style:s,id:o,size:a,className:A,validateStatus:c,showArrow:l,suffix:h,prefix:u,insetLabel:d,placeholder:p,triggerRender:f,arrowIcon:v,clearIcon:m,borderless:y}=e,w=gJ(e,["disabled","multiple","filter","style","id","size","className","validateStatus","showArrow","suffix","prefix","insetLabel","placeholder","triggerRender","arrowIcon","clearIcon","borderless"]),{selections:C,isOpen:S,keyboardEventSet:x,inputValue:E,isHovering:T,isFocus:P,showInput:F,focusIndex:U}=this.state,I=typeof f=="function",D=!!i,$=I?N(A):N(se,A,{[`${se}-borderless`]:y,[`${se}-open`]:S,[`${se}-focus`]:P,[`${se}-disabled`]:t,[`${se}-single`]:!r,[`${se}-multiple`]:r,[`${se}-filterable`]:D,[`${se}-small`]:a==="small",[`${se}-large`]:a==="large",[`${se}-error`]:c==="error",[`${se}-warning`]:c==="warning",[`${se}-no-arrow`]:!l,[`${se}-with-prefix`]:u||d,[`${se}-with-suffix`]:h}),M=this.props.showClear&&(C.size||E)&&!t&&(T||S),G=l?b.createElement("div",{className:`${se}-arrow`,"x-semi-prop":"arrowIcon"},v):b.createElement("div",{className:`${se}-arrow-empty`}),V=m||b.createElement(b3,null),Q=I?b.createElement(F3,{value:Array.from(C.values()),inputValue:E,onChange:this.handleInputChange,onSearch:this.handleInputChange,onRemove:B=>this.foundation.removeTag(B),onClear:this.onClear,disabled:t,triggerRender:f,placeholder:p,componentName:"Select",componentProps:Object.assign({},this.props)}):[b.createElement(H.Fragment,{key:"prefix"},u||d?this.renderPrefix():null),b.createElement(H.Fragment,{key:"selection"},b.createElement("div",{className:N(`${se}-selection`)},r?this.renderMultipleSelection(C,D):this.renderSingleSelection(C,D))),b.createElement(H.Fragment,{key:"clearicon"},M?b.createElement("div",{className:N(`${se}-clear`),onClick:this.onClear},V):G),b.createElement(H.Fragment,{key:"suffix"},h?this.renderSuffix():null)],R=t||D&&F||D&&r?-1:0;return b.createElement("div",Object.assign({role:"combobox","aria-disabled":t,"aria-expanded":S,"aria-controls":`${se}-${this.selectOptionListID}`,"aria-haspopup":"listbox","aria-label":C.size?"selected":"","aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],className:$,ref:B=>this.triggerRef.current=B,onClick:B=>this.foundation.handleClick(B),style:s,id:this.selectID,tabIndex:R,"aria-activedescendant":U!==-1?`${this.selectID}-option-${U}`:"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:B=>this.foundation.handleTriggerFocus(B),onBlur:B=>this.foundation.handleTriggerBlur(B),onKeyPress:this.onKeyPress},x,this.getDataAttr(w)),Q)}render(){const{direction:e}=this.context,t=e==="rtl"?"bottomRight":"bottomLeft",{children:r,position:i=t,zIndex:s,getPopupContainer:o,motion:a,autoAdjustOverflow:A,mouseLeaveDelay:c,mouseEnterDelay:l,spacing:h,stopPropagation:u,dropdownMargin:d}=this.props,{isOpen:p,optionKey:f}=this.state,v=this.renderOptions(r),m=this.renderSelection();return b.createElement(pn,{getPopupContainer:o,motion:a,margin:d,autoAdjustOverflow:A,mouseLeaveDelay:c,mouseEnterDelay:l,zIndex:s,ref:this.optionsRef,content:v,visible:p,trigger:"custom",rePosKey:f,position:i,spacing:h,stopPropagation:u,disableArrowKeyDown:!0,onVisibleChange:y=>this.handlePopoverVisibleChange(y),afterClose:()=>this.foundation.handlePopoverClose()},m)}}ci.contextType=Zs;ci.Option=$o;ci.OptGroup=$g;ci.propTypes={"aria-describedby":g.string,"aria-errormessage":g.string,"aria-invalid":g.bool,"aria-labelledby":g.string,"aria-required":g.bool,autoFocus:g.bool,autoClearSearchValue:g.bool,borderless:g.bool,children:g.node,clearIcon:g.node,defaultValue:g.oneOfType([g.string,g.number,g.array,g.object]),ellipsisTrigger:g.bool,value:g.oneOfType([g.string,g.number,g.array,g.object]),placeholder:g.node,onChange:g.func,multiple:g.bool,filter:g.oneOfType([g.func,g.bool]),max:g.number,maxTagCount:g.number,maxHeight:g.oneOfType([g.string,g.number]),style:g.object,className:g.string,size:g.oneOf(Ri.SIZE_SET),disabled:g.bool,emptyContent:g.node,expandRestTagsOnClick:g.bool,onDropdownVisibleChange:g.func,zIndex:g.number,position:g.oneOf(Ri.POSITION_SET),onSearch:g.func,getPopupContainer:g.func,dropdownClassName:g.string,dropdownStyle:g.object,dropdownMargin:g.oneOfType([g.number,g.object]),outerTopSlot:g.node,innerTopSlot:g.node,inputProps:g.object,outerBottomSlot:g.node,innerBottomSlot:g.node,optionList:g.array,dropdownMatchSelectWidth:g.bool,loading:g.bool,defaultOpen:g.bool,validateStatus:g.oneOf(Ri.STATUS),defaultActiveFirstOption:g.bool,triggerRender:g.func,stopPropagation:g.bool,searchPosition:g.string,motion:g.bool,onChangeWithObject:g.bool,suffix:g.node,prefix:g.node,insetLabel:g.node,insetLabelId:g.string,showClear:g.bool,showArrow:g.bool,renderSelectedItem:g.func,allowCreate:g.bool,renderCreateItem:g.func,onMouseEnter:g.func,onMouseLeave:g.func,clickToHide:g.bool,onExceed:g.func,onCreate:g.func,remote:g.bool,onDeselect:g.func,onSelect:g.func,autoAdjustOverflow:g.bool,mouseEnterDelay:g.number,mouseLeaveDelay:g.number,spacing:g.oneOfType([g.number,g.object]),onBlur:g.func,onFocus:g.func,onClear:g.func,virtualize:g.object,renderOptionItem:g.func,onListScroll:g.func,arrowIcon:g.node,preventScroll:g.bool};ci.__SemiComponentName__="Select";ci.defaultProps=nr(ci.__SemiComponentName__,{stopPropagation:!0,motion:!0,borderless:!1,zIndex:qo.DEFAULT_Z_INDEX,filter:!1,multiple:!1,disabled:!1,defaultOpen:!1,allowCreate:!1,placeholder:"",onDropdownVisibleChange:X,onChangeWithObject:!1,onChange:X,onSearch:X,onMouseEnter:X,onMouseLeave:X,onDeselect:X,onSelect:X,onCreate:X,onExceed:X,onFocus:X,onBlur:X,onClear:X,onListScroll:X,maxHeight:iT.LIST_HEIGHT,dropdownMatchSelectWidth:!0,defaultActiveFirstOption:!0,showArrow:!0,showClear:!1,searchPosition:Ri.SEARCH_POSITION_TRIGGER,remote:!1,autoAdjustOverflow:!0,autoClearSearchValue:!0,arrowIcon:b.createElement(Hc,{"aria-label":""}),showRestTagsPopover:!1,restTagsPopoverProps:{},expandRestTagsOnClick:!1,ellipsisTrigger:!1});const oT={PREFIX:`${re}-popconfirm`,POPOVER:`${re}-popconfirm-popover`},vJ={SPACING:4,DEFAULT_Z_INDEX:1030};class yJ extends Ye{init(){}destroy(){}handleCancel(e){const t=this._adapter.notifyCancel(e);bf(t)?(this._adapter.updateCancelLoading(!0),t.then(r=>{this.handleVisibleChange(!1),this._adapter.updateCancelLoading(!1)},r=>{this._adapter.updateCancelLoading(!1)})):this.handleVisibleChange(!1)}handleConfirm(e){const t=this._adapter.notifyConfirm(e);bf(t)?(this._adapter.updateConfirmLoading(!0),t.then(r=>{this._adapter.updateConfirmLoading(!1),this.handleVisibleChange(!1)},r=>{this._adapter.updateConfirmLoading(!1)})):this.handleVisibleChange(!1)}handleClickOutSide(e){this._adapter.notifyClickOutSide(e)}handleVisibleChange(e){this._isControlledComponent("visible")||this._adapter.setVisible(e),e?this.handleFocusOperateButton():this._adapter.focusPrevFocusElement(),this._adapter.notifyVisibleChange(e)}handleFocusOperateButton(){const{cancelButtonProps:e,okButtonProps:t}=this._adapter.getProps();le(e,"autoFocus")&&!le(e,"disabled")?this._adapter.focusCancelButton():le(t,"autoFocus")&&!le(t,"disabled")&&this._adapter.focusOkButton()}}var bJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class IA extends Ie{constructor(e){super(e),this.handleCancel=t=>this.foundation.handleCancel(t&&t.nativeEvent),this.handleConfirm=t=>this.foundation.handleConfirm(t&&t.nativeEvent),this.handleVisibleChange=t=>this.foundation.handleVisibleChange(t),this.handleClickOutSide=t=>this.foundation.handleClickOutSide(t),this.stopImmediatePropagation=t=>t&&t.nativeEvent&&t.nativeEvent.stopImmediatePropagation(),this.renderConfirmPopCard=t=>{let{initialFocusRef:r}=t;const{content:i,title:s,className:o,style:a,cancelType:A,icon:c,prefixCls:l,showCloseIcon:h}=this.props,{direction:u}=this.context,d=N(l,o,{[`${l}-rtl`]:u==="rtl"}),p=s!==null&&typeof s<"u",f=!(i===null||typeof i>"u"),v=b.isValidElement(c),m=N({[`${l}-body`]:!0,[`${l}-body-withIcon`]:v});return b.createElement("div",{className:d,onClick:this.stopImmediatePropagation,style:a},b.createElement("div",{className:`${l}-inner`},b.createElement("div",{className:`${l}-header`},v?b.createElement("i",{className:`${l}-header-icon`,"x-semi-prop":"icon"},c):null,b.createElement("div",{className:`${l}-header-body`},p?b.createElement("div",{className:`${l}-header-title`,"x-semi-prop":"title"},s):null),h?b.createElement(Ne,{className:`${l}-btn-close`,icon:b.createElement(mh,null),size:"small",theme:"borderless",type:A,onClick:this.handleCancel}):null),f?b.createElement("div",{className:m,"x-semi-prop":"content"},un(i)?i({initialFocusRef:r}):i):null,b.createElement("div",{className:`${l}-footer`,ref:this.footerRef},this.renderControls())))},this.state={cancelLoading:!1,confirmLoading:!1,visible:e.defaultVisible||!1},this.foundation=new yJ(this.adapter),this.footerRef=b.createRef(),this.popoverRef=b.createRef()}static getDerivedStateFromProps(e,t){const r={},{hasOwnProperty:i}=Object.prototype;return i.call(e,"visible")&&(r.visible=e.visible),r}get adapter(){return Object.assign(Object.assign({},super.adapter),{setVisible:e=>this.setState({visible:e}),updateConfirmLoading:e=>this.setState({confirmLoading:e}),updateCancelLoading:e=>this.setState({cancelLoading:e}),notifyConfirm:e=>this.props.onConfirm(e),notifyCancel:e=>this.props.onCancel(e),notifyVisibleChange:e=>this.props.onVisibleChange(e),notifyClickOutSide:e=>this.props.onClickOutSide(e),focusCancelButton:()=>{var e,t;const r=(t=(e=this.footerRef)===null||e===void 0?void 0:e.current)===null||t===void 0?void 0:t.querySelector("[data-type=cancel]");r==null||r.focus({preventScroll:!0})},focusOkButton:()=>{var e,t;const r=(t=(e=this.footerRef)===null||e===void 0?void 0:e.current)===null||t===void 0?void 0:t.querySelector("[data-type=ok]");r==null||r.focus({preventScroll:!0})},focusPrevFocusElement:()=>{var e;(e=this.popoverRef.current)===null||e===void 0||e.focusTrigger()}})}renderControls(){const{okText:e,cancelText:t,okType:r,cancelType:i,cancelButtonProps:s,okButtonProps:o}=this.props,{cancelLoading:a,confirmLoading:A}=this.state;return b.createElement(gr,{componentName:"Popconfirm"},(c,l)=>b.createElement(b.Fragment,null,b.createElement(Ne,Object.assign({"data-type":"cancel",type:i,onClick:this.handleCancel,loading:a},Vi(s,"autoFocus")),t||le(c,"cancel")),b.createElement(Ne,Object.assign({"data-type":"ok",type:r,theme:"solid",onClick:this.handleConfirm,loading:A},Vi(o,"autoFocus")),e||le(c,"confirm"))))}render(){const{direction:e}=this.context,t=e==="rtl"?"bottomRight":"bottomLeft",r=this.props,{className:i,prefixCls:s,disabled:o,children:a,style:A,position:c=t}=r,l=bJ(r,["className","prefixCls","disabled","children","style","position"]);if(o)return a;const{visible:h}=this.state,u={onVisibleChange:this.handleVisibleChange,className:oT.POPOVER,onClickOutSide:this.handleClickOutSide};return this.isControlled("visible")&&(u.trigger="custom"),b.createElement(pn,Object.assign({ref:this.popoverRef},l,{content:d=>{let{initialFocusRef:p}=d;return this.renderConfirmPopCard({initialFocusRef:p})},visible:h,position:c},u),a)}}IA.contextType=Zs;IA.propTypes={motion:g.oneOfType([g.bool,g.func,g.object]),disabled:g.bool,content:g.oneOfType([g.node,g.func]),title:g.any,prefixCls:g.string,className:g.string,style:g.object,icon:g.node,okText:g.string,okType:g.string,cancelText:g.string,cancelType:g.string,onCancel:g.func,onConfirm:g.func,onClickOutSide:g.func,onVisibleChange:g.func,visible:g.bool,defaultVisible:g.bool,okButtonProps:g.object,cancelButtonProps:g.object,stopPropagation:g.oneOfType([g.bool,g.string]),showCloseIcon:g.bool,zIndex:g.number,trigger:g.string,position:g.string};IA.__SemiComponentName__="Popconfirm";IA.defaultProps=nr(IA.__SemiComponentName__,{stopPropagation:!0,trigger:"click",onVisibleChange:X,disabled:!1,icon:b.createElement(Jb,{size:"extra-large"}),okType:"primary",cancelType:"tertiary",prefixCls:oT.PREFIX,zIndex:vJ.DEFAULT_Z_INDEX,showCloseIcon:!0,onCancel:X,onConfirm:X,onClickOutSide:X});const an={PREFIX:`${re}-slider`,DISABLED:`${re}-slider-disabled`,VERTICAL:`${re}-slider-vertical`,TRACK:`${re}-slider-track`,DOTS:`${re}-slider-dots`,MARKS:`${re}-slider-marks`,HANDLE:`${re}-slider-handle`,HANDLE_DOT:`${re}-slider-handle-dot`},GB=(n,e)=>(!globalThis.Touch||!(n instanceof Touch)||["stopPropagation","preventDefault"].forEach(r=>{let i=e[r];i&&(typeof i=="function"&&(i=function(){return e[r](...arguments)}),n[r]?zi(!0,`"The key ${r}" exist in Touch.`):n[r]=i)}),n);class yw extends Ye{constructor(e){var t;super(Object.assign(Object.assign({},yw.defaultAdapter),e)),t=this,this.getMinAndMaxPercent=r=>{const{range:i,min:s,max:o}=this._adapter.getProps(),a=i?(r[0]-s)/(o-s):(r-s)/(o-s),A=i?(r[1]-s)/(o-s):1;return{min:this._checkValidity(a),max:this._checkValidity(A)}},this._checkValidity=function(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return r>s?s:r<i?i:r},this.computeHandleVisibleVal=(r,i,s)=>{const{focusPos:o,currentValue:a}=this._adapter.getStates(),A={min:!1,max:!1};let c;return i?c={min:i(s?this.outPutValue(a[0]):this.outPutValue(a)),max:s?i(this.outPutValue(a[1])):null}:c={min:s?this.outPutValue(a[0]):this.outPutValue(a),max:s?this.outPutValue(a[1]):null},r?(A.min=!0,A.max=!0):typeof r>"u"&&i&&(o==="min"?A.min=!0:o==="max"&&(A.max=!0)),{tipVisible:A,tipChildren:c}},this.valueFormatIsCorrect=r=>Array.isArray(r)?typeof r[0]=="number"&&typeof r[0]=="number":typeof r=="number",this.handleMousePos=(r,i)=>{const s=this._adapter.getParentRect(),o=this._adapter.getScrollParentVal(),a=s?s.left:0,A=s?s.top:0;return{x:r-a+o.scrollLeft,y:i-A+o.scrollTop}},this.getScrollParent=r=>{const i=r,s=/(auto|scroll)/,o=(c,l)=>window.getComputedStyle(c,null).getPropertyValue(l),a=c=>s.test(o(c,"overflow")+o(c,"overflow-y")+o(c,"overflow-x")),A=c=>!c||c===document.body||!(c instanceof Element)?document.body:a(c)?c:A(c.parentNode);return A(i)},this.checkMeetMinMax=r=>{const{vertical:i,verticalReverse:s,range:o}=this._adapter.getProps(),a=this._adapter.getState("currentValue");this.transValueToPos(a);const{sliderX:A,sliderY:c,sliderWidth:l,sliderHeight:h}=this._adapter.getSliderLengths();this._adapter.getStates();const u=i?h:l;let d;i&&s?d=c+u:d=i?c:A;let p;return i&&s?p=c:p=i?c+h:A+l,i&&s?r>=d?r=d:r<=p&&(r=p):r<=d?r=d:r>=p&&(r=p),r},this.transPosToValue=(r,i)=>{const s=this.checkMeetMinMax(r),{min:o,max:a,currentValue:A}=this._adapter.getStates(),{range:c,vertical:l,step:h,verticalReverse:u}=this._adapter.getProps(),{sliderX:d,sliderY:p,sliderWidth:f,sliderHeight:v}=this._adapter.getSliderLengths(),m=l?p:d,y=l?v:f;let w;l&&u?w=(m+y-s)/y*(a-o)+o:w=(s-m)/y*(a-o)+o;let C;return c?C=i?A[0]:A[1]:C=A,h!==1&&(w=Math.round(w/h)*h),c&&w!==C?i?[w,A[1]]:[A[0],w]:!c&&w!==C?w:!1},this.transValueToPos=r=>{const{min:i,max:s}=this._adapter.getStates(),{vertical:o,range:a,verticalReverse:A}=this._adapter.getProps(),{sliderX:c,sliderY:l,sliderWidth:h,sliderHeight:u}=this._adapter.getSliderLengths(),d=o?l:c,p=o?u:h;return a?[(r[0]-i)*p/(s-i)+d,(r[1]-i)*p/(s-i)+d]:(r-i)*p/(s-i)+d},this.isMarkActive=r=>{const{min:i,max:s,range:o,included:a}=this._adapter.getProps(),A=this._adapter.getState("currentValue");return typeof(r/1)=="number"&&r>=i&&r<=s?o?(r>A[1]||r<A[0])&&a?"unActive":"active":r<=A&&a?"active":"unActive":!1},this.outPutValue=r=>{const i=a=>{var A,c;return/^\d+(\.\d+)?$/.test(String(a))&&(c=(A=a.toString().split(".")[1])===null||A===void 0?void 0:A.length)!==null&&c!==void 0?c:0},s=this._adapter.getProp("step"),o=(()=>{const a=i(s),A=Math.pow(10,a);return c=>Math.round(c*A)/A})();if(Array.isArray(r)){const a=o(r[0]),A=o(r[1]);return a>A?this.getState("focusPos")==="min"?[A,A]:[a,a]:[a,A]}else return o(r)},this.handleDisabledChange=r=>{this._adapter.updateDisabled(r)},this.checkAndUpdateIsInRenderTreeState=()=>this._adapter.checkAndUpdateIsInRenderTreeState(),this.calculateOutputValue=(r,i)=>{const s=this.transPosToValue(r,i);if(s!==!1)return this.outPutValue(s)},this.handleValueChange=(r,i)=>{const{min:s,max:o}=this._adapter.getStates();let a=null;const A={};this.valueFormatIsCorrect(i)?(Array.isArray(r)&&Array.isArray(i)&&(i=[i[0]<s?s:i[0],i[1]>o?o:i[1]],a=Object.assign(A,{currentValue:i})),typeof r=="number"&&typeof i=="number"&&(i>o?i=o:i=i<s?s:i,a=Object.assign(A,{currentValue:i}))):a=A,a&&this._adapter.transNewPropsToState(a)},this.onHandleDown=(r,i)=>{this._adapter.onHandleDown(r);const s=this._adapter.getState("disabled"),{vertical:o}=this._adapter.getProps(),{dragging:a}=this._adapter.getOverallVars();if(s)return!1;this._adapter.setStateVal("isDrag",!0),this._adapter.setStateVal("chooseMovePos",i),i==="min"?this._adapter.setDragging([!0,a[1]]):this._adapter.setDragging([a[0],!0]);const A=this.handleMousePos(r.clientX,r.clientY);let c=o?A.y:A.x;if(!this._adapter.isEventFromHandle(r))this._dragOffset=0;else{const l=this._getHandleCenterPosition(o,r.target);this._dragOffset=c-l,c=l}return!0},this.onHandleMove=r=>{this._adapter.setEventDefault(r);const{disabled:i,chooseMovePos:s}=this._adapter.getStates(),{vertical:o}=this._adapter.getProps(),{dragging:a}=this._adapter.getOverallVars();if(i)return!1;this.onHandleEnter(s);const A=this.handleMousePos(r.clientX,r.clientY);let c=o?A.y:A.x;if(c=c-this._dragOffset,s==="min"&&a[0]||s==="max"&&a[1]){const l=this.calculateOutputValue(c,s==="min");if(l===void 0)return!1;this._adapter.notifyChange(l),this._adapter.onHandleMove(c,s==="min",void 0,!1,l)}return!0},this.onHandleTouchStart=(r,i)=>{const s=this._adapter.getMinHandleEl(),o=this._adapter.getMaxHandleEl();if(r.target===s||r.target===o){xn(r);const a=GB(r.touches[0],r);this.onHandleDown(a,i)}},this.onHandleTouchMove=r=>{const i=this._adapter.getMinHandleEl(),s=this._adapter.getMaxHandleEl();if(r.target===i||r.target===s){const o=GB(r.touches[0],r);this.onHandleMove(o)}},this.onHandleEnter=r=>{const{disabled:i,focusPos:s}=this._adapter.getStates();i||!s&&r!==s&&this._adapter.onHandleEnter(r)},this.onHandleLeave=()=>{const r=this._adapter.getState("disabled"),i=this._adapter.getState("isDrag");!r&&!i&&this._adapter.onHandleLeave()},this.onHandleUp=r=>{this._adapter.onHandleUpBefore(r);const{disabled:i,chooseMovePos:s}=this._adapter.getStates(),{dragging:o}=this._adapter.getOverallVars();return i?!1:(s==="min"?this._adapter.setDragging([!1,o[1]]):this._adapter.setDragging([o[0],!1]),this._adapter.setStateVal("isDrag",!1),this._adapter.onHandleLeave(),this._adapter.onHandleUpAfter(),!0)},this._handleValueDecreaseWithKeyBoard=(r,i)=>{const{min:s,currentValue:o}=this.getStates(),{range:a}=this.getProps();if(i==="min")if(a){let A=o[0]-r;return A=A<s?s:A,[A,o[1]]}else{let A=o-r;return A=A<s?s:A,A}else{let A=o[1]-r;return A=A<o[0]?o[0]:A,[o[0],A]}},this._handleValueIncreaseWithKeyBoard=(r,i)=>{const{max:s,currentValue:o}=this.getStates(),{range:a}=this.getProps();if(i==="min")if(a){let A=o[0]+r;return A=A>o[1]?o[1]:A,[A,o[1]]}else{let A=o+r;return A=A>s?s:A,A}else{let A=o[1]+r;return A=A>s?s:A,[o[0],A]}},this._handleHomeKey=r=>{const{min:i,currentValue:s}=this.getStates(),{range:o}=this.getProps();return r==="min"?o?[i,s[1]]:i:[s[0],s[0]]},this._handleEndKey=r=>{const{max:i,currentValue:s}=this.getStates(),{range:o}=this.getProps();return r==="min"?o?[s[1],s[1]]:i:[s[0],i]},this.handleKeyDown=(r,i)=>{const{min:s,max:o,currentValue:a}=this.getStates(),{step:A,range:c}=this.getProps();let l;switch(r.key){case"ArrowLeft":case"ArrowDown":l=this._handleValueDecreaseWithKeyBoard(A,i);break;case"ArrowRight":case"ArrowUp":l=this._handleValueIncreaseWithKeyBoard(A,i);break;case"PageUp":l=this._handleValueIncreaseWithKeyBoard(10*A,i);break;case"PageDown":l=this._handleValueDecreaseWithKeyBoard(10*A,i);break;case"Home":l=this._handleHomeKey(i);break;case"End":l=this._handleEndKey(i);break}if(["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","PageUp","PageDown","Home","End"].includes(r.key)){let h=!0;Array.isArray(a)?h=!(a[0]===l[0]&&a[1]===l[1]):h=a!==l,h&&(this._adapter.updateCurrentValue(l),this._adapter.notifyChange(l)),xn(r)}},this._noTooltip=()=>{const{tipFormatter:r,tooltipVisible:i}=this.getProps();return r===null||i===!1},this.onFocus=(r,i)=>{if(this._noTooltip())return;xn(r);const{target:o}=r;try{o.matches(":focus-visible")&&(i==="min"?this._adapter.setStateVal("firstDotFocusVisible",!0):this._adapter.setStateVal("secondDotFocusVisible",!0))}catch{zi(!0,"Warning: [Semi Slider] The current browser does not support the focus-visible")}},this.onBlur=(r,i)=>{if(this._noTooltip())return;const{firstDotFocusVisible:o,secondDotFocusVisible:a}=this.getStates();i==="min"?o&&this._adapter.setStateVal("firstDotFocusVisible",!1):a&&this._adapter.setStateVal("secondDotFocusVisible",!1)},this.handleWrapClick=r=>{const{disabled:i,isDrag:s}=this._adapter.getStates();if(s||i||this._adapter.isEventFromHandle(r))return;const{vertical:o}=this.getProps(),a=this.handleMousePos(r.clientX,r.clientY),A=o?a.y:a.x,c=this.checkWhichHandle(A),l=this.calculateOutputValue(A,c);l!==void 0&&(this._adapter.notifyChange(l),!this._isControlledComponent()&&this.setHandlePos(A,c,!0,l))},this.setHandlePos=function(r,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3?arguments[3]:void 0;t._adapter.onHandleMove(r,i,()=>t._adapter.onHandleUpAfter(),s,o)},this.checkWhichHandle=r=>{const{vertical:i,verticalReverse:s}=this.getProps(),{currentValue:o}=this._adapter.getStates(),a=this.transValueToPos(o);let A=!0;return Array.isArray(a)&&(r>a[1]||Math.abs(r-a[0])>Math.abs(r-a[1]))&&(A=!1),i&&s&&(A=!A),A},this.handleWrapperEnter=()=>{this._adapter.setStateVal("showBoundary",!0)},this.handleWrapperLeave=()=>{this._adapter.setStateVal("showBoundary",!1)}}init(){this._checkCurrentValue(),this._dragOffset=0}_checkCurrentValue(){const{currentValue:e,min:t,max:r}=this.getStates();let i;Array.isArray(e)?(i=[],i[0]=this._checkValidity(e[0],t,r),i[1]=this._checkValidity(e[1],t,r)):i=this._checkValidity(e,t,r),this._adapter.updateCurrentValue(i)}destroy(){this._adapter.unSubscribeEventListener()}_getHandleCenterPosition(e,t){const r=t.getBoundingClientRect(),{x:i,y:s}=this.handleMousePos(r.left+r.width*.5,r.top+r.height*.5);return e?s:i}}var wJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const rr=an.PREFIX;function CJ(n){return n?!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length):!1}class jg extends Ie{constructor(e){super(e),this.renderHandle=()=>{var r,i,s,o,a;const{vertical:A,range:c,tooltipVisible:l,tipFormatter:h,"aria-label":u,"aria-labelledby":d,"aria-valuetext":p,getAriaValueText:f,disabled:v}=this.props,{chooseMovePos:m,isDrag:y,isInRenderTree:w,firstDotFocusVisible:C,secondDotFocusVisible:S}=this.state,x=A?"top":"left",E=this.foundation.getMinAndMaxPercent(this.state.currentValue),T=E.min,P=E.max,{tipVisible:F,tipChildren:U}=this.foundation.computeHandleVisibleVal(l&&w,h,c),I=N(an.HANDLE,{[`${an.HANDLE}-clicked`]:m==="min"&&y}),D=N(an.HANDLE,{[`${an.HANDLE}-clicked`]:m==="max"&&y}),{min:$,max:M,currentValue:G}=this.state,V={"aria-label":u??(v?"Disabled Slider":void 0),"aria-labelledby":d,"aria-disabled":v};A&&Object.assign(V,{"aria-orientation":"vertical"});const Q=this.props.handleDot;return c?b.createElement(b.Fragment,null,b.createElement(It,{content:U.min,position:"top",trigger:"custom",rePosKey:T,visible:w&&(F.min||C),className:`${an.HANDLE}-tooltip`},b.createElement("span",Object.assign({ref:this.minHanleEl,className:I,style:{[x]:`${T*100}%`,zIndex:m==="min"?2:1},onMouseDown:B=>{this.foundation.onHandleDown(B,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:B=>{this.foundation.onHandleTouchStart(B,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:B=>{this.foundation.onHandleUp(B)},onTouchEnd:B=>{this.foundation.onHandleUp(B)},onKeyDown:B=>{this.foundation.handleKeyDown(B,"min")},onFocus:B=>{this.foundation.onFocus(B,"min")},onBlur:B=>{this.foundation.onBlur(B,"min")},role:"slider",tabIndex:v?-1:0},V,{"aria-valuetext":f?f(G[0],0):p,"aria-valuenow":G[0],"aria-valuemax":G[1],"aria-valuemin":$}),(Q==null?void 0:Q[0])&&b.createElement("div",{className:an.HANDLE_DOT,style:Object.assign(Object.assign({},!((r=Q[0])===null||r===void 0)&&r.size?{width:Q[0].size,height:Q[0].size}:{}),!((i=Q[0])===null||i===void 0)&&i.color?{backgroundColor:Q[0].color}:{})}))),b.createElement(It,{content:U.max,position:"top",trigger:"custom",rePosKey:P,visible:w&&(F.max||S),className:`${an.HANDLE}-tooltip`},b.createElement("span",Object.assign({ref:this.maxHanleEl,className:D,style:{[x]:`${P*100}%`,zIndex:m==="max"?2:1},onMouseDown:B=>{this.foundation.onHandleDown(B,"max")},onMouseEnter:()=>{this.foundation.onHandleEnter("max")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:B=>{this.foundation.onHandleUp(B)},onTouchStart:B=>{this.foundation.onHandleTouchStart(B,"max")},onTouchEnd:B=>{this.foundation.onHandleUp(B)},onKeyDown:B=>{this.foundation.handleKeyDown(B,"max")},onFocus:B=>{this.foundation.onFocus(B,"max")},onBlur:B=>{this.foundation.onBlur(B,"max")},role:"slider",tabIndex:v?-1:0},V,{"aria-valuetext":f?f(G[1],1):p,"aria-valuenow":G[1],"aria-valuemax":M,"aria-valuemin":G[0]}),((s=this.props.handleDot)===null||s===void 0?void 0:s[1])&&b.createElement("div",{className:an.HANDLE_DOT,style:Object.assign(Object.assign({},!((o=this.props.handleDot[1])===null||o===void 0)&&o.size?{width:this.props.handleDot[1].size,height:this.props.handleDot[1].size}:{}),!((a=this.props.handleDot[1])===null||a===void 0)&&a.color?{backgroundColor:this.props.handleDot[1].color}:{})})))):b.createElement(It,{content:U.min,showArrow:this.props.showArrow,position:"top",trigger:"custom",rePosKey:T,visible:w&&(F.min||C),className:`${an.HANDLE}-tooltip`},b.createElement("span",Object.assign({onMouseOver:this.foundation.checkAndUpdateIsInRenderTreeState,ref:this.minHanleEl,className:I,style:{[x]:`${T*100}%`,zIndex:m==="min"&&y?2:1},onMouseDown:B=>{this.foundation.onHandleDown(B,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:B=>{this.foundation.onHandleTouchStart(B,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:B=>{this.foundation.onHandleUp(B)},onTouchEnd:B=>{this.foundation.onHandleUp(B)},onKeyDown:B=>{this.foundation.handleKeyDown(B,"min")},onFocus:B=>{this.foundation.onFocus(B,"min")},onBlur:B=>{this.foundation.onBlur(B,"min")},role:"slider","aria-valuetext":f?f(G,0):p,tabIndex:v?-1:0},V,{"aria-valuenow":G,"aria-valuemax":M,"aria-valuemin":$}),Q&&b.createElement("div",{className:an.HANDLE_DOT,style:Object.assign(Object.assign({},Q!=null&&Q.size?{width:Q.size,height:Q.size}:{}),Q!=null&&Q.color?{backgroundColor:Q.color}:{})})))},this.renderTrack=()=>{const{range:r,included:i,vertical:s}=this.props,o=this.foundation.getMinAndMaxPercent(this.state.currentValue),a=o.min,A=o.max;let c=s?{height:r?`${Math.abs(A-a)*100}%`:`${a*100}%`,top:r?`${Math.min(a,A)*100}%`:0}:{width:r?`${Math.abs(A-a)*100}%`:`${a*100}%`,left:r?`${Math.min(a,A)*100}%`:0};return c=i?c:{},b.createElement("div",{className:an.TRACK,style:c,onClick:this.foundation.handleWrapClick})},this.renderStepDot=()=>{const{min:r,max:i,vertical:s,marks:o}=this.props,a=s?"top":"left";return o&&Object.keys(o).length>0?b.createElement("div",{className:an.DOTS},Object.keys(o).map(c=>{const l=this.foundation.isMarkActive(Number(c)),h=N(`${rr}-dot`,{[`${rr}-dot-active`]:this.foundation.isMarkActive(Number(c))==="active"}),u=(Number(c)-r)/(i-r),d=b.createElement("span",{key:c,onClick:this.foundation.handleWrapClick,className:h,style:{[a]:`calc(${u*100}% - 2px)`}});return l?this.props.tooltipOnMark?b.createElement(It,{content:o[c]},d):d:null})):null},this.renderLabel=()=>{if(!this.props.showMarkLabel)return null;const{min:r,max:i,vertical:s,marks:o,verticalReverse:a}=this.props,A=s?"top":"left";return o&&Object.keys(o).length>0?b.createElement("div",{className:an.MARKS+(s&&a?"-reverse":"")},Object.keys(o).map(l=>{const h=this.foundation.isMarkActive(Number(l)),u=(Number(l)-r)/(i-r);return h?b.createElement("span",{key:l,className:N(`${rr}-mark${s&&a?"-reverse":""}`),style:{[A]:`${u*100}%`},onClick:this.foundation.handleWrapClick},o[l]):null})):null},this._getAriaValueText=(r,i)=>{const{getAriaValueText:s}=this.props;return s?s(r,i):r};let{value:t}=this.props;t||(t=this.props.defaultValue),this.state={currentValue:t||(this.props.range?[0,0]:0),min:this.props.min||0,max:this.props.max||0,focusPos:"",onChange:this.props.onChange,disabled:this.props.disabled||!1,chooseMovePos:"",isDrag:!1,clickValue:0,showBoundary:!1,isInRenderTree:!0,firstDotFocusVisible:!1,secondDotFocusVisible:!1},this.sliderEl=b.createRef(),this.minHanleEl=b.createRef(),this.maxHanleEl=b.createRef(),this.dragging=[!1,!1],this.foundation=new yw(this.adapter),this.eventListenerSet=new Set,this.handleDownEventListenerSet=new Set}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{getSliderLengths:()=>{var t;if(this.sliderEl&&this.sliderEl.current){const r=this.sliderEl.current.getBoundingClientRect(),i=(t=this.sliderEl.current.offsetParent)===null||t===void 0?void 0:t.getBoundingClientRect(),s={x:i?r.left-i.left:this.sliderEl.current.offsetLeft,y:i?r.top-i.top:this.sliderEl.current.offsetTop};return{sliderX:s.x,sliderY:s.y,sliderWidth:r.width,sliderHeight:r.height}}return{sliderX:0,sliderY:0,sliderWidth:0,sliderHeight:0}},getParentRect:()=>{const t=this.sliderEl&&this.sliderEl.current&&this.sliderEl.current.offsetParent;if(t)return t.getBoundingClientRect()},getScrollParentVal:()=>{const t=this.foundation.getScrollParent(this.sliderEl.current);return{scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}},isEventFromHandle:t=>{const r=[this.minHanleEl,this.maxHanleEl];let i=!1;return r.forEach(s=>{if(!s)return;const o=s&&s.current,a=Dr.findDOMNode(o);a&&a.contains(t.target)&&(i=!0)}),i},getOverallVars:()=>({dragging:this.dragging}),updateDisabled:t=>{this.setState({disabled:t})},transNewPropsToState(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X;this.setState(t,r)},notifyChange:t=>{this.props.onChange(Array.isArray(t)?[...t].sort((r,i)=>r-i):t)},setDragging:t=>{this.dragging=t},updateCurrentValue:t=>{const{currentValue:r}=this.state;t!==r&&this.setState({currentValue:t})},setOverallVars:(t,r)=>{this[t]=r},getMinHandleEl:()=>this.minHanleEl.current,getMaxHandleEl:()=>this.maxHanleEl.current,onHandleDown:t=>{this.handleDownEventListenerSet.add(this._addEventListener(document.body,"mousemove",this.foundation.onHandleMove,!1)),this.handleDownEventListenerSet.add(this._addEventListener(window,"mouseup",this.foundation.onHandleUp,!1)),this.handleDownEventListenerSet.add(this._addEventListener(document.body,"touchmove",this.foundation.onHandleTouchMove,!1))},onHandleMove:function(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=arguments.length>4?arguments[4]:void 0;if(!e.foundation.checkAndUpdateIsInRenderTreeState())return;const{value:A}=e.props;let c=o;if(c===void 0){const h=e.foundation.transPosToValue(t,r);if(h===!1)return;c=e.foundation.outPutValue(h)}const{currentValue:l}=e.state;if(!Ut(e.foundation.outPutValue(l),c)){if(!s&&e.foundation.valueFormatIsCorrect(A))return!1;e.setState({currentValue:c},i)}},setEventDefault:t=>{t.stopPropagation(),t.preventDefault()},setStateVal:(t,r)=>{this.setState({[t]:r})},checkAndUpdateIsInRenderTreeState:()=>{const t=CJ(this.sliderEl.current);return t!==this.state.isInRenderTree&&this.setState({isInRenderTree:t}),t},onHandleEnter:t=>{this.setState({focusPos:t})},onHandleLeave:()=>{this.setState({focusPos:""})},onHandleUpBefore:t=>{var r,i;(i=(r=this.props).onMouseUp)===null||i===void 0||i.call(r,t),t.stopPropagation(),t.preventDefault(),Array.from(this.handleDownEventListenerSet).forEach(s=>s()),this.handleDownEventListenerSet.clear()},onHandleUpAfter:()=>{const{currentValue:t}=this.state,r=this.foundation.outPutValue(t);this.props.onAfterChange(r)},unSubscribeEventListener:()=>{Array.from(this.eventListenerSet).forEach(t=>t())}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e,t){const r=!Ut(this.props.value,e.value);if(this.props.disabled!==e.disabled&&this.foundation.handleDisabledChange(this.props.disabled),r){const s=this.props.value,o=this.state.currentValue;this.foundation.handleValueChange(o,s),this.props.onAfterChange(this.props.value)}}componentWillUnmount(){this.foundation.destroy()}render(){const{disabled:e,currentValue:t,min:r,max:i}=this.state,s=this.props,{vertical:o,verticalReverse:a,style:A,railStyle:c,range:l,className:h}=s,u=wJ(s,["vertical","verticalReverse","style","railStyle","range","className"]),d=N(`${rr}-wrapper`,{[`${rr}-disabled`]:e,[`${an.VERTICAL}-wrapper`]:o,[`${rr}-reverse`]:o&&a},h),p=N(`${rr}-boundary`,{[`${rr}-boundary-show`]:this.props.showBoundary&&this.state.showBoundary}),f=N({[`${rr}`]:!o,[an.VERTICAL]:o}),v=Array.isArray(t)?[...t].sort():t,m=l?`Range: ${this._getAriaValueText(v[0],0)} to ${this._getAriaValueText(v[1],1)}`:void 0,y=b.createElement("div",Object.assign({className:d,style:A,ref:this.sliderEl,"aria-label":m,onMouseEnter:()=>this.foundation.handleWrapperEnter(),onMouseLeave:()=>this.foundation.handleWrapperLeave()},this.getDataAttr(u)),b.createElement("div",{className:`${rr}-rail`,onClick:this.foundation.handleWrapClick,style:c}),this.renderTrack(),this.renderStepDot(),b.createElement("div",null,this.renderHandle()),this.renderLabel(),b.createElement("div",{className:p},b.createElement("span",{className:`${rr}-boundary-min`},r),b.createElement("span",{className:`${rr}-boundary-max`},i)));return o?y:b.createElement("div",{className:f},y)}_addEventListener(e,t,r){if(e.addEventListener){for(var i=arguments.length,s=new Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];e.addEventListener(t,r,...s);const a=()=>{e==null||e.removeEventListener(t,r),Promise.resolve().then(()=>{this.eventListenerSet.delete(a)})};return this.eventListenerSet.add(a),a}else return X}}jg.propTypes={defaultValue:g.oneOfType([g.number,g.array]),disabled:g.bool,showMarkLabel:g.bool,included:g.bool,marks:g.object,max:g.number,min:g.number,range:g.bool,step:g.number,tipFormatter:g.func,value:g.oneOfType([g.number,g.array]),vertical:g.bool,onAfterChange:g.func,onChange:g.func,onMouseUp:g.func,tooltipOnMark:g.bool,tooltipVisible:g.bool,showArrow:g.bool,style:g.object,className:g.string,showBoundary:g.bool,railStyle:g.object,verticalReverse:g.bool,getAriaValueText:g.func,handleDot:g.oneOfType([g.shape({size:g.string,color:g.string}),g.arrayOf(g.shape({size:g.string,color:g.string}))])};jg.defaultProps={disabled:!1,showMarkLabel:!0,tooltipOnMark:!1,included:!0,max:100,min:0,range:!1,showArrow:!0,step:1,tipFormatter:n=>n,vertical:!1,showBoundary:!1,onAfterChange:n=>{},onChange:n=>{},verticalReverse:!1};const de={TABS:`${re}-tabs`,TABS_BAR:`${re}-tabs-bar`,TABS_BAR_LINE:`${re}-tabs-bar-line`,TABS_BAR_CARD:`${re}-tabs-bar-card`,TABS_BAR_BUTTON:`${re}-tabs-bar-button`,TABS_BAR_SLASH:`${re}-tabs-bar-slash`,TABS_BAR_EXTRA:`${re}-tabs-bar-extra`,TABS_TAB:`${re}-tabs-tab`,TABS_TAB_ACTIVE:`${re}-tabs-tab-active`,TABS_TAB_DISABLED:`${re}-tabs-tab-disabled`,TABS_CONTENT:`${re}-tabs-content`,TABS_CONTENT_ANIMATED:`${re}-tabs-content-animated`,TABS_CONTENT_NO_ANIMATED:`${re}-tabs-content-no-animated`,TABS_PANE:`${re}-tabs-pane`,TABS_PANE_INACTIVE:`${re}-tabs-pane-inactive`,TABS_PANE_ACTIVE:`${re}-tabs-pane-active`,TABS_PANE_MOTION_OVERLAY:`${re}-tabs-pane-motion-overlay`,TABS_PANE_ANIMATING:`${re}-tabs-pane-animating`,TABS_PANE_ANIMATE_LEFT_SHOW:`${re}-tabs-pane-animate-leftShow`,TABS_PANE_ANIMATE_RIGHT_SHOW:`${re}-tabs-pane-animate-rightShow`,TABS_PANE_ANIMATE_TOP_SHOW:`${re}-tabs-pane-animate-topShow`,TABS_PANE_ANIMATE_BOTTOM_SHOW:`${re}-tabs-pane-animate-bottomShow`},mA={TYPE_MAP:["line","card","button","slash"],SIZE:["small","medium","large"],POSITION_MAP:["top","left"]};class BJ extends Ye{constructor(e){super(Object.assign({},e)),this.destroy=X,this.handlePrevent=t=>{t.stopPropagation(),t.preventDefault()},this.handleKeyDown=(t,r,i)=>{const{preventScroll:s}=this.getProps(),o=[...t.target.parentNode.childNodes].filter(a=>le(a,"attributes.data-tabkey.value","").includes("semiTab")&&le(a,"attributes.aria-disabled.value","")!=="true");switch(t.key){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":this.determineOrientation(t,o);break;case"Backspace":case"Delete":this.handleDeleteKeyDown(t,o,r,i);break;case"Enter":case" ":this.handleTabClick(r,t),this.handlePrevent(t);break;case"Home":o[0].focus({preventScroll:s}),this.handlePrevent(t);break;case"End":o[o.length-1].focus({preventScroll:s}),this.handlePrevent(t);break}}}init(){this._adapter.collectPane()}_notifyChange(e){const{activeKey:t}=this.getStates();t!==e&&this._adapter.notifyChange(e)}handleTabClick(e,t){this._isInProps("activeKey")?this._notifyChange(e):(this._notifyChange(e),this.handleNewActiveKey(e)),this._adapter.notifyTabClick(e,t)}handleNewActiveKey(e){const{activeKey:t}=this.getStates();t!==e&&this._adapter.setNewActiveKey(e)}getDefaultActiveKey(){let e;const t=this.getProps();return"activeKey"in t?e=t.activeKey:"defaultActiveKey"in t?e=t.defaultActiveKey:e=this._adapter.getDefaultActiveKeyFromChildren(),e}handleTabListChange(){this._adapter.collectPane()}handleTabPanesChange(){this._adapter.collectPane(),this._adapter.collectActiveKey()}handleTabDelete(e){this._adapter.notifyTabDelete(e)}determineOrientation(e,t){const{tabPosition:r}=this.getProps();r==="left"?(e.key==="ArrowUp"||e.key==="ArrowDown")&&(this.switchTabOnArrowPress(e,t),this.handlePrevent(e)):(e.key==="ArrowLeft"||e.key==="ArrowRight")&&(this.switchTabOnArrowPress(e,t),this.handlePrevent(e))}handleDeleteKeyDown(e,t,r,i){const{preventScroll:s}=this.getProps();if(i){this.handleTabDelete(r);const o=t.indexOf(e.target);t.length!==1&&t[o+1>=t.length?o-1:o+1].focus({preventScroll:s})}}switchTabOnArrowPress(e,t){const{preventScroll:r}=this.getProps(),i=t.indexOf(e.target),s={ArrowLeft:-1,ArrowUp:-1,ArrowRight:1,ArrowDown:1};s[e.key]&&i!==void 0&&(t[i+s[e.key]]?t[i+s[e.key]].focus({preventScroll:r}):e.key==="ArrowLeft"||e.key==="ArrowUp"?t[t.length-1].focus({preventScroll:r}):(e.key==="ArrowRight"||e.key=="ArrowDown")&&t[0].focus({preventScroll:r}))}}var xJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const _J=(n,e)=>{const{tab:t,size:r,type:i,icon:s,selected:o,closable:a,disabled:A,itemKey:c,deleteTabItem:l,tabPosition:h,handleKeyDown:u,onClick:d}=n,p=xJ(n,["tab","size","type","icon","selected","closable","disabled","itemKey","deleteTabItem","tabPosition","handleKeyDown","onClick"]),f=H.useMemo(()=>a?b.createElement(mh,{"aria-label":"Close",role:"button",className:`${de.TABS_TAB}-icon-close`,onClick:S=>l(c,S)}):null,[i,a,l,c]),v=H.useCallback(S=>b.createElement("span",{className:`${de.TABS_BAR}-icon`},S),[]),m=H.useCallback(S=>{u&&u(S,c,a)},[u,c,a]),y=H.useCallback(S=>{!A&&d&&d(c,S)},[c,A,d]),w=s?v(s):null,C=N(de.TABS_TAB,`${de.TABS_TAB}-${i}`,`${de.TABS_TAB}-${h}`,`${de.TABS_TAB}-single`,{[de.TABS_TAB_ACTIVE]:o,[de.TABS_TAB_DISABLED]:A,[`${de.TABS_TAB}-small`]:r==="small",[`${de.TABS_TAB}-medium`]:r==="medium"});return b.createElement("div",Object.assign({role:"tab",id:`semiTab${c}`,"data-tabkey":`semiTab${c}`,"aria-controls":`semiTabPanel${c}`,"aria-disabled":A?"true":"false","aria-selected":o?"true":"false",tabIndex:o?0:-1,onKeyDown:m,onClick:y,className:C},p,{ref:e}),w,t,f)},bw=H.forwardRef(_J);bw.elementType="Tabs.TabItem";var SJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class Iy extends b.Component{constructor(e){var t;super(e),t=this,this.handleItemClick=(r,i)=>{this.props.onTabClick(r,i)},this.handleKeyDown=(r,i,s)=>{this.props.handleKeyDown(r,i,s)},this.renderTabItem=r=>{const{size:i,type:s,deleteTabItem:o,handleKeyDown:a,tabPosition:A}=this.props,c=this._isActive(r.itemKey);return b.createElement(bw,Object.assign({},Ty(r,["disabled","icon","itemKey","tab","closable"]),{key:this._getBarItemKeyByItemKey(r.itemKey),selected:c,size:i,type:s,tabPosition:A,handleKeyDown:a,deleteTabItem:o,onClick:this.handleItemClick}))},this.scrollTabItemIntoViewByKey=function(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"nearest";const s=document.querySelector(`[data-uuid="${t.state.uuid}"] .${de.TABS_TAB}[data-scrollkey="${r}"]`);s==null||s.scrollIntoView({behavior:"smooth",block:i,inline:i})},this.scrollActiveTabItemIntoView=r=>{const i=this._getBarItemKeyByItemKey(this.props.activeKey);this.scrollTabItemIntoViewByKey(i,r)},this.renderTabComponents=r=>r.map(i=>this.renderTabItem(i)),this.handleArrowClick=(r,i)=>{const s=i==="start"?r.pop():r.shift();if(!s)return;const o=this._getBarItemKeyByItemKey(s.itemKey);this.scrollTabItemIntoViewByKey(o)},this.renderCollapse=(r,i,s)=>{var o;const a=N({[`${de.TABS_BAR}-arrow-${s}`]:s,[`${de.TABS_BAR}-arrow`]:!0});if(ni(r))return b.createElement("div",{role:"presentation",className:a},b.createElement(Ne,{disabled:!0,icon:i,theme:"borderless"}));const{dropdownClassName:A,dropdownStyle:c,showRestInDropdown:l,dropdownProps:h}=this.props,{rePosKey:u}=this.state,d=!r.length,p=b.createElement(at.Menu,null,r.map(y=>{const{icon:w,tab:C,itemKey:S}=y,x=w?this.renderIcon(y.icon):null;return b.createElement(at.Item,{key:S,onClick:E=>this.handleItemClick(S,E),active:this._isActive(S)},x,C)})),f=b.createElement("div",{role:"presentation",className:a,onClick:y=>this.handleArrowClick(r,s)},b.createElement(Ne,{disabled:d,icon:i,theme:"borderless"})),v=N(A,{[`${de.TABS_BAR}-dropdown`]:!0}),m=(o=h==null?void 0:h[s])!==null&&o!==void 0?o:{};return b.createElement(b.Fragment,null,l?b.createElement(at,Object.assign({className:v,clickToHide:!0,clickTriggerToHide:!0,key:`${u}-${s}`,position:s==="start"?"bottomLeft":"bottomRight",render:d?null:p,showTick:!0,style:c,trigger:"hover",disableFocusListener:!0},m),f):f)},this.renderOverflow=r=>r.map((i,s)=>{const o=s===0?"start":"end",a=s===0?b.createElement(PV,null):b.createElement(Ey,null),A=this.renderCollapse(i,a,o);return this.props.renderArrow?this.props.renderArrow(i,o,()=>this.handleArrowClick(i,o),A):A}),this.renderCollapsedTab=()=>{const{list:r}=this.props,i=r.map(s=>{const{itemKey:o}=s;return Object.assign({key:this._getBarItemKeyByItemKey(o),active:this._isActive(o)},s)});return b.createElement(OA,{items:i,overflowRenderDirection:this.props.arrowPosition,wrapperStyle:this.props.visibleTabsStyle,overflowRenderer:this.renderOverflow,renderMode:"scroll",className:`${de.TABS_BAR}-overflow-list`,visibleItemRenderer:this.renderTabItem,onVisibleStateChange:s=>{var o,a;const A=new Map;s.forEach((c,l)=>{A.set(this._getItemKeyByBarItemKey(l),c)}),(a=(o=this.props).onVisibleTabsChange)===null||a===void 0||a.call(o,A)}})},this.renderWithMoreTrigger=()=>{const{list:r,more:i}=this.props;let s=[],o=b.createElement("div",{className:N({[`${de.TABS_BAR}-more-trigger`]:!0,[`${de.TABS_BAR}-more-trigger-${this.props.type}`]:!0})},b.createElement(gr,{componentName:"Tabs"},(A,c)=>b.createElement("div",{className:`${de.TABS_BAR}-more-trigger-content`},b.createElement("div",null,A.more),b.createElement(Hc,{className:`${de.TABS_BAR}-more-trigger-content-icon`})))),a;if(typeof i=="number")a=r.length-Math.min(i,r.length),s=r.slice(0,a).map(A=>this.renderTabItem(A));else if(typeof i=="object")a=r.length-Math.min(i.count,r.length),s=r.slice(0,a).map(A=>this.renderTabItem(A)),i.render&&(o=i.render());else if(i!==void 0)throw new Error("[Semi Tabs]: invalid tab props format: more");return b.createElement(b.Fragment,null,s,this.renderMoreDropdown(r.slice(a),i==null?void 0:i.dropdownProps,o))},this.renderMoreDropdown=(r,i,s)=>b.createElement(at,Object.assign({trigger:"hover",showTick:!0,position:"bottomLeft",className:`${de.TABS_BAR}-more-dropdown-${this.props.type}`,clickToHide:!0,menu:r.map(o=>({node:"item",name:o.tab,icon:o.icon,onClick:a=>this.props.onTabClick(o.itemKey,a),active:this.props.activeKey===o.itemKey}))},i),s),this._isActive=r=>r===this.props.activeKey,this._getBarItemKeyByItemKey=r=>`${r}-bar`,this._getItemKeyByBarItemKey=r=>r.replace(/-bar$/,""),this.state={endInd:e.list.length,rePosKey:0,startInd:0,uuid:"",currentVisibleItems:[]}}componentDidMount(){this.setState({uuid:qj()})}componentDidUpdate(e){e.activeKey!==this.props.activeKey&&this.props.collapsible&&this.scrollActiveTabItemIntoView()}renderIcon(e){return b.createElement("span",null,e)}renderExtra(){const{tabBarExtraContent:e,type:t,size:r}=this.props,i={float:"right"},s=e&&e.props?e.props.style:{},o=N(de.TABS_BAR_EXTRA,{[`${de.TABS_BAR}-${t}-extra`]:t,[`${de.TABS_BAR}-${t}-extra-${r}`]:r});if(e){const a=Object.assign(Object.assign({},i),s);return b.createElement("div",{className:o,style:a,"x-semi-prop":"tabBarExtraContent"},e)}return null}render(){const e=this.props,{type:t,style:r,className:i,list:s,tabPosition:o,more:a,collapsible:A}=e,c=SJ(e,["type","style","className","list","tabPosition","more","collapsible"]),l=N(i,{[de.TABS_BAR]:!0,[de.TABS_BAR_LINE]:t==="line",[de.TABS_BAR_CARD]:t==="card",[de.TABS_BAR_BUTTON]:t==="button",[de.TABS_BAR_SLASH]:t==="slash",[`${de.TABS_BAR}-${o}`]:o,[`${de.TABS_BAR}-collapse`]:A}),h=this.renderExtra(),u=A?this.renderCollapsedTab():a?this.renderWithMoreTrigger():this.renderTabComponents(s);return b.createElement("div",Object.assign({role:"tablist","aria-orientation":o==="left"?"vertical":"horizontal",className:l,style:r},JA(c),{"data-uuid":this.state.uuid}),u,h)}}Iy.propTypes={activeKey:g.string,className:g.string,collapsible:g.bool,list:g.array,onTabClick:g.func,size:g.oneOf(mA.SIZE),style:g.object,tabBarExtraContent:g.node,tabPosition:g.oneOf(mA.POSITION_MAP),type:g.oneOf(mA.TYPE_MAP),closable:g.bool,deleteTabItem:g.func,more:g.oneOfType([g.number,g.object])};const aT=b.createContext({});var EJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class Lr extends H.PureComponent{constructor(){super(...arguments),this.ref=H.createRef(),this.getDirection=(e,t,r,i)=>{if(t!==null&&e!==null&&Array.isArray(r)&&r.length){const s=r.findIndex(A=>A.itemKey===e),o=r.findIndex(A=>A.itemKey===t),a=r.findIndex(A=>A.itemKey===i);return s===o?a>s:o<s}return!1},this.shouldRender=()=>{const{itemKey:e}=this.props,{activeKey:t,lazyRender:r}=this.context,i=t===e;return this._active=this._active||i,r?this._active:!0}}render(){const{tabPaneMotion:e,tabPosition:t,prevActiveKey:r}=this.context,i=this.props,{className:s,style:o,children:a,itemKey:A,tabIndex:c}=i,l=EJ(i,["className","style","children","itemKey","tabIndex"]),h=this.context.activeKey===A,u=N(s,{[de.TABS_PANE_INACTIVE]:!h,[de.TABS_PANE_ACTIVE]:h,[de.TABS_PANE]:!0}),d=this.shouldRender(),p=(()=>{const m=this.getDirection(this.context.activeKey,A,this.context.panes,r);return t==="top"?m?de.TABS_PANE_ANIMATE_RIGHT_SHOW:de.TABS_PANE_ANIMATE_LEFT_SHOW:m?de.TABS_PANE_ANIMATE_BOTTOM_SHOW:de.TABS_PANE_ANIMATE_TOP_SHOW})(),f=!this.context.panes.find(m=>m.itemKey===r),v=e&&h&&!f&&!this.context.forceDisableMotion;return b.createElement("div",Object.assign({ref:this.ref,role:"tabpanel",id:`semiTabPanel${A}`,"aria-labelledby":`semiTab${A}`,className:u,style:o,"aria-hidden":h?"false":"true",tabIndex:c||0},JA(l),{"x-semi-prop":"children"}),b.createElement(Zo,{motion:v,animationState:h?"enter":"leave",startClassName:p},m=>{let{animationClassName:y,animationEventsNeedBind:w}=m;return b.createElement("div",Object.assign({className:N(de.TABS_PANE_MOTION_OVERLAY,y),"x-semi-prop":"children"},w),d?a:null)}))}}Lr.isTabPane=!0;Lr.contextType=aT;Lr.propTypes={className:g.string,style:g.object,children:g.node,disabled:g.bool,itemKey:g.string,tab:g.node,icon:g.node,closable:g.bool};var FJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const VB=["className","style","disabled","itemKey","tab","icon"];class Vs extends Ie{constructor(e){super(e),this.setContentRef=t=>{this.contentRef={current:t}},this.getPanes=()=>{const{tabList:t,children:r}=this.props;return Array.isArray(t)&&t.length?t:b.Children.map(r,i=>{if(i){const{tab:s,icon:o,disabled:a,itemKey:A,closable:c}=i.props;return{tab:s,icon:o,disabled:a,itemKey:A,closable:c}}})},this.onTabClick=(t,r)=>{this.foundation.handleTabClick(t,r)},this.rePosChildren=(t,r)=>{const i=[],s=b.Children.toArray(t);return t.length&&(i.push(...s.filter(o=>o.props&&o.props.itemKey===r)),i.push(...s.filter(o=>o.props&&o.props.itemKey!==r))),i},this.getActiveItem=()=>{const{activeKey:t}=this.state,{children:r,tabList:i}=this.props;return i||!Array.isArray(r)?r:b.Children.toArray(r).filter(s=>H.isValidElement(s)&&s.type&&s.type.isTabPane?s.props.itemKey===t:!0)},this.deleteTabItem=(t,r)=>{r.stopPropagation(),this.foundation.handleTabDelete(t)},this.foundation=new BJ(this.adapter),this.state={activeKey:this.foundation.getDefaultActiveKey(),panes:this.getPanes(),prevActiveKey:null,forceDisableMotion:!1},this.contentRef=H.createRef(),this.contentHeight="auto"}get adapter(){return Object.assign(Object.assign({},super.adapter),{collectPane:()=>{const e=this.getPanes();this.setState({panes:e})},collectActiveKey:()=>{const{tabList:e,children:t,activeKey:r}=this.props;if(typeof r<"u")return;const{activeKey:i}=this.state,s=this.getPanes();s.findIndex(o=>o.itemKey===i)===-1&&(s.length>0?this.setState({activeKey:s[0].itemKey}):this.setState({activeKey:""}))},notifyTabClick:(e,t)=>{this.props.onTabClick(e,t)},notifyChange:e=>{this.props.onChange(e)},setNewActiveKey:e=>{this.setState({activeKey:e})},getDefaultActiveKeyFromChildren:()=>{const{tabList:e,children:t}=this.props;let r="";return(e||b.Children.toArray(t).map(s=>H.isValidElement(s)?s.props:null)).forEach(s=>{s&&!r&&!s.disabled&&(r=s.itemKey)}),r},notifyTabDelete:e=>{this.props.onTabClose&&this.props.onTabClose(e)}})}static getDerivedStateFromProps(e,t){const r={};return!Sn(e.activeKey)&&e.activeKey!==t.activeKey&&(t.prevActiveKey=t.activeKey,r.activeKey=e.activeKey),r}componentDidUpdate(e,t){const r=b.Children.toArray(e.children).map(o=>Ty(H.isValidElement(o)?o.props:null,VB)),i=b.Children.toArray(this.props.children).map(o=>Ty(H.isValidElement(o)?o.props:null,VB)),s=this.props.tabList||e.tabList;if(Ut(this.props.tabList,e.tabList)||this.foundation.handleTabListChange(),t.activeKey!==this.state.activeKey&&t.activeKey!==this.state.prevActiveKey&&this.setState({prevActiveKey:t.activeKey}),e.activeKey!==this.props.activeKey){const o=(()=>{const a=new Set(r.map(A=>A.itemKey));return i.map(A=>A.itemKey).filter(A=>!a.has(A))})();this.setState({forceDisableMotion:o.includes(this.props.activeKey)})}!Ut(r,i)&&!s&&this.foundation.handleTabPanesChange()}render(){const e=this.props,{children:t,className:r,collapsible:i,contentStyle:s,keepDOM:o,lazyRender:a,renderTabBar:A,showRestInDropdown:c,size:l,style:h,tabBarClassName:u,tabBarExtraContent:d,tabBarStyle:p,tabPaneMotion:f,tabPosition:v,type:m,more:y,onVisibleTabsChange:w,visibleTabsStyle:C,arrowPosition:S,renderArrow:x,dropdownProps:E}=e,T=FJ(e,["children","className","collapsible","contentStyle","keepDOM","lazyRender","renderTabBar","showRestInDropdown","size","style","tabBarClassName","tabBarExtraContent","tabBarStyle","tabPaneMotion","tabPosition","type","more","onVisibleTabsChange","visibleTabsStyle","arrowPosition","renderArrow","dropdownProps"]),{panes:P,activeKey:F}=this.state,U=N(r,{[de.TABS]:!0,[`${de.TABS}-${v}`]:v}),I=N({[de.TABS_CONTENT]:!0,[`${de.TABS_CONTENT}-${v}`]:v}),D={activeKey:F,className:u,collapsible:i,list:P,onTabClick:this.onTabClick,showRestInDropdown:c,size:l,style:p,tabBarExtraContent:d,tabPosition:v,type:m,deleteTabItem:this.deleteTabItem,handleKeyDown:this.foundation.handleKeyDown,more:y,onVisibleTabsChange:w,visibleTabsStyle:C,arrowPosition:S,renderArrow:x,dropdownProps:E},$=A?A(D,Iy):b.createElement(Iy,Object.assign({},D)),M=o?t:this.getActiveItem();return b.createElement("div",Object.assign({className:U,style:h},this.getDataAttr(T)),$,b.createElement(aT.Provider,{value:{activeKey:F,lazyRender:a,panes:P,tabPaneMotion:f,tabPosition:v,prevActiveKey:this.state.prevActiveKey,forceDisableMotion:this.state.forceDisableMotion}},b.createElement("div",{ref:this.setContentRef,className:I,style:Object.assign({},s)},M)))}}Vs.TabPane=Lr;Vs.TabItem=bw;Vs.propTypes={activeKey:g.string,className:g.string,collapsible:g.bool,contentStyle:g.oneOfType([g.object]),defaultActiveKey:g.string,keepDOM:g.bool,lazyRender:g.bool,onChange:g.func,onTabClick:g.func,renderTabBar:g.func,showRestInDropdown:g.bool,size:g.oneOf(mA.SIZE),style:g.object,tabBarClassName:g.string,tabBarExtraContent:g.node,tabBarStyle:g.object,tabList:g.array,tabPaneMotion:g.bool,tabPosition:g.oneOf(mA.POSITION_MAP),type:g.oneOf(mA.TYPE_MAP),onTabClose:g.func,preventScroll:g.bool,more:g.oneOfType([g.number,g.object]),arrowPosition:g.string,renderArrow:g.func,dropdownProps:g.object};Vs.__SemiComponentName__="Tabs";Vs.defaultProps=nr(Vs.__SemiComponentName__,{children:[],collapsible:!1,keepDOM:!0,lazyRender:!1,onChange:()=>{},onTabClick:()=>{},size:"large",tabPaneMotion:!0,tabPosition:"top",type:"line",onTabClose:()=>{},showRestInDropdown:!0,arrowPosition:"both"});class ww extends Ye{constructor(e){super(Object.assign(Object.assign({},ww.defaultAdapter),e)),this.handleMouseInSideChange=t=>{this._adapter.handleMouseInSideChange(t)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(e){return this._adapter.getState("list").map(r=>{let{id:i}=r;return i}).includes(e)}addToast(e){const t=this._adapter.getState("list");t.push(e),this._adapter.updateToast(t,[],[])}updateToast(e,t){let r=this._adapter.getState("list");r=r.map(s=>s.id===e?Object.assign(Object.assign({},s),t):s);const i=r.filter(s=>s.id===e);this._adapter.updateToast(r,[],i)}removeToast(e){let t=this._adapter.getState("list");const r=[];t=t.filter(i=>i.id===e?(r.push(i),!1):!0),this._adapter.updateToast(t,r,[])}destroyAll(){const e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}}const l0=`${re}-toast`,Ga={PREFIX:l0,WRAPPER:`${l0}-wrapper`,LIST:`${l0}-list`},uc={types:["warning","success","info","error","default"],themes:["normal","light"],directions:["ltr","rtl"]},TJ={duration:3};class Cw extends Ye{constructor(e){super(Object.assign(Object.assign({},Cw.defaultAdapter),e)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){const e=this._adapter.getProp("duration");e&&Ls(e)&&(this._timer=setTimeout(()=>{this.close()},e*1e3))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}const Br=Ga.PREFIX;let ea=class extends Ie{constructor(e){super(e),this.toastEle=b.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new Cw(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){const{type:e,icon:t}=this.props,i={warning:b.createElement(Jb,null),success:b.createElement(C3,null),info:b.createElement(w3,null),error:b.createElement(y3,null)}[e],s="large",o=N(`${Br}-icon`,`${Br}-icon-${e}`);return t?kr(t)?b.cloneElement(t,{size:s,className:`${Br}-icon`}):t:e&&i?b.cloneElement(i,{size:s,className:o}):null}render(){const{content:e,type:t,theme:r,showClose:i,textMaxWidth:s,className:o,style:a}=this.props,A=this.props.direction||this.context.direction,c=N(Br,o,{[`${Br}-${t}`]:!0,[`${Br}-${r}`]:r==="light",[`${Br}-rtl`]:A==="rtl"}),l={};l.maxWidth=s;const h="borderless",u="small",d=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,p=b.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${t||"default"} type`,className:c,style:Object.assign(Object.assign({},a),{transform:`translate3d(0,0,${d*-10}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},b.createElement("div",{className:`${Br}-content`},this.renderIcon(),b.createElement("span",{className:`${Br}-content-text`,style:l,"x-semi-prop":"content"},e),i&&b.createElement("div",{className:`${Br}-close-button`},b.createElement(ca,{onClick:f=>this.close(f),type:"tertiary",icon:b.createElement(mh,{"x-semi-prop":"icon"}),theme:h,size:u}))));if(this.props.stack){const f=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return b.createElement("div",{className:`${Br}-zero-height-wrapper`,style:{height:f}},p)}else return p}};ea.contextType=Zs;ea.propTypes={onClose:g.func,content:g.node,close:g.func,duration:g.number,theme:g.oneOf(uc.themes),type:g.oneOf(uc.types),textMaxWidth:g.oneOfType([g.string,g.number]),style:g.object,className:g.string,showClose:g.bool,stack:g.bool,stackExpanded:g.bool,icon:g.node,direction:g.oneOf(uc.directions)};ea.__SemiComponentName__="Toast";ea.defaultProps=nr(ea.__SemiComponentName__,{onClose:X,content:"",close:X,duration:TJ.duration,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"});var PJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const OJ=(n,e)=>{var{afterClose:t}=n,r=PJ(n,["afterClose"]);const[i,s]=H.useState(!0),o=()=>{s(!1)};return b.useImperativeHandle(e,()=>({close:()=>{s(!1)}})),H.useEffect(()=>{i||t(r.id)},[i]),i?b.createElement(ea,Object.assign({},r,{close:o})):null},IJ=b.forwardRef(OJ),_l={motion:!0,zIndex:1010,duration:3};function UJ(){const[n,e]=b.useState([]);function t(r,i){return e(s=>[{element:r,config:i},...s]),s=>{e(o=>o.filter(a=>{let{config:A}=a;return A.id!==s}))}}return[n,t]}function kJ(){const[n,e]=UJ(),t=H.useRef(new Map),r=s=>{const o=df("semi_toast_"),a=Object.assign(Object.assign({},s),{id:o});let A;const c=b.createElement(IJ,Object.assign({},a,{key:o,afterClose:l=>A(l),ref:l=>{var h;t.current.set(o,{close:(h=l==null?void 0:l.close)!==null&&h!==void 0?h:X})}}));return A=e(c,Object.assign({},a)),o},i=s=>{var o;const{close:a}=(o=t.current.get(s))!==null&&o!==void 0?o:{};a==null||a()};return[{success:s=>r(Object.assign(Object.assign(Object.assign({},_l),s),{type:"success"})),info:s=>r(Object.assign(Object.assign(Object.assign({},_l),s),{type:"info"})),error:s=>r(Object.assign(Object.assign(Object.assign({},_l),s),{type:"error"})),warning:s=>r(Object.assign(Object.assign(Object.assign({},_l),s),{type:"warning"})),open:s=>r(Object.assign(Object.assign(Object.assign({},_l),s),{type:"default"})),close:s=>i(s)},b.createElement(b.Fragment,null,Array.isArray(n)&&n.length?b.createElement(b.Fragment,null,n.map(s=>s.element)):null)]}const DJ=()=>{var n;return n=class ke extends Ie{constructor(t){super(t),this.stack=!1,this.innerWrapperRef=b.createRef(),this.handleMouseEnter=r=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=r=>{var i;this.stack&&(!((i=this.foundation.getInputWrapperRect())===null||i===void 0)&&i.height)&&this.foundation.handleMouseInSideChange(!1)},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new ww(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(t,r,i)=>{this.setState({list:t,removedItems:r,updatedItems:i})},handleMouseInSideChange:t=>{this.setState({mouseInSide:t})},getInputWrapperRect:()=>{var t;return(t=this.innerWrapperRef.current)===null||t===void 0?void 0:t.getBoundingClientRect()}})}static create(t){var r;const i=(r=t.id)!==null&&r!==void 0?r:df("toast");if(ke.ref){const s=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map(o=>{o in t&&(s.style[o]=typeof t[o]=="number"?`${t[o]}px`:t[o])}),!!t.stack!==ke.ref.stack&&(ke.ref.stack=!!t.stack),ke.ref.has(i)?ke.ref.update(i,Object.assign(Object.assign({},t),{id:i})):ke.ref.add(Object.assign(Object.assign({},t),{id:i}))}else{const s=document.createElement("div");this.wrapperId||(this.wrapperId=df("toast-wrapper").slice(0,26)),s.className=Ga.WRAPPER,s.id=this.wrapperId,s.style.zIndex=String(typeof t.zIndex=="number"?t.zIndex:ke.defaultOpts.zIndex),["top","left","bottom","right"].map(o=>{if(o in ke.defaultOpts||o in t){const a=t[o]?t[o]:ke.defaultOpts[o];s.style[o]=typeof a=="number"?`${a}px`:a}}),ke.defaultOpts.getPopupContainer?ke.defaultOpts.getPopupContainer().appendChild(s):document.body.appendChild(s),Dr.render(b.createElement(ke,{ref:o=>ke.ref=o}),s,()=>{ke.ref.add(Object.assign(Object.assign({},t),{id:i})),ke.ref.stack=!!t.stack})}return i}static close(t){ke.ref&&ke.ref.remove(t)}static destroyAll(){if(ke.ref){ke.ref.destroyAll();const t=document.querySelector(`#${this.wrapperId}`);Dr.unmountComponentAtNode(t),t&&t.parentNode.removeChild(t),ke.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ke.defaultOpts),t),{type:"info"}))}static warning(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ke.defaultOpts),t),{type:"warning"}))}static error(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ke.defaultOpts),t),{type:"error"}))}static success(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ke.defaultOpts),t),{type:"success"}))}static config(t){["top","left","bottom","right"].forEach(r=>{r in t&&(ke.defaultOpts[r]=t[r])}),typeof t.theme=="string"&&uc.themes.includes(t.theme)&&(ke.defaultOpts.theme=t.theme),typeof t.zIndex=="number"&&(ke.defaultOpts.zIndex=t.zIndex),typeof t.duration=="number"&&(ke.defaultOpts.duration=t.duration),typeof t.getPopupContainer=="function"&&(ke.defaultOpts.getPopupContainer=t.getPopupContainer)}has(t){return this.foundation.hasToast(t)}add(t){return this.foundation.addToast(t)}update(t,r){return this.foundation.updateToast(t,r)}remove(t){return this.foundation.removeToast(t)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:t}=this.state;const{removedItems:r,updatedItems:i}=this.state;t=Array.from(new Set([...t,...r]));const s=i.map(a=>{let{id:A}=a;return A}),o=a=>{var A;!((A=a==null?void 0:a.foundation)===null||A===void 0)&&A._id&&s.includes(a.foundation._id)&&a.foundation.restartCloseTimer()};return b.createElement(b.Fragment,null,b.createElement("div",{className:N({[`${Ga.PREFIX}-innerWrapper`]:!0,[`${Ga.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},t.map((a,A)=>{const c=r.find(l=>l.id===a.id)!==void 0;return b.createElement(Zo,{key:a.id,motion:a.motion,animationState:c?"leave":"enter",startClassName:c?`${Ga.PREFIX}-animation-hide`:`${Ga.PREFIX}-animation-show`},l=>{let{animationClassName:h,animationEventsNeedBind:u,isAnimating:d}=l;return c&&!d?null:b.createElement(ea,Object.assign({},a,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:t.length,index:A},className:N({[a.className]:!!a.className,[h]:!0})},u,{style:Object.assign({},a.style),close:p=>this.remove(p),ref:o}))})})))}},n.defaultOpts={motion:!0,zIndex:1010,content:""},n.propTypes={content:g.node,duration:g.number,onClose:g.func,icon:g.node,direction:g.oneOf(uc.directions),stack:g.bool},n.defaultProps={},n};class QJ{static create(e){const t=DJ();return t.useToast=kJ,e&&t.config(e),t}}const Eo=QJ.create();class Bw extends H.Component{constructor(e){super(e),this.state={}}render(){const{children:e,locale:t}=this.props;return b.createElement(m3.Provider,{value:t},e)}}Bw.propTypes={locale:g.object,children:g.node};Bw.defaultProps={locale:pf};const Vt=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Math.pow(10,e);return Math.round(t*n)/t},MJ={grad:360/400,turn:360,rad:360/(Math.PI*2)},AT=n=>Ew(xw(n)),xw=n=>{n[0]==="#"&&(n=n.substring(1));const e=t=>{const r=parseInt(t,16);return isNaN(r)?1:r/255};return{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:e(n.substring(6,8))}},LJ=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"deg";return Number(n)*(MJ[e]||1)},_w=n=>$c(Al(n)),lT=n=>{let{h:e,s:t,v:r,a:i}=n;const s=(200-t)*r/100;return{h:Vt(e),s:Vt(s>0&&s<200?t*r/100/(s<=100?s:200-s)*100:0),l:Vt(s/2),a:Vt(i,2)}},cT=n=>{const{h:e,s:t,l:r}=lT(n);return`hsl(${e}, ${t}%, ${r}%)`},Uy=n=>{const{h:e,s:t,l:r,a:i}=lT(n);return`hsla(${e}, ${t}%, ${r}%, ${i})`},Al=n=>{let{h:e,s:t,v:r,a:i}=n;e=e/360*6,t=t/100,r=r/100;const s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),A=r*(1-(1-e+s)*t),c=s%6;return{r:Vt([r,a,o,o,A,r][c]*255),g:Vt([A,r,r,a,o,o][c]*255),b:Vt([o,o,A,r,r,a][c]*255),a:Vt(i,2)}},NJ=n=>{const{r:e,g:t,b:r,a:i}=Al(n);return`rgba(${e}, ${t}, ${r}, ${i})`},RJ=n=>{const t=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(n);return t?jJ({h:LJ(t[1],t[2]),s:Number(t[3]),v:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}},Sw=n=>Ew(Kg(n)),Kg=n=>{const t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(n);return t?{r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}:{r:0,g:0,b:0,a:1}},HJ=Kg,$J=Sw,Ca=n=>{const e=n.toString(16);return e.length<2?"0"+e:e},$c=n=>{let{r:e,g:t,b:r,a:i}=n;const s=o=>Math.round(o/100*255).toString(16).padStart(2,"0").toLowerCase();return i===void 0||i===1?"#"+Ca(e)+Ca(t)+Ca(r):"#"+Ca(e)+Ca(t)+Ca(r)+s(i*100)},Ew=n=>{let{r:e,g:t,b:r,a:i}=n;const s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:Vt(60*(a<0?a+6:a)),s:Vt(s?o/s*100:0),v:Vt(s/255*100),a:i}},jJ=n=>({h:Vt(n.h),s:Vt(n.s),v:Vt(n.v),a:Vt(n.a,2)});class Et extends Ye{constructor(e){super(Object.assign({},e)),this.handleChangeH=(t,r)=>{const i=Object.assign(Object.assign({},t.hsva),{h:r}),s=Al(i),o=_w(i),a={rgba:s,hsva:i,hex:o};this._adapter.notifyChange(a),this.getProp("value")||this._adapter.setState({currentColor:a})},this.handleChangeA=(t,r)=>{let i=this._adapter.getProp("alpha");i||(r=1);const s=Object.assign(Object.assign({},t.rgba),{a:r}),o=$c(s);t={rgba:s,hex:i?o:o.slice(0,7),hsva:Object.assign(Object.assign({},t.hsva),{a:r})},this._adapter.notifyChange(t),this.getProp("value")||this._adapter.setState({currentColor:t})},this.getCurrentColor=()=>{const t=this.getProp("value"),r=this.getState("currentColor");return t||r},this.handleChange=(t,r)=>{let i;if(r==="hsva")i={hsva:t,rgba:Et.hsvaToRgba(t),hex:Et.hsvaToHex(t)};else if(r==="rgba")i={rgba:t,hsva:Et.rgbaToHsva(t),hex:Et.rgbaToHex(t)};else if(r==="hex")i={hex:t,hsva:Et.hexToHsva(t),rgba:Et.hexToRgba(t)};else throw new Error("format error");this._adapter.notifyChange(i),this.getProp("value")||this._adapter.setState({currentColor:i})},this.handleAlphaChangeByHandle=t=>{this.handleChangeA(this.getCurrentColor(),t.a)},this.handleColorChangeByHandle=t=>{this.handleChangeH(this.getCurrentColor(),t.h)},this.getHandlePositionByHSVA=(t,r,i)=>{let{width:s,height:o}=r;const a={x:t.s/100*s,y:(1-t.v/100)*o};return{x:a.x-i/2,y:a.y-i/2}},this.getHandlePositionByMousePosition=(t,r,i)=>{let{width:s,height:o}=r;return t.x>s||t.x<0||t.y>o||t.y<0?null:{x:t.x-i/2,y:t.y-i/2}},this.getAlphaHandlePositionByMousePosition=(t,r,i)=>t<0||t>r?null:t-i/2,this.getColorHandlePositionByMousePosition=(t,r,i)=>t<0||t>r?null:t-i/2}}Et.hsvaToRgba=Al;Et.rgbaToHsva=Ew;Et.rgbaToHex=$c;Et.hsvaToHex=_w;Et.hexToRgba=xw;Et.hexToHsva=AT;Et.hsvaToHslaString=Uy;Et.hsvaToHslString=cT;Et.rgbaStringToHsva=Sw;Et.rgbaStringToRgba=Kg;const Jt={PREFIX:`${re}-colorPicker`};class KJ extends Ye{constructor(e){super(Object.assign({},e)),this.getHandlePositionByHSVA=()=>{const{hsva:t,width:r,height:i,handleSize:s}=this.getProps();return this._adapter.getColorPickerFoundation().getHandlePositionByHSVA(t,{width:r,height:i},s)},this.handleMouseDown=t=>{this._adapter.handleMouseDown(t)},this.handleMouseUp=t=>{this._adapter.handleMouseUp(t)},this.setHandlePositionByMousePosition=t=>{var r;const i=(r=this._adapter.getDOM())===null||r===void 0?void 0:r.getBoundingClientRect();if(!i)return;const s={x:t.clientX-i.x,y:t.clientY-i.y},{width:o,height:a,handleSize:A}=this.getProps(),l=this._adapter.getColorPickerFoundation().getHandlePositionByMousePosition(s,{width:o,height:a},A);l&&(this.setState({handlePosition:l}),this._adapter.notifyChange({s:Math.round(s.x/o*100),v:Math.round(100-Math.min(Math.max(s.y/a,0),1)*100)}))}}}class GJ extends Ie{constructor(e){super(e),this.handleClick=t=>{this.foundation.setHandlePositionByMousePosition(t),this.foundation.handleMouseDown(t)},this.foundation=new KJ(this.adapter),this.state={handlePosition:this.foundation.getHandlePositionByHSVA(),isHandleGrabbing:!1},this.ref=b.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{getColorPickerFoundation:()=>this.props.foundation,handleMouseDown:e=>{this.setState({isHandleGrabbing:!0}),this.ref.current.addEventListener("mousemove",this.foundation.setHandlePositionByMousePosition),window.addEventListener("mouseup",this.foundation.handleMouseUp)},handleMouseUp:()=>{this.ref.current.removeEventListener("mousemove",this.foundation.setHandlePositionByMousePosition),window.removeEventListener("mouseup",this.foundation.handleMouseUp),this.setState({isHandleGrabbing:!1})},getDOM:()=>this.ref.current,notifyChange:e=>this.props.onChange(e)})}componentDidUpdate(e,t,r){JSON.stringify(e.hsva)!==JSON.stringify(this.props.hsva)&&this.setState({handlePosition:this.foundation.getHandlePositionByHSVA()})}render(){const e=cT({h:this.props.hsva.h,s:100,v:100,a:1}),t=Al(this.props.hsva);return b.createElement("div",{className:N(`${Jt.PREFIX}-colorChooseArea`,this.props.className),style:Object.assign({backgroundColor:e,width:this.props.width,height:this.props.height,cursor:this.state.isHandleGrabbing?"grabbing":"pointer"},this.props.style),ref:this.ref,"aria-label":"Color",onMouseDown:this.handleClick,"aria-valuetext":`Saturation ${Vt(this.props.hsva.s)}%, Brightness ${Vt(this.props.hsva.v)}%`},b.createElement("div",{className:`${Jt.PREFIX}-handle`,style:{width:this.props.handleSize,height:this.props.handleSize,left:this.state.handlePosition.x,top:this.state.handlePosition.y,backgroundColor:`rgba(${t.r},${t.g},${t.b},${t.a})`},onMouseDown:r=>this.foundation.handleMouseDown(r)}))}}class VJ extends Ye{constructor(e){super(Object.assign({},e)),this.handleMouseDown=t=>{this._adapter.handleMouseDown(t)},this.handleMouseUp=t=>{this._adapter.handleMouseUp(t)},this.setHandlePositionByMousePosition=t=>{var r;const i=(r=this._adapter.getDOM())===null||r===void 0?void 0:r.getBoundingClientRect();if(!i)return;const{width:s,handleSize:o}=this._adapter.getProps(),a=this._adapter.getColorPickerFoundation(),A=t.clientX-i.x,c=a.getAlphaHandlePositionByMousePosition(A,s,o);a.handleAlphaChangeByHandle({a:Number(Math.min(Math.max(A/s,0),1).toFixed(2))}),this.setState({handlePosition:c})}}}class zJ extends Ie{constructor(e){super(e),this.handleClick=t=>{this.foundation.setHandlePositionByMousePosition(t),this.foundation.handleMouseDown(t)},this.foundation=new VJ(this.adapter),this.state={handlePosition:e.hsva.a*e.width-e.handleSize/2,isHandleGrabbing:!1},this.ref=b.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{handleMouseDown:e=>{this.setState({isHandleGrabbing:!0}),window.addEventListener("mousemove",this.foundation.setHandlePositionByMousePosition),window.addEventListener("mouseup",this.foundation.handleMouseUp)},handleMouseUp:e=>{this.setState({isHandleGrabbing:!1}),window.removeEventListener("mousemove",this.foundation.setHandlePositionByMousePosition),window.removeEventListener("mouseup",this.foundation.handleMouseUp)},getColorPickerFoundation:()=>this.props.foundation,getDOM:()=>this.ref.current})}componentDidUpdate(e,t,r){e.hsva.a!==this.props.hsva.a&&this.setState({handlePosition:this.props.hsva.a*this.props.width-this.props.handleSize/2})}render(){const e=Uy(Object.assign(Object.assign({},this.props.hsva),{a:0})),t=Uy(Object.assign(Object.assign({},this.props.hsva),{a:1})),r=`linear-gradient(90deg, ${e}, ${t})`;return b.createElement("div",{className:`${Jt.PREFIX}-alphaSlider`,ref:this.ref,"aria-label":"Alpha","aria-valuetext":`${Vt(this.props.hsva.a*100)}%`,onMouseDown:this.handleClick,style:Object.assign({width:this.props.width,height:this.props.height},this.props.style)},b.createElement("div",{className:`${Jt.PREFIX}-alphaSliderInner`,style:{background:r}},b.createElement("div",{className:`${Jt.PREFIX}-alphaHandle`,style:{width:this.props.handleSize,height:this.props.handleSize,left:this.state.handlePosition,top:"50%",transform:"translateY(-50%)",backgroundColor:NJ(this.props.hsva)},onMouseDown:i=>this.foundation.handleMouseDown(i)})))}}class WJ extends Ye{constructor(e){super(Object.assign({},e)),this.handleMouseDown=t=>{this._adapter.handleMouseDown(t)},this.handleMouseUp=t=>{this._adapter.handleMouseUp(t)},this.setHandlePositionByMousePosition=t=>{var r;const i=(r=this._adapter.getDOM())===null||r===void 0?void 0:r.getBoundingClientRect();if(!i)return;const{width:s,handleSize:o}=this._adapter.getProps(),a=this._adapter.getColorPickerFoundation(),A=t.clientX-i.x;a.handleColorChangeByHandle({h:Math.round(Math.min(Math.max(A/s,0),1)*360)});const c=a.getColorHandlePositionByMousePosition(A,s,o);this.setState({handlePosition:c})}}}class XJ extends Ie{constructor(e){super(e),this.handleClick=t=>{this.foundation.setHandlePositionByMousePosition(t),this.foundation.handleMouseDown(t)},this.foundation=new WJ(this.adapter),this.state={handlePosition:e.hue/360*e.width-e.handleSize/2,isHandleGrabbing:!1},this.ref=b.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{handleMouseDown:e=>{this.setState({isHandleGrabbing:!0}),window.addEventListener("mousemove",this.foundation.setHandlePositionByMousePosition),window.addEventListener("mouseup",this.foundation.handleMouseUp)},handleMouseUp:e=>{this.setState({isHandleGrabbing:!1}),window.removeEventListener("mousemove",this.foundation.setHandlePositionByMousePosition),window.removeEventListener("mouseup",this.foundation.handleMouseUp)},getColorPickerFoundation:()=>this.props.foundation,getDOM:()=>this.ref.current})}componentDidUpdate(e,t,r){e.hue!==this.props.hue&&this.setState({handlePosition:this.props.hue/360*this.props.width-this.props.handleSize/2})}render(){return b.createElement("div",{className:N(`${Jt.PREFIX}-colorSlider`,this.props.className),ref:this.ref,onMouseDown:this.handleClick,style:Object.assign({width:this.props.width,height:this.props.height},this.props.style)},b.createElement("div",{className:`${Jt.PREFIX}-handle`,style:{width:this.props.handleSize,height:this.props.handleSize,left:this.state.handlePosition,top:"50%",transform:"translateY(-50%)",backgroundColor:Et.hsvaToHslString({h:this.props.hue,s:100,v:100,a:1})},onMouseDown:e=>this.foundation.handleMouseDown(e)}))}}const zB=(n,e)=>{const t=/^\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*,?\s*([\d.]*)\s*$/,r=n.match(t),i=[];i[0]=Number(r==null?void 0:r[1]),i[1]=Number(r==null?void 0:r[2]),i[2]=Number(r==null?void 0:r[3]),i[3]=Number((r==null?void 0:r[4])===void 0||(r==null?void 0:r[4])===""?1:r==null?void 0:r[4]);const s=(a,A)=>!(isNaN(a)||a<0||a>A);return s(i[0],e==="rgba"?255:360)&&s(i[1],e==="rgba"?255:100)&&s(i[2],e==="rgba"?255:100)&&s(i[3],1)?e==="rgba"?{r:i[0],g:i[1],b:i[2],a:i[3]}:{h:i[0],s:i[1],v:i[2],a:i[3]}:!1};var YJ=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(h){o(h)}}function A(l){try{c(r.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,A)}c((r=r.apply(n,e||[])).next())})};class JJ extends Ye{constructor(e){super(Object.assign({},e)),this.getInputValue=()=>{const{currentColor:t}=this._adapter.getProps(),{format:r}=this._adapter.getStates(),i=t.rgba,s=t.hsva,o=t.hex;return r==="rgba"?`${i.r},${i.g},${i.b}`:r==="hsva"?`${s.h},${s.s},${s.v}`:o.slice(0,7)},this.getValueByInputValue=t=>{const{format:r}=this.getStates();if(r==="rgba"){const i=zB(t,r);if(i)return i}else if(r==="hsva"){const i=zB(t,r);if(i)return i}else if(r==="hex"&&(t.startsWith("#")||(t="#"+t),/#[\d\w]{6,8}/.test(t)))return t;return!1},this.handlePickValueWithStraw=()=>YJ(this,void 0,void 0,function*(){const t=this._adapter.getColorPickerFoundation();if(!window.EyeDropper)return;const r=new EyeDropper;try{const s=(yield r.open()).sRGBHex;if(s.startsWith("#"))t.handleChange(s,"hex");else if(s.startsWith("rgba")){const o=Et.rgbaStringToRgba(s);o.a=1,t.handleChange(o,"rgba")}}catch{}}),this.handleInputValueChange=t=>{this._adapter.setState({inputValue:t})},this.handleFormatChange=t=>{this._adapter.setState({format:t})}}}class ZJ extends Ie{constructor(e){super(e),this.handleChange=t=>{this.props.foundation.handleChange(t,this.state.format)},this.foundation=new JJ(this.adapter),this.state={format:this.props.defaultFormat,inputValue:""}}get adapter(){return Object.assign(Object.assign({},super.adapter),{getColorPickerFoundation:()=>this.props.foundation})}componentDidMount(){this.foundation.handleInputValueChange(this.foundation.getInputValue())}componentDidUpdate(e,t,r){(!Ut(e.currentColor,this.props.currentColor)||t.format!==this.state.format)&&this.foundation.handleInputValueChange(this.foundation.getInputValue())}render(){const e=this.props.currentColor.rgba;return b.createElement("div",{className:`${Jt.PREFIX}-dataPart`,style:{width:this.props.width}},b.createElement("div",{className:`${Jt.PREFIX}-colorDemoBlock`,style:{minWidth:20,minHeight:20,backgroundColor:`rgba(${e.r},${e.g},${e.b},${e.a})`}}),b.createElement(gw,{size:"small",className:`${Jt.PREFIX}-inputGroup`},b.createElement(vf,{className:`${Jt.PREFIX}-colorPickerInput`,value:this.state.inputValue,onChange:t=>{const r=this.foundation.getValueByInputValue(t);r&&this.handleChange(r),this.foundation.handleInputValueChange(t)}}),this.props.alpha&&b.createElement(ZY,{min:0,max:100,className:`${Jt.PREFIX}-colorPickerInputNumber`,value:Number(Math.round(this.props.currentColor.rgba.a*100)),onNumberChange:t=>{if(this.state.format==="rgba")this.handleChange(Object.assign(Object.assign({},this.props.currentColor.rgba),{a:Number((t/100).toFixed(2))}));else if(this.state.format==="hex"){const r=Object.assign(Object.assign({},this.props.currentColor.rgba),{a:Number((t/100).toFixed(2))}),i=Et.rgbaToHex(r);this.handleChange(i)}else if(this.state.format==="hsva"){const r=Object.assign(Object.assign({},this.props.currentColor.hsva),{a:Number((t/100).toFixed(2))});this.handleChange(r)}},suffix:b.createElement("span",{className:`${Jt.PREFIX}-inputNumberSuffix`},"%"),hideButtons:!0}),b.createElement(ci,{className:`${Jt.PREFIX}-formatSelect`,size:"small",value:this.state.format,onSelect:t=>this.foundation.handleFormatChange(t),optionList:["hex","rgba","hsva"].map(t=>({label:t,value:t}))})),this.props.eyeDropper&&b.createElement(Ne,{type:"tertiary",theme:"light",size:"small",onClick:this.foundation.handlePickValueWithStraw,icon:b.createElement(HV,null)}))}}class Gg extends Ie{constructor(e){var t;super(e),this.foundation=new Et(this.adapter);const r=(t=e.value)!==null&&t!==void 0?t:e.defaultValue;this.state={currentColor:r}}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyChange:e=>{var t,r;(r=(t=this.props).onChange)===null||r===void 0||r.call(t,e)}})}renderPicker(){var e,t,r,i,s;const{className:o}=this.props,a=N(`${Jt.PREFIX}`,o),A=this.foundation.getCurrentColor();return b.createElement("div",{className:a},this.props.topSlot,b.createElement(GJ,{hsva:A.hsva,foundation:this.foundation,onChange:c=>{let{s:l,v:h}=c;this.foundation.handleChange({s:l,v:h,a:A.hsva.a,h:A.hsva.h},"hsva")},handleSize:20,width:(e=this.props.width)!==null&&e!==void 0?e:280,height:(t=this.props.height)!==null&&t!==void 0?t:280}),b.createElement(XJ,{width:(r=this.props.width)!==null&&r!==void 0?r:280,height:10,handleSize:18,hue:A.hsva.h,className:"colorSliderWrapper",foundation:this.foundation}),this.props.alpha&&b.createElement(zJ,{width:(i=this.props.width)!==null&&i!==void 0?i:280,height:10,handleSize:18,hsva:A.hsva,className:"alphaSliderWrapper",foundation:this.foundation}),b.createElement(ZJ,{currentColor:A,eyeDropper:this.props.eyeDropper,alpha:this.props.alpha,width:(s=this.props.width)!==null&&s!==void 0?s:280,foundation:this.foundation,defaultFormat:this.props.defaultFormat}),this.props.bottomSlot)}render(){var e,t;const r=this.foundation.getCurrentColor();return this.props.usePopover?b.createElement(pn,Object.assign({},this.props.popoverProps,{className:N(`${Jt.PREFIX}-popover`,(e=this.props.popoverProps)===null||e===void 0?void 0:e.className),content:this.renderPicker()}),(t=this.props.children)!==null&&t!==void 0?t:b.createElement("div",{style:{backgroundColor:r.hex},className:N(`${Jt.PREFIX}-popover-defaultChildren`)})):this.renderPicker()}}Gg.__SemiComponentName__="ColorPicker";Gg.defaultProps={defaultValue:{hsva:{h:176,s:71,v:77,a:1},rgba:{r:57,g:197,b:187,a:1},hex:"#39c5bb"},eyeDropper:!0,defaultFormat:"hex"};Gg.colorStringToValue=n=>{if(n.startsWith("#"))return{hsva:AT(n),rgba:xw(n),hex:n};if(n.startsWith("rgba")){const e=Kg(n);return{hsva:Sw(n),rgba:e,hex:$c(e)}}else if(n.startsWith("rgb")){const e=HJ(n);return{hsva:$J(n),rgba:e,hex:$c(e)}}else if(n.startsWith("hsv")){const e=RJ(n),t=Al(e),r=_w(e);return{hsva:e,rgba:t,hex:r}}else throw new Error("Semi ColorPicker: error on static colorStringToValue method, input value is invalid: "+n)};const qJ="modulepreload",eZ=function(n){return"/"+n},WB={},Tt=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(A=>{if(A=eZ(A),A in WB)return;WB[A]=!0;const c=A.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${l}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":qJ,c||(h.as="script"),h.crossOrigin="",h.href=A,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((u,d)=>{h.addEventListener("load",u),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${A}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},tZ=(n,e,t)=>{const r=n[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})};var bd=(n=>(n.PUS="PUS",n.TheScissors="TheScissors",n.Urbino="Urbino",n))(bd||{}),Fw=(n=>(n.Michele="Michele",n.Nobunaga="Nobunaga",n.Kokona="Kokona",n.Yvette="Yvette",n.Flavia="Flavia",n.Yugiri="Yugiri",n.Leona="Leona",n))(Fw||{}),Tw=(n=>(n.Ming="Ming",n.Lawine="Lawine",n.Meredith="Meredith",n.Reiichi="Reiichi",n.Kanami="Kanami",n.Eika="Eika",n.Fragrans="Fragrans",n))(Tw||{}),Pw=(n=>(n.Celestia="Celestia",n.Audrey="Audrey",n.Maddelena="Maddelena",n.Fuchsia="Fuchsia",n.BaiMo="BaiMo",n.Galatea="Galatea",n))(Pw||{});const hT={};function nZ(n){hT[n.id]=n}async function rZ(){const n={[bd.PUS]:Fw,[bd.TheScissors]:Tw,[bd.Urbino]:Pw};for(const e of Object.keys(n))for(const t of Object.keys(n[e]))try{const i=(await tZ(Object.assign({"./PUS/Flavia.tsx":()=>Tt(()=>import("./Flavia-wIN0euFJ.js"),[]),"./PUS/Kokona.tsx":()=>Tt(()=>import("./Kokona-BkGbTstB.js"),[]),"./PUS/Leona.tsx":()=>Tt(()=>import("./Leona-BV6Fags9.js"),[]),"./PUS/Michele.tsx":()=>Tt(()=>import("./Michele-Hhi3NX9s.js"),[]),"./PUS/Nobunaga.tsx":()=>Tt(()=>import("./Nobunaga-B2Ip8phr.js"),[]),"./PUS/Yugiri.tsx":()=>Tt(()=>import("./Yugiri-DBB5UWcN.js"),[]),"./PUS/Yvette.tsx":()=>Tt(()=>import("./Yvette-D-ydZuFu.js"),[]),"./TheScissors/Eika.tsx":()=>Tt(()=>import("./Eika-BrwpJmlO.js"),[]),"./TheScissors/Fragrans.tsx":()=>Tt(()=>import("./Fragrans-PuZoC3_Y.js"),[]),"./TheScissors/Kanami.tsx":()=>Tt(()=>import("./Kanami-BRsPDziy.js"),[]),"./TheScissors/Lawine.tsx":()=>Tt(()=>import("./Lawine-f2J4dyaa.js"),[]),"./TheScissors/Meredith.tsx":()=>Tt(()=>import("./Meredith-COhyc0lf.js"),[]),"./TheScissors/Ming.tsx":()=>Tt(()=>import("./Ming-B7avTMk7.js"),[]),"./TheScissors/Reiichi.tsx":()=>Tt(()=>import("./Reiichi-Ck3xlf36.js"),[]),"./Urbino/Audrey.tsx":()=>Tt(()=>import("./Audrey-Cnhpa-iZ.js"),[]),"./Urbino/BaiMo.tsx":()=>Tt(()=>import("./BaiMo-Cdh-q3mL.js"),[]),"./Urbino/Celestia.tsx":()=>Tt(()=>import("./Celestia-DYnPMFm_.js"),[]),"./Urbino/Fuchsia.tsx":()=>Tt(()=>import("./Fuchsia-BPtWF1ws.js"),[]),"./Urbino/Galatea.tsx":()=>Tt(()=>import("./Galatea-Dm2jV3tC.js"),[]),"./Urbino/Maddelena.tsx":()=>Tt(()=>import("./Maddelena-B0EwGHJI.js"),[])}),`./${e}/${t}.tsx`,3)).default;nZ(i)}catch(r){console.error(`Failed to load character: ${t} from faction: ${e}`,r)}return hT}var uT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XB=b.createContext&&b.createContext(uT),iZ=["attr","size","title"];function sZ(n,e){if(n==null)return{};var t=oZ(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function oZ(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Bf(){return Bf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bf.apply(this,arguments)}function YB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(t),!0).forEach(function(r){aZ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function aZ(n,e,t){return e=AZ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function AZ(n){var e=lZ(n,"string");return typeof e=="symbol"?e:e+""}function lZ(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function dT(n){return n&&n.map((e,t)=>b.createElement(e.tag,xf({key:t},e.attr),dT(e.child)))}function _e(n){return e=>b.createElement(cZ,Bf({attr:xf({},n.attr)},e),dT(n.child))}function cZ(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=sZ(n,iZ),a=i||t.size||"1em",A;return t.className&&(A=t.className),n.className&&(A=(A?A+" ":"")+n.className),b.createElement("svg",Bf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:A,style:xf(xf({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&b.createElement("title",null,s),n.children)};return XB!==void 0?b.createElement(XB.Consumer,null,t=>e(t)):e(uT)}function hZ(n){return _e({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(n)}function Eh(n){return _e({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function uZ(n){return _e({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"},child:[]}]})(n)}function dZ(n){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391.17,103.47H352.54v109.7h38.63ZM285,103H246.37V212.75H285ZM120.83,0,24.31,91.42V420.58H140.14V512l96.53-91.42h77.25L487.69,256V0ZM449.07,237.75l-77.22,73.12H294.61l-67.6,64v-64H140.14V36.58H449.07Z"},child:[]}]})(n)}function fZ(n){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function pZ(n){return _e({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(n)}function gZ(n){return _e({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"},child:[]}]})(n)}function mZ(n){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}var ta=(n=>(n.en_US="English",n.zh_CN="简体中文",n.ja_JP="日本語",n))(ta||{});const vZ={language:ta.en_US,title:"Strinova Map Assistant",announcement:"Announcement",friendlink:"Friend Link",sitelist:"Switch Server",announcementdata:{notshowntoday:"Got it",pin:{title:"Milestone Release V1.0",date:"2025.1.23",summary:"Milestone release complete.You'll find our social media at the footer of the page.",data:{}},history:[]},friendlinkdata:{classify:{official:"Official",wiki:"Wiki",others:"Others"},official:[{name:"",icon:_.jsx("img",{style:{height:"35px",filter:"brightness(1000%) drop-shadow(0 0 2px rgba(var(--semi-grey-7))"},src:"https://game.gtimg.cn/images/kq/m/web20230505/sec_ordlogo.png"}),url:"https://klbq.qq.com/"},{name:"",icon:_.jsx("img",{style:{height:"22px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-9))"},src:"https://klbq-web-cms.strinova.com/prod/strinova_static/home_v12/img/icon/logo-white.png"}),url:"https://www.strinova.com/"}],wiki:[{name:"",icon:_.jsx("img",{style:{height:"32px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-9))"},src:"https://s2.loli.net/2024/10/01/NQTMvDZ5ah4omYR.png"}),url:"https://wiki.biligame.com/klbq/"},{name:"Strinovajp Wiki",icon:_.jsx(_.Fragment,{}),url:"https://www.strinovajp-wiki.jp/index.html"},{name:"",icon:_.jsx("img",{style:{height:"22px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-1))"},src:"https://s2.loli.net/2024/10/01/R4UxmBPGd2f8kQ7.webp"}),url:"https://strinova.wiki.gg/wiki/Strinova_Wiki"},{name:"Miraheze Meta",icon:_.jsx(_.Fragment,{}),url:"https://strinova.org/wiki/"},{name:"日本語wiki",icon:_.jsx("img",{style:{height:"28px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-1))",marginRight:"8px"},src:"https://w.atwiki.jp/common/_img/atwiki_logo_small.svg?t=741a51e81c8c8d5fe9627b874ecad193"}),url:"https://w.atwiki.jp/calabiyau_jp/"}],others:[{name:"自建房助手",icon:_.jsx("img",{style:{height:"35px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-1))",marginRight:"8px"},src:"https://s2.loli.net/2024/10/01/pmYnw16rL2PQWBy.png"}),url:"https://klbq.fsltech.cn/"}],contact:{content:_.jsxs("div",{style:{width:"100%",textAlign:"center"},children:["Add friend link contact ",_.jsx("a",{href:"mailto:fsltech@email.cn",children:"fsltech@email.cn"})]})}},sitelistdata:{content:_.jsx(_.Fragment,{children:_.jsx("div",{children:"We set several sites for better connection."})}),Global:[{icon:_.jsx(_.Fragment,{children:_.jsx(Eh,{style:{color:"rgba(var(--semi-grey-9), 1)",fontSize:"20px",marginRight:"10px"}})}),content:"Github Page",url:"https://strinova.fsltech.cn/"}],CN:[{icon:_.jsx(_.Fragment,{}),content:"腾讯云CDN -  上海 - 1",url:"https://sh-1.strinova.fsltech.cn/"},{icon:_.jsx(_.Fragment,{}),content:"腾讯云CDN - 香港 - 1",url:"https://hk-1.strinova.fsltech.cn/"}]},supportusdata:{content:_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx("strong",{children:"STRINOVA MAP ASSISTANT"}),"is an open-source React project."]}),_.jsx("div",{children:"So you can use it freely under license GPL-3.0."}),_.jsx("div",{children:"Some image source may need further permission."}),_.jsx("div",{children:"Please ask the official."}),_.jsx("br",{}),_.jsx("div",{children:"Even thougth, you can donate to the developers to make this project better."}),_.jsxs("div",{children:["Whatever support you gave ,your would be listed on ",_.jsx("strong",{children:"STRINOVA MAP ASSISTANT"}),"'s namelist."]}),_.jsxs("div",{children:["Contact ",_.jsx("a",{href:"mailto:fsltech@email.cn",children:"fsltech@email.cn"})," if you have any more requests."]})]}),global:"International",CN:"CN",list:"Support List"},sidebar:{attact:"Attack",defense:"Defense",mapsetting:"Map Setting",character:"Character",skill:"Skills",grenade:"Grenades",other:"Others",lineup:"Grenade Lineups",skilllineup:"Skill Lineups",mobaisuperjump:"Baimo Super Jumps",bugpoint:"Bugs",bugpointwarning:_.jsxs("div",{style:{fontSize:"12px",textAlign:"left"},children:[_.jsx("div",{children:"Bugs listed here are for your information only!"}),_.jsx("div",{children:"We are not responsible for any bans for abusing any of these bugs."})]}),learnmore:"Learn More",supportus:"SUPPORT US",supportusContent:_.jsx(_.Fragment,{})},mapsetting:{choosemap:"Map",maps:{WindyTown:"Windy Town",SpaceLab:"Space Lab",Khesmet:"Khesmet",CauchyDistrict:"Cauchy District",EulerPort:"Port Euler",Area88:"Area 88",Base404:"Base 404"},TeamHighlight:"Team Highlight",TeamHighlightOptions:{prepare:"Show",blank:"Hide"},Landmarks:"Landmarks"},lineupsetting:{spotmark:"Spot Mark",spotmarks:{disable:"Disable",available:"Available Only",all:"All"}},skilllineupsetting:{spotmark:"Spot Mark",spotmarks:{disable:"Disable",available:"Available Only",all:"All"}},mobaisuperjumpsetting:{spotmark:"Spot Mark",spotmarks:{disable:"Disable",available:"Available Only",all:"All"}},bugpointsetting:{spotmark:"Spot Mark",spotmarks:{disable:"Disable",available:"Available Only",all:"All"}},factions:{PUS:"PUS",TheScissors:"The Scissors",Urbino:"Urbino"},characters:{PUS:{Michele:"Michele Li",Nobunaga:"Nobunaga",Kokona:"Kokona",Yvette:"Yvette",Flavia:"Flavia",Yugiri:"Yugiri",Leona:"Leona"},TheScissors:{Ming:"Ming",Lawine:"Lawine",Meredith:"Meredith",Reiichi:"Reiichi",Kanami:"Kanami",Eika:"Eika",Fragrans:"Fragrans"},Urbino:{Celestia:"Celestia",Audrey:"Audrey",Maddelena:"Maddelena",Fuchsia:"Fuchsia",BaiMo:"Bai Mo",Galatea:"Galatea"}},characterInfo:{Michele:{Name:"Michele",Type:"Sentinel",skillActiveName:"Meow Meow! Turret",skillActiveDescription:"Michele throws a small turret that attached to any surface (except player). The turret will automaticaly attack enemy (3 dmg/s) and slow them down.",skillPassiveName:"Cat Sense",skillPassiveDescription:"Enemy that damaged Michele will be highlighted for Michele and her teammates.",skillUltimateName:"Ultra! Meow Meow!",skillUltimateDescription:"Michele deploy a big Meow Meow Drone with powerful firepower. It will automaticaly attack enemy with bigger damage & range.",subName:"subName",subDescription:"subDescription"},Nobunaga:{Name:"Nobunaga",Type:"Sentinel",skillActiveName:"Observer",skillActiveDescription:"Nobunaga place a device on the ground which will gains Rate Of Fire, faster reload & restore Armor when he's within it range. Max 2 charges. If 2 Observer are placed within each other range, the buff effects are increased. It can be destroyed.",skillPassiveName:"Blinding Pulse",skillPassiveDescription:"When ADS, Nobunaga will build energy with his rifle. When fully charged, if enemy got hit by this charged shot, their crosshairs in ADS will be glitched out. Nobunaga's base Armor +10",skillUltimateName:"E.M.P",skillUltimateDescription:"Place a pulse device on the ground which emit large range pulse wave. Enemy within range will be highlighted & silenced continuously. It can be detroyed by any weapons.",subName:"subName",subDescription:"subDescription"},Kokona:{Name:"Kokona",Type:"Support",skillActiveName:"Healing Drone",skillActiveDescription:"Kokona sends a healing drone to heal and recover armor a selected ally or herself. Allies that stand near the drone will also healed.",skillPassiveName:"Emergency Rescue",skillPassiveDescription:"Kokona can summon a drone to auto-revive downed allies. Can revive multiple allies at the same time. Revived ally has 50 HP. Also Kokona restores 2 HP per second.",skillUltimateName:"Rebuild",skillUltimateDescription:"Kokona open up K.I.A terminal and choose an ally to resurrect using drones. The resurected ally will has full HP & Armor. It can be canceled either kill Kokona before she ults or destroy the drones when they resurrecting.",subName:"subName",subDescription:"subDescription"},Yvette:{Name:"Yvette",Type:"Controller",skillActiveName:"Fei",skillActiveDescription:"Yvette summon her teddy bear Fei to tranform into a real bear. Press the skill again to control Fei, Fei can dash forward to knock enemies up & leave an icy ground behind (2 charges). Which makes enemy slides & take more damage. Hold right mouse to recall Fei. Yvette is vulnerable while controlling Fei.",skillPassiveName:"Hidden Snow",skillPassiveDescription:"Yvette will go stealth after standing still for few secs. She can only be detected if going near her stealth range.",skillUltimateName:"Cold Breeze",skillUltimateDescription:"Yvette summon raging Fei that that slam the ground 3 times & create an icy ground which get bigger each slam. Enemy inside will slides, take more damage, slower Reload Speed, slower ADS Speed & slower Rate Of Fire.",subName:"subName",subDescription:"subDescription"},Flavia:{Name:"Flavia",Type:"Duellist",skillActiveName:"Illusory Phantom",skillActiveDescription:"Flavia summons the Phantom Butterfly to follows her for 5 seconds, during which time she loses 1HP from an attack, she becomes invincible for 2 seconds and spawns a Phantom Orb on the spot. The Phantom Orb will near-sight surrounding enemies and can be destroyed. Use the skill again to cancel invincible state instantly.",skillPassiveName:"Rebirth Circle",skillPassiveDescription:"Whenever Flavia takes 15 Damage, reduces Illusory Phantom's cooldown by 1 second. For every 160 damage taken, she gains 1 temporary Ultimate Point, which remains valid for the current round. Flavia's base armor +5'",skillUltimateName:"Dream Butterfly Transformation",skillUltimateDescription:"Flavia creates an illusionary field centered around herself. If she knocked out while in the field, Flavia'll transforms into a butterfly & revives herself after 3 seconds (repeat till ult ends). Enemies outside the field cannot see Flavia but they still can attack Flavia & will see Flavia if they attacked by her. If Flavia is killed by enemies outside the field, it will not trigger auto-revive & she'll die instantly.",subName:"subName",subDescription:"subDescription"},Yugiri:{Name:"Yugiri",Type:"Controller",skillActiveName:"Poison Mist",skillActiveDescription:"Throws a snail forward, creating a poisonous mist in a spherical area upon activation. The mist continuously lowers the maximum armour of enemies, which will then recover shortly after leaving the mist. Activating the snail will cost energy, and activating multiple snails will consume more energy then if one is activated. ",skillPassiveName:"Toxic Fog Eruption",skillPassiveDescription:"After dealing a set amount of HP, she will cause an explosion within the enemy, affecting it with corrosion, temporarily corroding the nearby enemy’s shield. ",skillUltimateName:"Poison Erosion",skillUltimateDescription:"Summons a large wave of mist that slowly advances forwards, reducing the max shields of any enemy struck and also applying the Corrosion effect. ",subName:"subName",subDescription:"subDescription"},Leona:{Name:"蕾欧娜",Type:"守护",skillActiveName:"弦能掩墙",skillActiveDescription:"蕾欧娜可以在指定平地或斜坡生成两种角度的正方形建筑块。方块生成会消耗技能点数及弦能条。方块最多同时存在16个。",skillPassiveName:"劳逸结合",skillPassiveDescription:"蕾欧娜在弦化状态会持续恢复弦能，当弦能高于50%时，提高自身移动速度；低于50%时，逐渐恢复自身护甲。",skillUltimateName:"纯净坚城",skillUltimateDescription:"蕾欧娜充满弦能条，场上已存在方块和技能持续期间生成的方块永久变透明，透明方块将不再阻挡通路与友方子弹。",subName:"防弹护窗",subDescription:"蕾欧娜在已放置的方块表面横或纵向放置单向防弹玻璃。玻璃不可阻挡行进或技能，仅阻挡敌方子弹。玻璃生成会消耗技能点数及弦能条。防弹玻璃最多同时存在3个。"},Ming:{Name:"Ming",Type:"Duellist",skillActiveName:"Plasma Ball",skillActiveDescription:"Fires a ball of electricity that will automatically detonate when it reaches the maximum distance or hits an enemy superstring. It can also be manually detonated by pressing the skill key again. The ball of electricity will destroy the armor of all enemy units (including summons) within the range and slow them down. Ming will increase his movement speed when entering the electric field.",skillPassiveName:"Armor Absorbing",skillPassiveDescription:"When Ming uses firearms and active skills to damage the enemy's armor or shield, his armor will be restored based on the amount of damage. During the duration of the ultimate, the passive will restore temporary armor and increase the amount restored.",skillUltimateName:"Plasma Armor",skillUltimateDescription:"Ming gains temporary armor and applies a stackable slow to his shots. When Ming uses a gun or active skill to damage an enemy's armor, the skill's duration is extended and temporary armor is restored.",subName:"subName",subDescription:"subDescription"},Lawine:{Name:"Lawine",Type:"Initiator",skillActiveName:"Pulse Knife",skillActiveDescription:"Throws the Pulse Knife to create a large magnetic field, slowly highlight enemies within range to Lawine and her teammates. The pulse knife will disappear immediately after a failed scan. The pulse knife can scan up to 3 times and can be destroyed by any weapons & nades.",skillPassiveName:"Exposure Trace",skillPassiveDescription:"Enemy hit by Lawine's Primary Weapon will be highlighted. Only Lawine can see.",skillUltimateName:"Escape The Shadow",skillUltimateDescription:"Lawine creates a rectangular magnetic field in front. When entering the magnetic field, Lawine becomes invisible. Lawine cannot use any weapons while invisible.",subName:"subName",subDescription:"subDescription"},Meredith:{Name:"Meredith",Type:"Controller",skillActiveName:"Sand Heatwave",skillActiveDescription:"Meredith fires an energy orb which will creates a sand field when hit enemy or obstacles. All enemy inside will be slowed, reduces reload speed and their HP will reduces overtime.",skillPassiveName:"Time Warp",skillPassiveDescription:"Reduce Meredith's falling speed when aiming, using skills and nades.",skillUltimateName:"Quicksand Burial",skillUltimateDescription:"Meredith throws a pyramid artifact and create a massive sandstorm. All enemy inside will be near-sighted, HP reduced overtime, slowed down while being pulled to the center. Allies also got near-sighted.",subName:"subName",subDescription:"subDescription"},Reiichi:{Name:"Reiichi",Type:"Controller",skillActiveName:"Dawn Curtain",skillActiveDescription:"Reiichi uses his umbrella to create a curtain of Paper energy light that can be released vertically or horizontally, which obscures the field of view.",skillPassiveName:"Dawn Insight",skillPassiveDescription:"When in ADS, Reiichi will build up energy with his sniper. When fully charged, it will scan a small are in front of him & hightlight all enemy for himself & teammates.",skillUltimateName:"Sacred Screen of Refuge",skillUltimateDescription:"Immediately refresh Dawn Curtain, and enchance Dawn Curtain which now can block bullets from enemy. The blocking effect also applies to pre-use Dawn Curtain.",subName:"subName",subDescription:"subDescription"},Kanami:{Name:"Kanami",Type:"Initiator",skillActiveName:"Symphony",skillActiveDescription:"Kanami infuses her sniper with her melody, then shoot to any surface which will resonate and hightlight all enemy in it radius for Kanami & teammates.",skillPassiveName:"Sonic Boom",skillPassiveDescription:"When a bullet hit a target it will highlight enemy and ultilities through wall briefly.",skillUltimateName:"Showtime",skillUltimateDescription:"Kanami summon a hologram of herself, the music start playing which glitch out enemy scope in ADS while slowing & pulling them to the center.",subName:"subName",subDescription:"subDescription"},Eika:{Name:"Eika",Type:"Duellist",skillActiveName:"Hellfire Cage",skillActiveDescription:"Creates a fire cage in front of Aika that burns enemies who pass through its boundaries, and the cage disippates prematurely if there are no more enemies inside. When Aika enters the cage, her shotgun will deals additional burn damage against enemies within the cage. Casting the skill with 100 heat, the flame will turn to blue & enemy takes more damage.",skillPassiveName:"Reserve Flare",skillPassiveDescription:"When Aika deals damage to enemies, She gathers a small amount of heat for her heat gauge, up to a max of 100. At max heat, Aika deals bonus damage against paper-mode enemies and empowers her abilities.",skillUltimateName:"Firestorm",skillUltimateDescription:"Throws out up to 3 fireball that can explode into a tornado, lifting (like wind bomb effect) and pulling in enemies, dealing continuous fire damage to them. Casting the skill with 100 heat, increases the tornado's size, damage, as well as highlighting (Not through wall) any enemies caught within.",subName:"subName",subDescription:"subDescription"},Fragrans:{Name:"Fragrans",Type:"Support",skillActiveName:"Vibrant And Fragrant",skillActiveDescription:"Fragrans can release two limited quantities of perfumes. After being released, it will create a fragrance area centered on itself, and the area will increase the fire rate or movement speed of the ally, and the fragrance effect will gradually decrease over time, and eventually disappear.",skillPassiveName:"Revive The Aroma",skillPassiveDescription:"Fragrans emits a faint scent of recovery, and nearby teammates and herself slowly regenerate health.",skillUltimateName:"Intense Fragrance",skillUltimateDescription:"Fragrans will create an area of intense fragrance centered on herself, and allies in the area will gain a high rate of fire, increased movement speed, and health regeneration, the effect will not be decayed, and Fragrans will not be able to use weapons during the release, but will receive a significant damage reduction.",subName:"subName",subDescription:"subDescription"},Celestia:{Name:"Celestia",Type:"Support",skillActiveName:"Guardian Of The Star",skillActiveDescription:"Celestia targets an allied character with a guardian star, replenishing temporary armor. The star then returns to her, granting her the half of the original effect.",skillPassiveName:"Cosmos",skillPassiveDescription:"When allies is near Huxing, both allies & herself will regain Armor overtime (+2/s). ",skillUltimateName:"Stargate",skillUltimateDescription:"Huxing open the Stargate and choose an ally across the map, immediately gains her & the chosen ally a huge Extra Armor, then she'll start build up enegry. When fully charged, Huxing will teleports to the chosen ally. It can be canceled if Huxing takes certain amount of damage or uses the skill again. When canceled Huxing will teleport back to where she used the skill, the Extra Armor Buff will not lost.",subName:"subName",subDescription:"subDescription"},Audrey:{Name:"Audrey",Type:"Sentinel",skillActiveName:"Heavy Fire",skillActiveDescription:"Audrey enters stationary state & cannot move. Greatly increase Rate Of Fire & Max Shield Limit of her MG. Her MG is no longer need to reload but will overheat overtime. Audrey MG no longer has recoil.",skillPassiveName:"Royal Shield",skillPassiveDescription:"Audrey will gains 30 Extra Armor when ADS. This Extra Armor will be restored shortly after the shield is broken. Audrey's base armor +5",skillUltimateName:"Bombardment",skillUltimateDescription:"Audrey enters stationary state & summon her grenade launcher that shoot out 6 incendiary round. Each round will bounce off the wall and explodes when hit the ground, creating 3 small area of fire causing damage overtime.",subName:"subName",subDescription:"subDescription"},Maddelena:{Name:"Maddelena",Type:"Controller",skillActiveName:"Color Binding",skillActiveDescription:"Maddelena fires a puddle of paint, enemies that pass through this puddle will be slowed and cannot use Paper Mode.",skillPassiveName:"Color Footprint",skillPassiveDescription:"Enemy hit by Maddelena' Primary Weapon or her skills will be slowed and leave footprints behind.",skillUltimateName:"Color Bubble",skillUltimateDescription:"Maddelena fires a giant bubble which will becomes bigger overtime, enemies within the bubble won't be able to use Paper Mode and leave their footprints. When the bubble explodes, it will apply slow and vulnerability effect to enemies within the blast area.",subName:"subName",subDescription:"subDescription"},Fuchsia:{Name:"Fuchsia",Type:"Duellist",skillActiveName:"Predator's Sense",skillActiveDescription:"Fuchsia senses surrounding enemies which highlights full HP enemies briefly & continiously for injured enemies. Sensing enemy will also increase Fuchsia's movement speed for short time.",skillPassiveName:"Fight To Feed",skillPassiveDescription:"When Fuchsia get a kill or assist, dead enemy will drop an Energy Crystal. She can go near and absorb it which will quickly restores herself 50HP.",skillUltimateName:"Bloodbath",skillUltimateDescription:"Fuchsia gains massive Rate Of Fire, faster Reload Speed, ADS Speed & Movement Speed. Predator's Sense will be enchanced & hightlight all enemies in her view. Absorbing Energy Crystal will extend the duration.",subName:"subName",subDescription:"subDescription"},BaiMo:{Name:"BaiMo",Type:"Duellist",skillActiveName:"Skydance",skillActiveDescription:"Baimo quickly dash forward & immediately reload 2 shell to his shotgun. Getting a kill will refresh the skill.",skillPassiveName:"Hip-Hop Boom Color",skillPassiveDescription:"When BaiMo deals atleast 50 Damage to enemy, they Paper Mode is disabled for few secs.",skillUltimateName:"Let's Rock!",skillUltimateDescription:"BaiMo place a respawn beacon at selected area and the music starts playing. When killed or press the skill again, Baimo will teleport back to the beacon fully restore his HP.",subName:"subName",subDescription:"subDescription"},Galatea:{Name:"Galatea",Type:"Initiator",skillActiveName:"Flying Cards Flash",skillActiveDescription:"Galatea releases a card that flies out in an arc, and when the card touches the ground or wall, a clone will be generated, and Galatea can teleport to the location of the clone by pressing the interaction button, and the clone can be destroyed. Each clone can detect visible enemies within a 10-meter radius and expose them to Galatea and all of her teammates, as well as enemies attacking the clone for a short period of time",skillPassiveName:"Fraudulent Shadow",skillPassiveDescription:"When Galatea detaches from a wall, it leaves a clone at the wall sticker, and each time she gets off the wall, it will respawn again, and when the clone is damaged, it will passively enter the cooldown.",skillUltimateName:"Shadow Card Trick",skillUltimateDescription:"Galatea throws a bunch of cards in front of her, each of which spawns a clone and teleports Galatea.",subName:"subName",subDescription:"subDescription"}},characterTypes:{Sentinel:"Sentinel",Support:"Support",Controller:"Controller",Duellist:"Duellist",Initiator:"Initiator"},grenades:{Flashbang:"Flashbang",FragGrenade:"Frag Grenade",HealingGrenade:"Healing Grenade",Interceptor:"Interceptor",SlowGrenade:"Slow Grenade",SmokeBomb:"Smoke Bomb",Alarm:"Alarm",WindstormGrenade:"Windstorm Grenade",SnowBall:"Snow Ball"},others:{Bomb:"Bomb",BombA:"Bomb A",BombB:"Bomb B",BombC:"Bomb C",Focus:"Focus",Warning:"Warning",Flag:"Flag",Danger:"Danger"},markbox:{mark:"Mark",straightline:"Straight Line",arrowline:"Arrow Line",color:"Color",undo:"Undo",clear:"Clear",clearwarning:{title:"Confirm to clear all marks?",content:"This action cannot be undone",ok:"Confirm",cancel:"Cancel",success:"Cleared all markings",failure:"Failed to clear markings"}}},yZ={language:ta.ja_JP,title:"Strinova マップアシスタント",announcement:"Announcement",friendlink:"Friend Link",sitelist:"Switch Server",announcementdata:{notshowntoday:"今日不再显示",pin:{title:"正式版发布",date:"2025.1.23",summary:"网站正式版已上线，欢迎使用！有任何问题可以通过网页最下方联系我们。",data:{}},history:[]},friendlinkdata:{classify:{official:"official",wiki:"Wiki",others:"Others"},official:[{name:"",icon:_.jsx("img",{style:{height:"35px",filter:"brightness(1000%) drop-shadow(0 0 2px rgba(var(--semi-grey-7))"},src:"https://game.gtimg.cn/images/kq/m/web20230505/sec_ordlogo.png"}),url:"https://klbq.qq.com/"},{name:"",icon:_.jsx("img",{style:{height:"22px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-9))"},src:"https://klbq-web-cms.strinova.com/prod/strinova_static/home_v12/img/icon/logo-white.png"}),url:"https://www.strinova.com/"}],wiki:[{name:"",icon:_.jsx("img",{style:{height:"32px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-9))"},src:"https://s2.loli.net/2024/10/01/NQTMvDZ5ah4omYR.png"}),url:"https://wiki.biligame.com/klbq/"},{name:"Strinovajp Wiki",icon:_.jsx(_.Fragment,{}),url:"https://www.strinovajp-wiki.jp/index.html"},{name:"",icon:_.jsx("img",{style:{height:"22px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-1))"},src:"https://s2.loli.net/2024/10/01/R4UxmBPGd2f8kQ7.webp"}),url:"https://strinova.wiki.gg/wiki/Strinova_Wiki"},{name:"Miraheze Meta",icon:_.jsx(_.Fragment,{}),url:"https://strinova.org/wiki/"},{name:"日本語wiki",icon:_.jsx("img",{style:{height:"28px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-1))",marginRight:"8px"},src:"https://w.atwiki.jp/common/_img/atwiki_logo_small.svg?t=741a51e81c8c8d5fe9627b874ecad193"}),url:"https://w.atwiki.jp/calabiyau_jp/"}],others:[{name:"自建房助手",icon:_.jsx("img",{style:{height:"35px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-1))",marginRight:"8px"},src:"https://s2.loli.net/2024/10/01/pmYnw16rL2PQWBy.png"}),url:"https://klbq.fsltech.cn/"}],contact:{content:_.jsxs("div",{style:{width:"100%",textAlign:"center"},children:["添加友链请联系 ",_.jsx("a",{href:"mailto:fsltech@email.cn",children:"fsltech@email.cn"})]})}},sitelistdata:{content:_.jsxs(_.Fragment,{children:[_.jsx("div",{children:"为了提供更快的访问速度以及减轻服务器压力，"}),_.jsx("div",{children:"我们开设了不同节点"})]}),Global:[{icon:_.jsx(_.Fragment,{children:_.jsx(Eh,{style:{color:"rgba(var(--semi-grey-9), 1)",fontSize:"20px",marginRight:"10px"}})}),content:"Github Page",url:"https://strinova.fsltech.cn/"}],CN:[{icon:_.jsx(_.Fragment,{}),content:"腾讯云CDN -  上海 - 1",url:"https://sh-1.strinova.fsltech.cn/"},{icon:_.jsx(_.Fragment,{}),content:"腾讯云CDN - 香港 - 1",url:"https://hk-1.strinova.fsltech.cn/"}]},supportusdata:{content:_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx("strong",{children:"卡拉彼丘地图助手"}),"是一款开源应用，"]}),_.jsx("div",{children:"因此你可以免费在 GPL-3.0 开源协议的范畴下使用本应用。"}),_.jsx("div",{children:"美术资料与部分UI版权归原作者与官方所有，"}),_.jsx("div",{children:"请咨询对应作者与官方授权！"}),_.jsx("br",{}),_.jsx("div",{children:"但即便如此，你的赞助也可以给予开发者前进的动力，让这个项目变得更好。"}),_.jsxs("div",{children:["无论你使用何种形式赞助，你都可以在",_.jsx("strong",{children:"卡拉彼丘地图助手"}),"的 GitHub 项目主页和网站展示您的信息（个人主页、公司主页、GitHub 资料页等）。"]}),_.jsxs("div",{children:["如需展示，请在留言中留下需要展示的内容或将内容连同赞助收据发送至 ",_.jsx("a",{href:"mailto:fsltech@email.cn",children:"fsltech@email.cn"})]})]}),global:"国际",CN:"中国境内",list:"赞助列表"},sidebar:{attact:"Attack",defense:"Defense",mapsetting:"マップの設定",character:"キャラクター（超弦体）",skill:"スキル",grenade:"戦術アイテム",other:"Others",lineup:"戦術アイテムのポイント",skilllineup:"スキルポイント",mobaisuperjump:"白墨スーパージャンプ",bugpoint:"プログラムエラー",bugpointwarning:_.jsxs("div",{style:{fontSize:"12px",textAlign:"left"},children:[_.jsx("div",{children:"ここにリストされているエラーは参照用です！"}),_.jsx("div",{children:"私たちはこれらの脆弱性を悪用する禁止令には責任を負いません。"})]}),learnmore:"詳細",supportus:"SUPPORT US",supportusContent:_.jsx(_.Fragment,{})},mapsetting:{choosemap:"マップ",maps:{WindyTown:"ウィンディタウン",SpaceLab:"スペース研究センター",Khesmet:"科斯迷特",CauchyDistrict:"コーシー街区",EulerPort:"オイラー港",Area88:"88街区",Base404:"404基地"},TeamHighlight:"チームハイライト",TeamHighlightOptions:{prepare:"表示",blank:"非表示"},Landmarks:"ランドマーク"},lineupsetting:{spotmark:"スポットマーク",spotmarks:{disable:"無効",available:"可能なものだけ",all:"全て"}},skilllineupsetting:{spotmark:"スポットマーク",spotmarks:{disable:"無効",available:"可能なものだけ",all:"全て"}},mobaisuperjumpsetting:{spotmark:"スポットマーク",spotmarks:{disable:"無効",available:"可能なものだけ",all:"全て"}},bugpointsetting:{spotmark:"スポットマーク",spotmarks:{disable:"無効",available:"可能なものだけ",all:"全て"}},factions:{PUS:"PUS",TheScissors:"シザーズ",Urbino:"ウルビノ"},characters:{PUS:{Michele:"ミシェル",Nobunaga:"信長",Kokona:"心夏",Yvette:"イヴェット",Flavia:"フラヴィア",Yugiri:"Yugiri",Leona:"Leona"},TheScissors:{Ming:"ミン",Lawine:"ラヴィーネ",Meredith:"メレディス",Reiichi:"令一",Kanami:"香奈美",Eika:"アイカ",Fragrans:"フラグランス"},Urbino:{Celestia:"星理恵",Audrey:"オードリー",Maddelena:"マダレーナ",Fuchsia:"フューシャ",BaiMo:"白墨",Galatea:"ガラテア"}},characterInfo:{Michele:{Name:"ミシェル",Type:"センチネル",skillActiveName:"ネコさん砲",skillActiveDescription:"ミシェルは建物に付着するネコ型タレットを設置する。タレットは一定範囲内の敵を自動で攻撃し、スロー効果を付与する。タレットはミシェルから一定距離離れると休止状態になる",skillPassiveName:"索敵ジャミング",skillPassiveDescription:"ミシェルが敵からダメージを受けると、その敵は可視化状態になる",skillUltimateName:"ネコ型ガンドローン",skillUltimateDescription:"ミシェルは強力な火力を持つガンドローンを配置する。ガンドローンは一定範囲内の敵を自動で攻撃する",subName:"subName",subDescription:"subDescription"},Nobunaga:{Name:"信長",Type:"センチネル",skillActiveName:"ウォッチング・アイ",skillActiveDescription:"信長は最大2つのウォッチングアイを配置できる。ウォッチング・アイが作動するドメイン内では、信長の発射速度、エルゴノミクス、アーマー回復が向上する。また、ウォッチング・アイのドメインが重なると、これらの増益効果が強化される",skillPassiveName:"ブラインドパルス",skillPassiveDescription:"信長はADSモードで弾をチャージできる。完全にチャージされた弾が敵に命中すると、敵の照準線が消える",skillUltimateName:"オーバーロード",skillUltimateDescription:"信長はパルス発生装置を設置する。この装置から発射されるパルスにスキャンされた敵は可視化され、沈黙状態になる。可視化された敵の姿はチーム全体に共有される",subName:"subName",subDescription:"subDescription"},Kokona:{Name:"心夏",Type:"サポート",skillActiveName:"ヒーリングドローン",skillActiveDescription:"心夏は自分または味方をターゲットにしてヒーリングドローンを生成する。ドローンはターゲットのアーマーを回復し、首位の味方全員のHPを回復する",skillPassiveName:"救急処置",skillPassiveDescription:"戦闘を離脱すると自身のHPをゆっくり回復する。心夏が味方を救援する時に、ヒーリングドローンを放出してチームメイトを戦場に復帰させる",skillUltimateName:"リモデリング",skillUltimateDescription:"心夏は死亡した味方を一人選び、自分の近くで復活させる",subName:"subName",subDescription:"subDescription"},Yvette:{Name:"イヴェット",Type:"コントローラー",skillActiveName:"ガオガオ、フェイ出撃",skillActiveDescription:"イヴェットはクマ「フェイ」を召喚する。アクティブスキルを再発動するとフェイの視点に切り替え、フェイを操作する。フェイの操作中に攻撃キーを押すと、フェイは前方に向かって突進し、障害物にぶつかると停止する。そして、停止した位置に氷雪地帯を生成する。敵が氷雪地帯にいるとスリップ効果と弱体化（被ダメージ増加）が付与される",skillPassiveName:"コソコソゆきがくれ",skillPassiveDescription:"イヴェットは静止した状態で一定時間が経過するとカモフラージュ状態に入り、遠方の敵には見えなくなり、敵が近づくと徐々に姿が現れる",skillUltimateName:"ブルブルぶりざーど",skillUltimateDescription:"イヴェットは巨大なシロクマを召喚し、3回連続で極寒フィールドを展開する。フィールド内の敵はスリップ状態と弱体化状態になり、発射速度とエルゴノミクスが低下する",subName:"subName",subDescription:"subDescription"},Flavia:{Name:"フラヴィア",Type:"デュエリスト",skillActiveName:"幻惑の蝶",skillActiveDescription:"フラヴィアが幻惑蝶を召喚する。幻惑蝶が存在する間、フラヴィアがダメージを受けると、一時的に無敵状態となり、ファントムオーブを生成する。オーブは敵の視界を遮断し、一定のダメージを受けると破壊される",skillPassiveName:"生々流転",skillPassiveDescription:"フラヴィアはダメージを受けるたびにアクティブスキルのクールダウンが短縮される。大きなダメージを受けると、一時的なアルティメットポイントを獲得する。スキルで獲得したポイントはそのラウンド内のみ有効",skillUltimateName:"胡蝶の夢",skillUltimateDescription:"フラヴィアは自身を中心にフィールドを生成する。フィールド内の敵に倒されると、フラヴィアは蝶に変身し、短時間後に戦闘を続ける。フィールド外の敵にはこの効果は適用されない。フィールド外の敵はフラヴィアからの攻撃を受けると、フラヴィアを可視化できる",subName:"subName",subDescription:"subDescription"},Yugiri:{Name:"ユウギリ",Type:"コントローラー",skillActiveName:"ドクギリマイマイ",skillActiveDescription:"カタツムリ型の装置を設置する。インタラクションキーで起動すると、敵のアーマーを一時的に減少させる球状の有毒な霧を生成する",skillPassiveName:"トキシックミスト",skillPassiveDescription:"メインウェポンを使用して敵のHPに一定量のダメージを与えたとき、敵の体内の腐食性毒素が爆発し、周囲の敵のアーマーを一時的に低下させる",skillUltimateName:"ポイズンフォグ",skillUltimateDescription:"広範囲の毒霧を召喚してゆっくりと前進し、範囲内の敵キャラクターのアーマー上限を減少させる、腐食性の毒素を注入する",subName:"subName",subDescription:"subDescription"},Leona:{Name:"蕾欧娜",Type:"守护",skillActiveName:"弦能掩墙",skillActiveDescription:"蕾欧娜可以在指定平地或斜坡生成两种角度的正方形建筑块。方块生成会消耗技能点数及弦能条。方块最多同时存在16个。",skillPassiveName:"劳逸结合",skillPassiveDescription:"蕾欧娜在弦化状态会持续恢复弦能，当弦能高于50%时，提高自身移动速度；低于50%时，逐渐恢复自身护甲。",skillUltimateName:"纯净坚城",skillUltimateDescription:"蕾欧娜充满弦能条，场上已存在方块和技能持续期间生成的方块永久变透明，透明方块将不再阻挡通路与友方子弹。",subName:"防弹护窗",subDescription:"蕾欧娜在已放置的方块表面横或纵向放置单向防弹玻璃。玻璃不可阻挡行进或技能，仅阻挡敌方子弹。玻璃生成会消耗技能点数及弦能条。防弹玻璃最多同时存在3个。"},Ming:{Name:"明",Type:"デュエリスト",skillActiveName:"プラズマフィールド",skillActiveDescription:"明が球電を発射し、最大距離に達するか、敵に接触または再発動すると爆発する。爆発は範囲内のすべての敵ユニット(召喚物を含む)のアーマーを破壊し、スロー効果を付与するプラズマフィールドを形成する。明がフィールド内に入ると移動速度が増加する",skillPassiveName:"エナジードレイン",skillPassiveDescription:"明は、武器やアクティブスキルで敵のアーマーやシールドにダメージを与えると、そのダメージに基づいて自身のアーマーを回復できる。アルティメットの持続時間中、パッシブで一時的なアーマーが回復し、回復量が増加する",skillUltimateName:"プラズマアーマー",skillUltimateDescription:"明は一時的なアーマーを獲得し、バレットが敵にヒットするとスロー効果を付与する。この効果は最大4層まで重ねられる。敵のアーマーにダメージを与えると、アルティメットの持続時間が延長され、アーマーも回復する",subName:"subName",subDescription:"subDescription"},Lawine:{Name:"ラヴィーネ",Type:"イニシエーター",skillActiveName:"影狩り",skillActiveDescription:"ラヴィーネはパルスナイフを投げ、パルス磁場を生成する。磁場内の敵はチームに可視化される。パルスナイフは敵を検出しない場合、または3回スキャン後に消失する",skillPassiveName:"影映し",skillPassiveDescription:"メイン武器で敵にダメージを与えると、敵が一時的にラヴィーネに可視化される",skillUltimateName:"影の帳",skillUltimateDescription:"ラヴィーネは前方に長方形の地場を生成する。磁場に入るとラヴィーネはステルス状態になり、攻撃とスキル発動が禁止される",subName:"subName",subDescription:"subDescription"},Meredith:{Name:"メレディス",Type:"コントローラー",skillActiveName:"風塵",skillActiveDescription:"メレディスは弦力オーブを投げ、着地地点で風塵を引き起こす。風塵はフィールド内の敵の移動速度とエルゴノミクスを一時的に低下し、HPを継続的に減少する",skillPassiveName:"マミータイム",skillPassiveDescription:"メレディスが滞空中に武器、スキル、または戦術アイテムを使用し、敵を照準すると、落下速度が減少する",skillUltimateName:"ドゥアトへの砂葬",skillUltimateDescription:"メレディスはピラミッドを投げだし、巨大な砂嵐フィールドを生成する。砂嵐は敵の視界を遮り、HPを継続的に減少する",subName:"subName",subDescription:"subDescription"},Reiichi:{Name:"令一",Type:"コントローラー",skillActiveName:"オプティカルベール",skillActiveDescription:"令一が自分の傘を用いて、縦または横に展開可能な光の幕を作り出し、視界を遮る",skillPassiveName:"夜明けのインサイト",skillPassiveDescription:"ADSモード中、令一は周期的に前方の敵と召喚物をスキャンする。検出された敵の姿が一時的に令一に可視化される",skillUltimateName:"聖光のバリア",skillUltimateDescription:"令一のアクティブスキルは即座にリセットされ、光の幕がバリアにアップグレードされる。敵の弾丸はバリアに遮断される",subName:"subName",subDescription:"subDescription"},Kanami:{Name:"香奈美",Type:"イニシエーター",skillActiveName:"エコーチャンバー",skillActiveDescription:"香奈美の次のショットはソナーディスクを発射し、着地地点の前方180°の範囲をスキャンして遮蔽物のない敵を検知する。検知された敵はチーム全体に可視化される",skillPassiveName:"サウンドポップ",skillPassiveDescription:"メイン武器の弾丸が着地するとソナーゾーンを生成する。ソナーゾーン内の敵は香奈美に短時間表示される",skillUltimateName:"ショータイム",skillUltimateDescription:"香奈美はホログラムライブを展開し、周囲の敵を引き寄せる。香奈美の歌に魅了された敵は減速し、照準もジャミングされる同時に、スタンされ、発射速度が低下する",subName:"subName",subDescription:"subDescription"},Eika:{Name:"アイカ",Type:"デュエリスト",skillActiveName:"イグニッションファイア",skillActiveDescription:"目の前に炎の檻を生成して、檻の壁を通過する敵に炎ダメージを与える。アイカが檻の中にいるとき、メイン武器が檻の中の敵へ追加の炎ダメージを与える。100ヒート：壁のダメージが増加する",skillPassiveName:"イグナイト",skillPassiveDescription:"銃撃が敵にあたると、最大100ヒートを獲得する。ヒートが最大のとき、弦化している敵に追加ダメージを与える。また、最大ヒート時に全てのヒートを消費して次のスキルを強化する",skillUltimateName:"プロミネンス",skillUltimateDescription:"最大3つの火炎嵐を放つ。嵐は敵を強制的に吹き飛ばして炎ダメージを与える。100ヒート：範囲が拡大、ダメージが増加して、敵が強調表示される",subName:"subName",subDescription:"subDescription"},Fragrans:{Name:"フラグランス",Type:"サポート",skillActiveName:"活力のトワレ",skillActiveDescription:"フラグランスは回数制限のある2種類の香水を放つことができる。発動後、フラグランスを中心に香水のエリアが生成され、エリア内の味方の射撃速度、または移動速度が上昇する。このバフ効果は時間とともに徐々に減少していき、効果時間が切れると消滅する",skillPassiveName:"癒しのアロマ",skillPassiveDescription:"フラグランスは周囲の味方と自身のヘルスを徐々に回復する",skillUltimateName:"激情のパルファム",skillUltimateDescription:"フラグランスが自身を中心とした強力な香水エリアを生成し、エリア内の味方の射撃速度、移動速度を大幅に上昇させ、ヘルスを回復させる。効果時間中、フラグランスは弦化および武器の使用ができなくなる代わりに大幅なダメージ軽減効果を獲得する",subName:"subName",subDescription:"subDescription"},Celestia:{Name:"星理恵",Type:"サポート",skillActiveName:"ステラアーク",skillActiveDescription:"星理恵がアクティブスキルを発動すると、ステラが自動的に周囲の味方1人を追跡し、その味方に一時的なアーマーを付与する。その後、ステラは星理恵に戻り、同じ効果を付与する",skillPassiveName:"ステラリング",skillPassiveDescription:"星理恵は周囲の味方と自身のアーマーを徐々に回復する",skillUltimateName:"ステラゲート",skillUltimateDescription:"アルティメット発動後、味方の距離マーカーが表示される。星理恵は味方を一人選び、自身とその味方のアーマーを増加し、相手の位置にテレポートする。ゲージが消える前に、アルティメットキーを押すと、テレポートはキャンセルされる。(アーマーの増加は維持される)",subName:"subName",subDescription:"subDescription"},Audrey:{Name:"オードリー",Type:"センチネル",skillActiveName:"火力全開",skillActiveDescription:"オードリーがマシンガンを銃架に設置して展開モードに入ると、発射速度が大幅に上昇する。リコイルが消え、リロードも不要になる。連続射撃により、ゲージがMAXになるとオーバーヒート状態になり、一時的に射撃ができなくなる",skillPassiveName:"ロイヤルシールド",skillPassiveDescription:"オードリーがADSモードまたは展開モードに入ると、正面に防御シールドを生成する。展開モード中はシールドの最大値が増加する",skillUltimateName:"戦術爆撃",skillUltimateDescription:"オードリーは6発のグレネードを発射できるグレネードランチャーを設置する。グレネードが着地すると爆発し、破片が敵と自身にダメージを与える火炎地帯を生成する",subName:"subName",subDescription:"subDescription"},Maddelena:{Name:"マダレーナ",Type:"コントローラー",skillActiveName:"ペイントショット",skillActiveDescription:"マダレーナがペイントを射出し、着弾地点にペイントエリアを作り出す。エリア内では、敵が減速し、弦化が禁止され、足跡が可視化される",skillPassiveName:"ペイントトラック",skillPassiveDescription:"マダレーナのメイン武器で敵にダメージを与えると、敵にスロー状態になり、足跡が可視化される",skillUltimateName:"ペイントバブル",skillUltimateDescription:"マダレーナは巨大なバブルを発射する。バブル内の敵は弦化禁止状態になり、足跡が可視化される。バブルが破裂すると、爆発範囲内の敵にスロー効果と弱体化を追加で付与する",subName:"subName",subDescription:"subDescription"},Fuchsia:{Name:"フューシャ",Type:"デュエリスト",skillActiveName:"ロレンチーニ",skillActiveDescription:"フューシャは並外れた近くで周囲の敵を探知し、自身にのみ一時的に可視化する。敵のHPが100以下になると、可視化が持続する。スキル範囲内に敵がいる場合、フューシャの移動速度が上昇する",skillPassiveName:"ホエールフォール",skillPassiveDescription:"フューシャがキルまたはアシストを取ると、倒された敵はその位置にエネルギー結晶をドロップする。フューシャが結晶に近づくと、自動的に吸収して自身のHPを回復する。ラウンド中に初めて結晶を獲得するとヒュｰシャのHPの最大値が増加する。この増加効果はラウンドが終了するまで継続する",skillUltimateName:"アドレナリン",skillUltimateDescription:"発射速度とエルゴノミクスが大幅に上昇する。アクティブスキルが発動すると、視界内の敵全体がハイライト表示される。エネルギー結晶を吸収すると、アルティメットの持続時間が延長される",subName:"subName",subDescription:"subDescription"},BaiMo:{Name:"ハクボク",Type:"デュエリスト",skillActiveName:"空で踊るぜ",skillActiveDescription:"弦化した白墨は前方に急速に突進し、メイン武器に弾薬を2発装填する。キルまたはアシストを取ると、クールダウンがリセットされる",skillPassiveName:"セイ・ホー！",skillPassiveDescription:"白墨のメイン武器からの単発射撃が敵に50以上のダメージを与えると、敵に弦化禁止状態を付与する",skillUltimateName:"リサイタルだ！",skillUltimateDescription:"ハクボクはビーコンを設置する。設置後、キーを再度押すと、ビーコンの位置にテレポートし、HPが完全に回復する。死亡またはダウンした場合も、ビーコンの位置でリスポーンできる",subName:"subName",subDescription:"subDescription"},Galatea:{Name:"ガラテア",Type:"イニシエーター",skillActiveName:"ピルエット",skillActiveDescription:"ガラテアがカードを放ち、壁や床に触れると破壊可能な分身を作り出す。ガラテアの分身は発生した瞬間に周囲の敵と召喚物を可視化状態にし、ガラテアと味方に共有する。また、分身を破壊した敵を一時的に可視化する。インタラクションボタンを押すと分身を破壊してテレポートする",skillPassiveName:"ミスディレクション",skillPassiveDescription:"ガラテアが壁張りつきを解除すると分身を残す。分身が破壊されるとクールダウンが発生する",skillUltimateName:"イリュージョン",skillUltimateDescription:"ガラテアがカードを3枚放ち、3体の分身を生成する。各分身にテレポートすることができる",subName:"subName",subDescription:"subDescription"}},characterTypes:{Sentinel:"センチネル",Support:"サポート",Controller:"コントローラー",Duellist:"デュエリスト",Initiator:"イニシエーター"},grenades:{Flashbang:"閃光弹",FragGrenade:"フラググレネード",HealingGrenade:"回復グレネード",Interceptor:"インターセプター",SlowGrenade:"减速ボム",SmokeBomb:"煙幕弾",Alarm:"警報器",WindstormGrenade:"風雷ボム",SnowBall:"雪玉"},others:{Bomb:"Bomb",BombA:"Bomb A",BombB:"Bomb B",BombC:"Bomb C",Focus:"Focus",Warning:"Warning",Flag:"Flag",Danger:"Danger"},markbox:{mark:"マーク",straightline:"直線",arrowline:"Arrow Line",color:"カラー",undo:"戻す",clear:"消去",clearwarning:{title:"全てのマークを消去しますか?",content:"この操作は元に戻せません",ok:"確認",cancel:"キャンセル",success:"全てのマークを消去しました",failure:"マークの削除に失敗しました"}}},bZ={language:ta.zh_CN,title:"卡拉彼丘地图助手",announcement:"公告",friendlink:"友情链接",sitelist:"切换网站节点",announcementdata:{notshowntoday:"今日不再显示",pin:{title:"新增超弦体-雷欧娜",date:"2025.1.23",summary:"各位新年快乐！（虽然这么说是不是晚了点），这次更新添加了超弦体-雷欧娜。新的地图因为要不到文件所以暂时更新不了（恼）。直到现在才更新也是因为迟迟要不到想要的美术素材（悲）。大家都在忙，能理解（哀）。",data:{}},history:[]},friendlinkdata:{classify:{official:"官方",wiki:"Wiki",others:"其他"},official:[{name:"",icon:_.jsx("img",{style:{height:"35px",filter:"brightness(1000%) drop-shadow(0 0 2px rgba(var(--semi-grey-7))"},src:"https://game.gtimg.cn/images/kq/m/web20230505/sec_ordlogo.png"}),url:"https://klbq.qq.com/"},{name:"",icon:_.jsx("img",{style:{height:"22px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-9))"},src:"https://klbq-web-cms.strinova.com/prod/strinova_static/home_v12/img/icon/logo-white.png"}),url:"https://www.strinova.com/"}],wiki:[{name:"",icon:_.jsx("img",{style:{height:"32px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-9))"},src:"https://s2.loli.net/2024/10/01/NQTMvDZ5ah4omYR.png"}),url:"https://wiki.biligame.com/klbq/"},{name:"Strinovajp Wiki",icon:_.jsx(_.Fragment,{}),url:"https://www.strinovajp-wiki.jp/index.html"},{name:"",icon:_.jsx("img",{style:{height:"22px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-1))"},src:"https://s2.loli.net/2024/10/01/R4UxmBPGd2f8kQ7.webp"}),url:"https://strinova.wiki.gg/wiki/Strinova_Wiki"},{name:"Miraheze Meta",icon:_.jsx(_.Fragment,{}),url:"https://strinova.org/wiki/"},{name:"日本語wiki",icon:_.jsx("img",{style:{height:"28px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-1))",marginRight:"8px"},src:"https://w.atwiki.jp/common/_img/atwiki_logo_small.svg?t=741a51e81c8c8d5fe9627b874ecad193"}),url:"https://w.atwiki.jp/calabiyau_jp/"}],others:[{name:"自建房助手",icon:_.jsx("img",{style:{height:"35px",filter:"drop-shadow(0 0 2px rgba(var(--semi-grey-1))",marginRight:"8px"},src:"https://s2.loli.net/2024/10/01/pmYnw16rL2PQWBy.png"}),url:"https://klbq.fsltech.cn/"}],contact:{content:_.jsxs("div",{style:{width:"100%",textAlign:"center"},children:["添加友链请联系 ",_.jsx("a",{href:"mailto:fsltech@email.cn",children:"fsltech@email.cn"})]})}},sitelistdata:{content:_.jsxs(_.Fragment,{children:[_.jsx("div",{children:"为了提供更快的访问速度以及减轻服务器压力，"}),_.jsx("div",{children:"我们开设了不同节点"})]}),Global:[{icon:_.jsx(_.Fragment,{children:_.jsx(Eh,{style:{color:"rgba(var(--semi-grey-9), 1)",fontSize:"20px",marginRight:"10px"}})}),content:"Github Page",url:"https://strinova.fsltech.cn/"}],CN:[{icon:_.jsx(_.Fragment,{}),content:"腾讯云CDN -  上海 - 1",url:"https://sh-1.strinova.fsltech.cn/"},{icon:_.jsx(_.Fragment,{}),content:"腾讯云CDN - 香港 - 1",url:"https://hk-1.strinova.fsltech.cn/"}]},supportusdata:{content:_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx("strong",{children:"卡拉彼丘地图助手"}),"是一款开源应用，"]}),_.jsx("div",{children:"因此你可以免费在 GPL-3.0 开源协议的范畴下使用本应用。"}),_.jsx("div",{children:"美术资料与部分UI版权归原作者与官方所有，"}),_.jsx("div",{children:"请咨询对应作者与官方授权！"}),_.jsx("br",{}),_.jsx("div",{children:"但即便如此，你的赞助也可以给予开发者前进的动力，让这个项目变得更好。"}),_.jsxs("div",{children:["无论你使用何种形式赞助，你都可以在",_.jsx("strong",{children:"卡拉彼丘地图助手"}),"的 GitHub 项目主页和网站展示您的信息（个人主页、公司主页、GitHub 资料页等）。"]}),_.jsxs("div",{children:["如需展示，请在留言中留下需要展示的内容或将内容连同赞助收据发送至 ",_.jsx("a",{href:"mailto:fsltech@email.cn",children:"fsltech@email.cn"})]})]}),global:"国际",CN:"中国境内",list:"赞助列表"},sidebar:{attact:"进攻",defense:"防守",mapsetting:"地图设置",character:"超弦体",skill:"技能",grenade:"战术道具",other:"其他",lineup:"战术道具点位",skilllineup:"技能点位",mobaisuperjump:"白墨超级跳点位",bugpoint:"Bug点位",bugpointwarning:_.jsxs("div",{style:{fontSize:"12px",textAlign:"left"},children:[_.jsx("div",{children:"这里列出的Bug点位仅用于警示作用，请勿在游戏中利于Bug！"}),_.jsx("div",{children:"在游戏中利用Bug导致被封禁等不良后果本站概不负责！"})]}),learnmore:"了解更多",supportus:"支持我们",supportusContent:_.jsx(_.Fragment,{})},mapsetting:{choosemap:"选择地图",maps:{WindyTown:"风曳镇",SpaceLab:"空间实验室",Khesmet:"科斯迷特",EulerPort:"欧拉港口",CauchyDistrict:"柯西街区",Area88:"88区",Base404:"404基地"},TeamHighlight:"区分阵营",TeamHighlightOptions:{prepare:"准备阶段",blank:"空白"},Landmarks:"点位标记"},lineupsetting:{spotmark:"点位标记",spotmarks:{disable:"禁用",available:"仅有效",all:"全部"}},skilllineupsetting:{spotmark:"点位标记",spotmarks:{disable:"禁用",available:"仅有效",all:"全部"}},mobaisuperjumpsetting:{spotmark:"点位标记",spotmarks:{disable:"禁用",available:"仅有效",all:"全部"}},bugpointsetting:{spotmark:"点位标记",spotmarks:{disable:"禁用",available:"仅有效",all:"全部"}},factions:{PUS:"欧泊",TheScissors:"剪刀手",Urbino:"乌尔比诺"},characters:{PUS:{Michele:"米雪儿·李",Nobunaga:"信",Kokona:"心夏",Yvette:"伊薇特",Flavia:"芙拉薇娅",Yugiri:"忧雾",Leona:"雷欧娜"},TheScissors:{Ming:"明",Lawine:"拉薇",Meredith:"梅瑞狄斯",Reiichi:"令",Kanami:"香奈美",Eika:"艾卡",Fragrans:"珐格兰丝"},Urbino:{Celestia:"星绘",Audrey:"奥黛丽",Maddelena:"白墨",Fuchsia:"玛德蕾娜",BaiMo:"绯莎",Galatea:"加拉蒂亚"}},characterInfo:{Michele:{Name:"米雪儿·李",Type:"守护",skillActiveName:"喵喵卫士",skillActiveDescription:"米雪儿投掷可附着在建筑表面的喵喵卫士，喵喵卫士将自动攻击一定范围内的敌方角色，并使其减速。",skillPassiveName:"猫踪喵迹",skillPassiveDescription:"米雪儿被武器直接命中时，可以使造成伤害的敌人进入透视状态。",skillUltimateName:"火力大喵",skillUltimateDescription:"米雪儿部署一架强大火力的火力炮艇，火力炮艇将自动攻击一定范围内的敌方角色。",subName:"破法喵喵",subDescription:"米雪儿抛出能附着在建筑表面的破法喵喵，破法喵喵可被米雪儿主动激活，并在短暂延迟后对周围敌人造成沉默效果。"},Nobunaga:{Name:"信",Type:"守护",skillActiveName:"守望之眼",skillActiveDescription:"信可布置至多两个守望之眼，在守望之眼的范围内将获得射速和人机工效提升并回复护甲；两个守望之眼互相连接时，增益效果提升。",skillPassiveName:"致盲脉冲",skillPassiveDescription:"开镜状态下的信开始积蓄能量，能量续满后，他的射击将使敌人在开镜状态下丢失准星。",skillUltimateName:"脉冲过载",skillUltimateDescription:"信原地部署一个向四周不断发射脉冲波的脉冲装置，被脉冲波命中的敌人将被透视给全体队友且进入一段时间的沉默状态。",subName:"脉冲地雷",subDescription:"信向目标方向投出一个地雷，地雷部署完毕后会进入敌方靠近后才会显形的隐身状态，当地雷检测到敌人后会引爆并对范围内的敌人造成持续伤害。"},Kokona:{Name:"心夏",Type:"支援",skillActiveName:"治疗无人机",skillActiveDescription:"心夏选择自己或一个友方角色为目标生成—个治疗无人机，无人机可以为被释放目标回复护甲，并给无人机周围所有友方目标回复生命值。",skillPassiveName:"急速救援",skillPassiveDescription:"心夏会在未受击时缓慢回复自身生命值，同时在救援友方角色时，心夏会放出援护无人机自动扶起队友。",skillUltimateName:"卡丘重塑",skillUltimateDescription:"心夏选择一个阵亡的友方角色，将其复活在自己附近。",subName:"医疗站点",subDescription:"心夏可以定点部署一个治疗无人机，无人机会制造一大片治疗场，处在区域内的队友会持续恢复生命值，该恢复效果不会被伤害中断。"},Yvette:{Name:"伊薇特",Type:"控场",skillActiveName:"熊熊出击",skillActiveDescription:"伊薇特召出战术熊，熊可以冲撞，撞到障碍物或是再次按下左键会在地面上留下冰面。冰面附带打滑和易伤效果。",skillPassiveName:"皑皑藏雪",skillPassiveDescription:"伊薇特站立不动一段时间后，会进入迷彩状态，远处的敌人看不见伊薇特，当愈发靠近时才会慢慢显示其轮廓。",skillUltimateName:"爽爽霜风",skillUltimateDescription:"伊薇特召唤出一只巨大的冰霜熊，分三段展开极寒领域，敌人在此将受到打滑和易伤，降低射速及人机工效的效果。",subName:"坚坚冰柱",subDescription:"伊薇特可以投掷出一个冰球，冰球落在地面后会在落点生成一块巨大的冰柱，冰柱拥有高额生命值且会阻挡敌我双方的子弹，站在冰柱附近的敌人会受到打滑和易伤的效果，冰柱无法在有角色或召唤物的地方生成。"},Flavia:{Name:"芙拉薇娅",Type:"决斗",skillActiveName:"致幻魅影",skillActiveDescription:"芙拉薇娅召唤幻蝶短时间跟随自己，期间受到攻击损失生命值时进入短时间的无敌状态并原地生成一个致幻球。致幻球限制敌方视野且可被击碎。",skillPassiveName:"周生复始",skillPassiveDescription:"芙拉薇娅累计受到少量伤害时会减少主动技能的冷却时间；累计受到大量伤害时会获得临时绝招点数，通过此方式获得的绝招点数当前回合有效。",skillUltimateName:"幻梦化蝶",skillUltimateDescription:"芙拉薇娅以自身为中心释放致幻领域，领域内的敌方单位造成致命伤害时，芙拉薇娅会化身为蝴蝶，短时间后重塑身体，继续战斗。领域外敌方无视重塑规则但仅在被攻击时可视芙拉薇娅。",subName:"遁入幻境",subDescription:"芙拉薇娅引动弦能，以自身为中心生成遮蔽视野的烟雾。芙拉薇娅可以在化蝶状态使用该技能，这样做将立即解除化蝶状态。"},Yugiri:{Name:"忧雾",Type:"控场",skillActiveName:"蚀甲毒雾",skillActiveDescription:"布置一个蜗牛装置，激活后可产生球形毒雾，临时腐蚀附近敌方角色的护甲。",skillPassiveName:"毒雾爆发",skillPassiveDescription:"使用主武器对敌方角色造成一定量的生命值伤害后，会引爆敌人体内的腐蚀性毒素，临时腐蚀附近敌方角色的护甲。",skillUltimateName:"凌毒侵蚀",skillUltimateDescription:"召唤大范围的毒雾向前方缓慢推进，腐蚀范围内敌方角色的护甲上限。",subName:"腐蚀溶液",subDescription:"忧雾向目标区域投掷毒液装置，毒液装置落地时会爆开并制造一片腐蚀区域，对区域内的敌人造成伤害与减速效果，弦化状态的敌人受到额外伤害。"},Leona:{Name:"蕾欧娜",Type:"守护",skillActiveName:"弦能掩墙",skillActiveDescription:"蕾欧娜可以在指定平地或斜坡生成两种角度的正方形建筑块。方块生成会消耗技能点数及弦能条。方块最多同时存在16个。",skillPassiveName:"劳逸结合",skillPassiveDescription:"蕾欧娜在弦化状态会持续恢复弦能，当弦能高于50%时，提高自身移动速度；低于50%时，逐渐恢复自身护甲。",skillUltimateName:"纯净坚城",skillUltimateDescription:"蕾欧娜充满弦能条，场上已存在方块和技能持续期间生成的方块永久变透明，透明方块将不再阻挡通路与友方子弹。",subName:"防弹护窗",subDescription:"蕾欧娜在已放置的方块表面横或纵向放置单向防弹玻璃。玻璃不可阻挡行进或技能，仅阻挡敌方子弹。玻璃生成会消耗技能点数及弦能条。防弹玻璃最多同时存在3个。"},Ming:{Name:"明",Type:"决斗",skillActiveName:"破甲电球",skillActiveDescription:"明发射一个电球，其达到最大距离、碰到敌方超弦体时会自动引爆，也可通过手动再次按下技能键后主动引爆。电球会破坏范围内所有敌方单位（包含召唤物）的护甲并造成减速。明进入电场将提升移动速度。",skillPassiveName:"吸能赋甲",skillPassiveDescription:"明使用枪械和主动技能对敌方护甲或护盾造成伤害时，自己的护甲将得到基于该伤害量的回复。绝招持续时间内，被动会回复临时护甲并增加回复量。",skillUltimateName:"强雷铸甲",skillUltimateDescription:"明获得临时护甲并使自己的射击附带可叠加的减速效果。明使用枪械和主动技能对敌人的护甲造成伤害时，可延长该技能持续时间并回复临时护甲。",subName:"爆闪电球",subDescription:"明可以发射一个闪光电球，再次按下技能键后或是到达最大飞行时间后引爆，并对周围所有敌人造成致盲效果，引爆前有一段延迟，延迟期间内闪光电球可以被摧毁。"},Lawine:{Name:"拉薇",Type:"先锋",skillActiveName:"寻影猎刃",skillActiveDescription:"拉薇投掷脉冲刀，制造一个磁力场，将一定范围内的敌方单位暴露给拉薇及其队友，脉冲刀每次扫描探测不到敌人时会立刻消失，最多扫描三次。",skillPassiveName:"曝影显踪",skillPassiveDescription:"拉薇主武器命中敌方单位时，会将其短暂透视给自己。",skillUltimateName:"遁影藏踪",skillUltimateDescription:"拉薇于自身正前方生成一片矩形磁场。进入磁场时，拉薇将进入隐身状态。隐身状态下的拉薇无法射击。",subName:"闪影猎刃",subDescription:"拉薇可以扔出一把闪光脉冲刀，脉冲刀插在障碍物上后引爆，并对周围所有敌人造成致盲效果，引爆前有一段延迟，延迟期间内飞刀可以被摧毁。"},Meredith:{Name:"梅瑞狄斯",Type:"控场",skillActiveName:"金沙热浪",skillActiveDescription:"梅瑞狄斯打出一颗弦能球体，于落点处创造一片黄沙领域，降低敌方角色移速和人机工效一段时间并暂时削减其生命值。",skillPassiveName:"时零沙环",skillPassiveDescription:"滞空状态下，当梅瑞狄斯进入技能瞄准、武器瞄准或者战术瞄准的状态时，自身的下落速度会被降低。",skillUltimateName:"流沙大葬",skillUltimateDescription:"梅瑞狄斯投掷出一个能制造巨大沙暴领域的金字塔。沙暴领域可以遮蔽视野，并暂时削减敌方角色生命值。",subName:"盲眼迷沙",subDescription:"梅瑞狄斯向目标方向发射弦能球体，于落点处创造一片完全遮蔽视野的环状黄沙领域。"},Reiichi:{Name:"令",Type:"控场",skillActiveName:"破晓帷幕",skillActiveDescription:"令使用自己的伞制造出一堵可以纵向释放或者横向释放的弦能光幕，光幕会遮蔽视野。",skillPassiveName:"黎明洞悉",skillPassiveDescription:"在保持开镜状态时，令每一段时间会扫描一遍前方敌人及其召唤物，使其透视，仅令可见。",skillUltimateName:"庇护圣屏",skillUltimateDescription:"立即刷新主动技能，在持续时间内增强光幕，使其能够格挡所有来自敌方角色的子弹。",subName:"圣屏突进",subDescription:"令释放一个可以向前推进的光幕，该光幕在准备释放阶段能够设置最终落点。"},Kanami:{Name:"香奈美",Type:"先锋",skillActiveName:"旋律回响",skillActiveDescription:"香奈美可以用枪射出声呐片，声呐片会释放出声波实时探查其前方180°一定范围内无建筑障碍物遮挡的敌人，被发现的敌人会暴露给香奈美及其队友。",skillPassiveName:"交响爆音",skillPassiveDescription:"香奈美的主武器发射子弹之后，会以子弹落点范围产生一个圆形音波区，处在音波区内的敌人信息会被暴露给香奈美自己。",skillUltimateName:"演出开始",skillUltimateDescription:"香奈美在战场内展开舞台，舞台展开后开始播放音乐，所有在舞台一定范围内的敌人都会被歌声吸引、减速、丢失准星的同时还会被晕眩，降低射速。",subName:"律动旋风",subDescription:"香奈美可以扔出一个迷你音响，制造一大片声风场区域，该风场会将所有进入风场内的角色吹起。在被吹起期间，敌方角色受到晕眩效果，友方角色获得移速提升效果，上述效果在离开风场区域后还会持续一段时间。"},Eika:{Name:"艾卡",Type:"决斗",skillActiveName:"炼狱牢笼",skillActiveDescription:"在面前生成一个球形火牢，敌人穿过牢壁受到火焰伤害，牢内没敌人时提前结束。艾卡在火牢内，主武器对内部敌人造成额外火焰伤害。消耗100热量所获增益：牢壁的伤害更高。",skillPassiveName:"日珥蓄火",skillPassiveDescription:"每次射击命中敌人会积攒热量，最多100值。满热时对弦化敌人造伤能力增强。满热下，其他技能可以消耗热量获得强化。",skillUltimateName:"烈焰风暴",skillUltimateDescription:"本回合内最多丢出3道烈焰风暴，吹飞敌人并造成火焰伤害。每发消耗100热量所获增益：风暴更大，伤害更高，且敌人高亮。",subName:"爆焰热弹",subDescription:"艾卡可以快速丢出一枚爆焰火球，火球落地时造成伤害，对弦化状态的敌人造成额外伤害。消耗100热量所获增益：提升伤害并附带减速效果。"},Fragrans:{Name:"珐格兰丝",Type:"支援",skillActiveName:"活力芬芳",skillActiveDescription:"珐格兰丝可以释放两种有限数量的香水。释放后会以自己为中心创造香氛区域，区域内己方会获得射速或移速提升，香氛效果会随着时间推移逐渐减弱，最终消失。",skillPassiveName:"复苏芳香",skillPassiveDescription:"珐格兰丝会散发淡淡的恢复香氛，附近的队友和自己都会缓慢恢复生命值。",skillUltimateName:"激昂芬芳",skillUltimateDescription:"珐格兰丝会以自己为中心制造强烈香氛区域，区域内友军会获得高额射速、移速提升和生命值恢复，该效果不会衰减且生命值恢复不会被伤害中断，释放期间珐格兰丝无法使用武器，但会获得大幅减伤。",subName:"香语众氛",subDescription:"珐格兰丝投掷出一瓶治疗香水，治疗香水触碰到障碍物时爆炸生效，制造一片回复生命区域，进入区域内的人会被赋予一段缓慢回复生命效果，即使离开区域也会持续一段时间。"},Celestia:{Name:"星绘",Type:"支援",skillActiveName:"守护星芒",skillActiveDescription:"星绘选择一个友方角色，投掷流星弦能，赋予其临时护甲。之后流星弦能将返回星绘身边，赋予星绘临时护甲。",skillPassiveName:"星弦甲生",skillPassiveDescription:"星绘周围有友方角色时，可缓慢恢复该角色与自身的护甲值。",skillUltimateName:"星空之门",skillUltimateDescription:"星绘选择一个友方角色，为该队友和自身提供临时护甲值，并开始蓄能。蓄能完毕后，星绘将传送到该角色身边，蓄能期间按下大招键可取消传送（不取消护甲增益）。",subName:"塑甲星芒",subDescription:"星绘向目标区域掷出星芒，星芒触碰到障碍物时爆炸生效，制造一片回复护甲区域，进入区域内的人会被赋予一段缓慢回复护甲效果，即使离开区域也会持续一段时间。"},Audrey:{Name:"奥黛丽",Type:"守护",skillActiveName:"重火倾泄",skillActiveDescription:"进入架设状态，大幅提升射速，无后坐力，连续射击不需更换弹匣。若奥黛丽的连续射击时间过长，便会进入枪口过热状态无法射击。",skillPassiveName:"皇家盾牌",skillPassiveDescription:"奥黛丽进入架枪模式或进入开镜模式时，召唤护盾守护自身正面，且架枪模式下会获得额外护盾最大值。",skillUltimateName:"狂轰滥炸",skillUltimateDescription:"奥黛丽架设一把榴弹发射器，可发射六枚榴弹炮。榴弹炮爆炸后会分裂成弹跳炸弹，弹跳炸弹爆炸时将于地面生成火海。",subName:"警报雷达",subDescription:"奥黛丽丢出一个警报雷达，雷达落地后展开并对周围持续进行扫描，扫描到敌人时提示敌人的数量并对敌人施加短暂透视效果。"},Maddelena:{Name:"玛德蕾娜",Type:"控场",skillActiveName:"颜料束缚",skillActiveDescription:"玛德蕾娜发射一滩颜料，经过这滩颜料的敌人将被减速、弦化禁止并暴露脚印。",skillPassiveName:"颜料脚印",skillPassiveDescription:"玛德蕾娜使用主武器命中敌方角色时，可使敌方角色减速并暴露脚印。",skillUltimateName:"颜料泡泡",skillUltimateDescription:"玛德蕾娜发射巨大泡泡，泡泡内的敌人将被禁止弦化且暴露脚印。泡泡爆炸后将对爆炸范围内的敌人施加额外的减速和易伤效果。",subName:"颜料泡涌",subDescription:"玛德蕾娜向前方发射颜料泡，再次按下技能键后颜料泡会停留在原地，颜料泡会对碰到的敌人造成减速和弦化禁止效果。"},Fuchsia:{Name:"绯莎",Type:"决斗",skillActiveName:"残息追踪",skillActiveDescription:"对周围敌人感知，满血敌人被短暂透视，生命值不满则被持续透视，上述效果仅自己可视。感应到敌人将增加绯莎的移动速度。",skillPassiveName:"以战养战",skillPassiveDescription:"绯莎参与击破时，死亡的敌人将原地掉落能量晶体。绯莎可以靠近并吸收能量晶体，回复自身生命值。绯莎第一次吸取能量晶体时可增加自身生命值上限。",skillUltimateName:"浴血狂戮",skillUltimateDescription:"绯莎大幅度提升自身的射速和人机工效，并使得主动技能可令视野内敌人高亮。吸收能量晶体将延长该效果持续时间。",subName:"猩红猛冲",subDescription:"绯莎消耗当前一定百分比生命值，获得移速提升效果，持续一段时间。"},BaiMo:{Name:"白墨",Type:"决斗",skillActiveName:"炫空斗舞",skillActiveDescription:"白墨进入弦化状态，向前翻转跳跃贴近敌人，并为主武器自动补充子弹。白墨参与击破将刷新冷却。",skillPassiveName:"嘻哈嘣彩",skillPassiveDescription:"白墨的主武器单次射击命中敌人造成至少50点伤害后，使其弦化禁止。",skillUltimateName:"重返街头",skillUltimateDescription:"白墨原地放置一个重生信标，死亡或倒地时可以立即在信标处重生。白墨可以选择主动返回信标，并回复全部生命值。",subName:"爆炸涂鸦",subDescription:"白墨快速向前投掷出颜料罐，颜料罐爆炸时对周围敌人造成禁止弦化效果。"},Galatea:{Name:"加拉蒂亚",Type:"先锋",skillActiveName:"飞牌瞬闪",skillActiveDescription:"加拉蒂亚释放出一张卡牌以弧线飞出，卡牌碰到地面、墙面时会生成分身，按下交互键可以传送到分身位置。",skillPassiveName:"欺诈牌影",skillPassiveDescription:"当加拉蒂亚脱离墙面时，会在贴墙位置留下一个分身，每次下墙都会重新生成分身，当分身受伤时该被动进入冷却。加拉蒂亚的每一个分身在生成时都可以短暂探测周围无建筑障碍物遮挡的敌人给加拉蒂亚及全体友方，攻击分身的敌人也会被暂时暴露。",skillUltimateName:"牌影戏法",skillUltimateDescription:"加拉蒂亚朝前方随意投出大量卡牌，每一个卡牌都可以生成分身并让加拉蒂亚传送。",subName:"致盲牌影",subDescription:"加拉蒂亚可以释放一个特殊的卡片分身，加拉蒂亚无法传送到该分身的位置，该分身被敌人摧毁时，会对周围所有敌人造成闪光效果。"}},characterTypes:{Sentinel:"守护",Support:"支援",Controller:"控场",Duellist:"决斗",Initiator:"先锋"},grenades:{Flashbang:"闪光弹",FragGrenade:"手雷",HealingGrenade:"治疗雷",Interceptor:"拦截者",SlowGrenade:"减速雷",SmokeBomb:"烟雾弹",Alarm:"警报器",WindstormGrenade:"风场雷",SnowBall:"雪球"},others:{Bomb:"Bomb",BombA:"Bomb A",BombB:"Bomb B",BombC:"Bomb C",Focus:"Focus",Warning:"Warning",Flag:"Flag",Danger:"Danger"},markbox:{mark:"画笔",straightline:"直线",arrowline:"箭头",color:"颜色",undo:"撤销",clear:"清空",clearwarning:{title:"确认清除所有笔迹？",content:"此操作不可撤销",ok:"确认",cancel:"取消",success:"已清除所有笔迹",failure:"清除笔迹失败"}}},Ow={English:vZ,日本語:yZ,简体中文:bZ};var jc=(n=>(n.WindyTown="WindyTown",n.SpaceLab="SpaceLab",n.Khesmet="Khesmet",n.EulerPort="EulerPort",n.CauchyDistrict="CauchyDistrict",n.Area88="Area88",n.Base404="Base404",n))(jc||{});const _f=[{map:"WindyTown",imgPrepareLink:"https://s2.loli.net/2024/09/24/Shk6rXTwvAlDGMC.png",imgBlankLink:"https://s2.loli.net/2024/09/24/85uxWct3DeRByTO.png"},{map:"SpaceLab",imgPrepareLink:"https://s2.loli.net/2024/09/24/QI6hnMtsJpSCKgE.png",imgBlankLink:"https://s2.loli.net/2024/09/24/KxUYEBqdlyZ92rC.png"},{map:"Khesmet",imgPrepareLink:"https://s2.loli.net/2024/09/24/QnNZHhT4wDbFxIO.png",imgBlankLink:"https://s2.loli.net/2024/09/24/jroCB9iqR1l5LDp.png"},{map:"EulerPort",imgPrepareLink:"https://s2.loli.net/2024/09/24/Md2Pa1HKtJyk7oO.png",imgBlankLink:"https://s2.loli.net/2024/09/24/NGWk2HXwSvmdgOY.png"},{map:"CauchyDistrict",imgPrepareLink:"https://s2.loli.net/2024/09/24/Uw3ftVPQOLu5MCj.png",imgBlankLink:"https://s2.loli.net/2024/09/24/cLDQtdwAJyr2k7T.png"},{map:"Area88",imgPrepareLink:"https://s2.loli.net/2024/09/24/wouqxsUy1JaP8l6.png",imgBlankLink:"https://s2.loli.net/2024/09/24/YBUsSC78oOrx16W.png"},{map:"Base404",imgPrepareLink:"https://s2.loli.net/2024/09/24/XfMi4qcV5zmTy78.png",imgBlankLink:"https://s2.loli.net/2024/09/24/pjGMHJClRsXEoAf.png"}],Iw=({presentMap:n,mapPrepareMode:e,drawCanvasEditor:t})=>({v:"1.0.0",map:n,mapHighlight:e,editor:t==null?void 0:t.export.toJson()}),dc=({json:n,setPresentMap:e,setPresentMapURL:t,setMapPrepareMode:r,drawCanvasEditor:i})=>{if(n.map in jc){e(n.map);for(const s of _f)s.map===n.map&&(i==null||i.reset(),t({imgPrepareLink:s.imgPrepareLink,imgBlankLink:s.imgBlankLink}))}n.mapHighlight!=null&&r(n.mapHighlight),n.editor&&(i==null||i.import.json(n.editor))},wZ=({presentMap:n,mapPrepareMode:e,drawCanvasEditor:t})=>{const r=document.createElement("a"),i=new Blob([JSON.stringify(Iw({presentMap:n,mapPrepareMode:e,drawCanvasEditor:t}))],{type:"text/plain"}),s=new Date,o=s.getFullYear().toString()+(s.getMonth()+1<10?"0":"")+(s.getMonth()+1).toString()+(s.getDate()<10?"0":"")+s.getDate().toString()+s.getHours().toString()+s.getMinutes().toString()+s.getSeconds().toString();r.href=URL.createObjectURL(i),r.download=`SMA_${n.replace(/ /g,"_")}_${o}.json`,r.click()},CZ=({setPresentMap:n,setPresentMapURL:e,setMapPrepareMode:t,drawCanvasEditor:r})=>{const i=document.createElement("input");i.type="file",i.accept=".json",i.addEventListener("change",function(s){const o=s.target.files[0],a=new FileReader;a.onload=function(A){dc({setPresentMap:n,setPresentMapURL:e,setMapPrepareMode:t,drawCanvasEditor:r,json:JSON.parse(A.target.result)})},a.readAsText(o)}),i.click()};class BZ{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const t of this._parts)e.push(t);return xZ(e).buffer}}function xZ(n){let e=0;for(const i of n)e+=i.byteLength;const t=new Uint8Array(e);let r=0;for(const i of n){const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);t.set(s,r),r+=i.byteLength}return t}function fT(n){return new _Z(n).unpack()}function pT(n){const e=new SZ,t=e.pack(n);return t instanceof Promise?t.then(()=>e.getBuffer()):e.getBuffer()}class _Z{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t}unpack_uint32(){const e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t}unpack_uint64(){const e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t}unpack_string(e){const t=this.read(e);let r=0,i="",s,o;for(;r<e;)s=t[r],s<160?(o=s,r++):(s^192)<32?(o=(s&31)<<6|t[r+1]&63,r+=2):(s^224)<16?(o=(s&15)<<12|(t[r+1]&63)<<6|t[r+2]&63,r+=3):(o=(s&7)<<18|(t[r+1]&63)<<12|(t[r+2]&63)<<6|t[r+3]&63,r+=4),i+=String.fromCodePoint(o);return this.index+=e,i}unpack_array(e){const t=new Array(e);for(let r=0;r<e;r++)t[r]=this.unpack();return t}unpack_map(e){const t={};for(let r=0;r<e;r++){const i=this.unpack();t[i]=this.unpack()}return t}unpack_float(){const e=this.unpack_uint32(),t=e>>31,r=(e>>23&255)-127,i=e&8388607|8388608;return(t===0?1:-1)*i*2**(r-23)}unpack_double(){const e=this.unpack_uint32(),t=this.unpack_uint32(),r=e>>31,i=(e>>20&2047)-1023,o=(e&1048575|1048576)*2**(i-20)+t*2**(i-52);return(r===0?1:-1)*o}read(e){const t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")}}class SZ{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const t=e.constructor;if(e instanceof Array){const r=this.pack_array(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const r=e;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(t==Object||t.toString().startsWith("class")){const r=this.pack_object(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${t.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const t=e.length;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this._bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const t=this._textEncoder.encode(e),r=t.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_array(e){const t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this._bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");const r=i=>{if(i<t){const s=this.pack(e[i]);return s instanceof Promise?s.then(()=>r(i+1)):r(i+1)}};return r(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let t=0;e<0&&(t=1,e=-e);const r=Math.floor(Math.log(e)/Math.LN2),i=e/2**r-1,s=Math.floor(i*2**52),o=2**32,a=t<<31|r+1023<<20|s/o&1048575,A=s%o;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(A)}pack_object(e){const t=Object.keys(e),r=t.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const i=s=>{if(s<t.length){const o=t[s];if(e.hasOwnProperty(o)){this.pack(o);const a=this.pack(e[o]);if(a instanceof Promise)return a.then(()=>i(s+1))}return i(s+1)}};return i(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const t=e&4294967295;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_uint64(e){const t=e/4294967296,r=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const t=Math.floor(e/4294967296),r=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new BZ,this._textEncoder=new TextEncoder}}let gT=!0,mT=!0;function wd(n,e,t){const r=n.match(e);return r&&r.length>=t&&parseInt(r[t],10)}function ha(n,e,t){if(!n.RTCPeerConnection)return;const r=n.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return i.apply(this,arguments);const A=c=>{const l=t(c);l&&(a.handleEvent?a.handleEvent(l):a(l))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,A),i.apply(this,[o,A])};const s=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(a))return s.apply(this,arguments);const A=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,A])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function EZ(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(gT=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function FZ(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(mT=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function vT(){if(typeof window=="object"){if(gT)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Uw(n,e){mT&&console.warn(n+" is deprecated, please use "+e+" instead.")}function TZ(n){const e={browser:null,version:null};if(typeof n>"u"||!n.navigator||!n.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:t}=n;if(t.userAgentData&&t.userAgentData.brands){const r=t.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(t.mozGetUserMedia)e.browser="firefox",e.version=wd(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection)e.browser="chrome",e.version=wd(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.RTCPeerConnection&&t.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=wd(t.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function JB(n){return Object.prototype.toString.call(n)==="[object Object]"}function yT(n){return JB(n)?Object.keys(n).reduce(function(e,t){const r=JB(n[t]),i=r?yT(n[t]):n[t],s=r&&!Object.keys(i).length;return i===void 0||s?e:Object.assign(e,{[t]:i})},{}):n}function ky(n,e,t){!e||t.has(e.id)||(t.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?ky(n,n.get(e[r]),t):r.endsWith("Ids")&&e[r].forEach(i=>{ky(n,n.get(i),t)})}))}function ZB(n,e,t){const r=t?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const s=[];return n.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&s.push(o)}),s.forEach(o=>{n.forEach(a=>{a.type===r&&a.trackId===o.id&&ky(n,a,i)})}),i}const qB=vT;function bT(n,e){const t=n&&n.navigator;if(!t.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const A={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const l=typeof a[c]=="object"?a[c]:{ideal:a[c]};l.exact!==void 0&&typeof l.exact=="number"&&(l.min=l.max=l.exact);const h=function(u,d){return u?u+d.charAt(0).toUpperCase()+d.slice(1):d==="deviceId"?"sourceId":d};if(l.ideal!==void 0){A.optional=A.optional||[];let u={};typeof l.ideal=="number"?(u[h("min",c)]=l.ideal,A.optional.push(u),u={},u[h("max",c)]=l.ideal,A.optional.push(u)):(u[h("",c)]=l.ideal,A.optional.push(u))}l.exact!==void 0&&typeof l.exact!="number"?(A.mandatory=A.mandatory||{},A.mandatory[h("",c)]=l.exact):["min","max"].forEach(u=>{l[u]!==void 0&&(A.mandatory=A.mandatory||{},A.mandatory[h(u,c)]=l[u])})}),a.advanced&&(A.optional=(A.optional||[]).concat(a.advanced)),A},i=function(a,A){if(e.version>=61)return A(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(l,h,u){h in l&&!(u in l)&&(l[u]=l[h],delete l[h])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const l=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(t.mediaDevices.getSupportedConstraints&&t.mediaDevices.getSupportedConstraints().facingMode&&!l)){delete a.video.facingMode;let h;if(c.exact==="environment"||c.ideal==="environment"?h=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(h=["front"]),h)return t.mediaDevices.enumerateDevices().then(u=>{u=u.filter(p=>p.kind==="videoinput");let d=u.find(p=>h.some(f=>p.label.toLowerCase().includes(f)));return!d&&u.length&&h.includes("back")&&(d=u[u.length-1]),d&&(a.video.deviceId=c.exact?{exact:d.deviceId}:{ideal:d.deviceId}),a.video=r(a.video),qB("chrome: "+JSON.stringify(a)),A(a)})}a.video=r(a.video)}return qB("chrome: "+JSON.stringify(a)),A(a)},s=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,A,c){i(a,l=>{t.webkitGetUserMedia(l,A,h=>{c&&c(s(h))})})};if(t.getUserMedia=o.bind(t),t.mediaDevices.getUserMedia){const a=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(A){return i(A,c=>a(c).then(l=>{if(c.audio&&!l.getAudioTracks().length||c.video&&!l.getVideoTracks().length)throw l.getTracks().forEach(h=>{h.stop()}),new DOMException("","NotFoundError");return l},l=>Promise.reject(s(l))))}}}function wT(n){n.MediaStream=n.MediaStream||n.webkitMediaStream}function CT(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("ontrack"in n.RTCPeerConnection.prototype)){Object.defineProperty(n.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let s;n.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):s={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(i=>{let s;n.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.id):s={track:i};const o=new Event("track");o.track=i,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else ha(n,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function BT(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("getSenders"in n.RTCPeerConnection.prototype)&&"createDTMFSender"in n.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(a,A){let c=i.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};const s=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(a){s.apply(this,arguments);const A=this._senders.indexOf(a);A!==-1&&this._senders.splice(A,1)}}const t=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],t.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{const a=this._senders.find(A=>A.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof n=="object"&&n.RTCPeerConnection&&"getSenders"in n.RTCPeerConnection.prototype&&"createDTMFSender"in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!("dtmf"in n.RTCRtpSender.prototype)){const e=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function xT(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver))return;if(!("getStats"in n.RTCRtpSender.prototype)){const t=n.RTCPeerConnection.prototype.getSenders;t&&(n.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(o=>o._pc=this),s});const r=n.RTCPeerConnection.prototype.addTrack;r&&(n.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),n.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>ZB(o,s.track,!0))}}if(!("getStats"in n.RTCRtpReceiver.prototype)){const t=n.RTCPeerConnection.prototype.getReceivers;t&&(n.RTCPeerConnection.prototype.getReceivers=function(){const i=t.apply(this,[]);return i.forEach(s=>s._pc=this),i}),ha(n,"track",r=>(r.receiver._pc=r.srcElement,r)),n.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>ZB(s,i.track,!1))}}if(!("getStats"in n.RTCRtpSender.prototype&&"getStats"in n.RTCRtpReceiver.prototype))return;const e=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){const r=arguments[0];let i,s,o;return this.getSenders().forEach(a=>{a.track===r&&(i?o=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===r&&(s?o=!0:s=a),a.track===r)),o||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function _T(n){n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const A=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(A)===-1&&this._shimmedLocalStreams[a.id].push(A):this._shimmedLocalStreams[a.id]=[a,A],A};const t=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(h=>h.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();t.apply(this,arguments);const A=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(A)};const r=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const i=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const A=this._shimmedLocalStreams[a].indexOf(o);A!==-1&&this._shimmedLocalStreams[a].splice(A,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function ST(n,e){if(!n.RTCPeerConnection)return;if(n.RTCPeerConnection.prototype.addTrack&&e.version>=65)return _T(n);const t=n.RTCPeerConnection.prototype.getLocalStreams;n.RTCPeerConnection.prototype.getLocalStreams=function(){const l=t.apply(this);return this._reverseStreams=this._reverseStreams||{},l.map(h=>this._reverseStreams[h.id])};const r=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(l){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.getTracks().forEach(h=>{if(this.getSenders().find(d=>d.track===h))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[l.id]){const h=new n.MediaStream(l.getTracks());this._streams[l.id]=h,this._reverseStreams[h.id]=l,l=h}r.apply(this,[l])};const i=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(l){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[l.id]||l]),delete this._reverseStreams[this._streams[l.id]?this._streams[l.id].id:l.id],delete this._streams[l.id]},n.RTCPeerConnection.prototype.addTrack=function(l,h){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const u=[].slice.call(arguments,1);if(u.length!==1||!u[0].getTracks().find(f=>f===l))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(f=>f.track===l))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const p=this._streams[h.id];if(p)p.addTrack(l),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const f=new n.MediaStream([l]);this._streams[h.id]=f,this._reverseStreams[f.id]=h,this.addStream(f)}return this.getSenders().find(f=>f.track===l)};function s(c,l){let h=l.sdp;return Object.keys(c._reverseStreams||[]).forEach(u=>{const d=c._reverseStreams[u],p=c._streams[d.id];h=h.replace(new RegExp(p.id,"g"),d.id)}),new RTCSessionDescription({type:l.type,sdp:h})}function o(c,l){let h=l.sdp;return Object.keys(c._reverseStreams||[]).forEach(u=>{const d=c._reverseStreams[u],p=c._streams[d.id];h=h.replace(new RegExp(d.id,"g"),p.id)}),new RTCSessionDescription({type:l.type,sdp:h})}["createOffer","createAnswer"].forEach(function(c){const l=n.RTCPeerConnection.prototype[c],h={[c](){const u=arguments;return arguments.length&&typeof arguments[0]=="function"?l.apply(this,[p=>{const f=s(this,p);u[0].apply(null,[f])},p=>{u[1]&&u[1].apply(null,p)},arguments[2]]):l.apply(this,arguments).then(p=>s(this,p))}};n.RTCPeerConnection.prototype[c]=h[c]});const a=n.RTCPeerConnection.prototype.setLocalDescription;n.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const A=Object.getOwnPropertyDescriptor(n.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(n.RTCPeerConnection.prototype,"localDescription",{get(){const c=A.get.apply(this);return c.type===""?c:s(this,c)}}),n.RTCPeerConnection.prototype.removeTrack=function(l){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!l._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(l._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let u;Object.keys(this._streams).forEach(d=>{this._streams[d].getTracks().find(f=>l.track===f)&&(u=this._streams[d])}),u&&(u.getTracks().length===1?this.removeStream(this._reverseStreams[u.id]):u.removeTrack(l.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Dy(n,e){!n.RTCPeerConnection&&n.webkitRTCPeerConnection&&(n.RTCPeerConnection=n.webkitRTCPeerConnection),n.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const r=n.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new(t==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};n.RTCPeerConnection.prototype[t]=i[t]})}function ET(n,e){ha(n,"negotiationneeded",t=>{const r=t.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return t})}const ex=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:ET,shimAddTrackRemoveTrack:ST,shimAddTrackRemoveTrackWithNative:_T,shimGetSendersWithDtmf:BT,shimGetUserMedia:bT,shimMediaStream:wT,shimOnTrack:CT,shimPeerConnection:Dy,shimSenderReceiverGetStats:xT},Symbol.toStringTag,{value:"Module"}));function FT(n,e){const t=n&&n.navigator,r=n&&n.MediaStreamTrack;if(t.getUserMedia=function(i,s,o){Uw("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),t.mediaDevices.getUserMedia(i).then(s,o)},!(e.version>55&&"autoGainControl"in t.mediaDevices.getSupportedConstraints())){const i=function(o,a,A){a in o&&!(A in o)&&(o[A]=o[a],delete o[a])},s=t.mediaDevices.getUserMedia.bind(t.mediaDevices);if(t.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function PZ(n,e){n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices||n.navigator.mediaDevices&&(n.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,n.navigator.mediaDevices.getUserMedia(r)})}function TT(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Qy(n,e){if(typeof n!="object"||!(n.RTCPeerConnection||n.mozRTCPeerConnection))return;!n.RTCPeerConnection&&n.mozRTCPeerConnection&&(n.RTCPeerConnection=n.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=n.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};n.RTCPeerConnection.prototype[i]=o[i]});const t={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[s,o,a]=arguments;return r.apply(this,[s||null]).then(A=>{if(e.version<53&&!o)try{A.forEach(c=>{c.type=t[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;A.forEach((l,h)=>{A.set(h,Object.assign({},l,{type:t[l.type]||l.type}))})}return A}).then(o,a)}}function PT(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpSender.prototype)return;const e=n.RTCPeerConnection.prototype.getSenders;e&&(n.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const t=n.RTCPeerConnection.prototype.addTrack;t&&(n.RTCPeerConnection.prototype.addTrack=function(){const i=t.apply(this,arguments);return i._pc=this,i}),n.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function OT(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpReceiver.prototype)return;const e=n.RTCPeerConnection.prototype.getReceivers;e&&(n.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),ha(n,"track",t=>(t.receiver._pc=t.srcElement,t)),n.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function IT(n){!n.RTCPeerConnection||"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(t){Uw("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&t.getTracks().includes(r.track)&&this.removeTrack(r)})})}function UT(n){n.DataChannel&&!n.RTCDataChannel&&(n.RTCDataChannel=n.DataChannel)}function kT(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.addTransceiver;e&&(n.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:o}=s,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function DT(n){if(!(typeof n=="object"&&n.RTCRtpSender))return;const e=n.RTCRtpSender.prototype.getParameters;e&&(n.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function QT(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function MT(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createAnswer;n.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const tx=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:kT,shimCreateAnswer:MT,shimCreateOffer:QT,shimGetDisplayMedia:PZ,shimGetParameters:DT,shimGetUserMedia:FT,shimOnTrack:TT,shimPeerConnection:Qy,shimRTCDataChannel:UT,shimReceiverGetStats:OT,shimRemoveStream:IT,shimSenderGetStats:PT},Symbol.toStringTag,{value:"Module"}));function LT(n){if(!(typeof n!="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},n.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(t);if(r===-1)return;this._localStreams.splice(r,1);const i=t.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function NT(n){if(!(typeof n!="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(t){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=t),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(s)>=0)return;r._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function RT(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const e=n.RTCPeerConnection.prototype,t=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(c,l){const h=arguments.length>=2?arguments[2]:arguments[0],u=t.apply(this,[h]);return l?(u.then(c,l),Promise.resolve()):u},e.createAnswer=function(c,l){const h=arguments.length>=2?arguments[2]:arguments[0],u=r.apply(this,[h]);return l?(u.then(c,l),Promise.resolve()):u};let a=function(A,c,l){const h=i.apply(this,[A]);return l?(h.then(c,l),Promise.resolve()):h};e.setLocalDescription=a,a=function(A,c,l){const h=s.apply(this,[A]);return l?(h.then(c,l),Promise.resolve()):h},e.setRemoteDescription=a,a=function(A,c,l){const h=o.apply(this,[A]);return l?(h.then(c,l),Promise.resolve()):h},e.addIceCandidate=a}function HT(n){const e=n&&n.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const t=e.mediaDevices,r=t.getUserMedia.bind(t);e.mediaDevices.getUserMedia=i=>r($T(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,i,s){e.mediaDevices.getUserMedia(r).then(i,s)}).bind(e))}function $T(n){return n&&n.video!==void 0?Object.assign({},n,{video:yT(n.video)}):n}function jT(n){if(!n.RTCPeerConnection)return;const e=n.RTCPeerConnection;n.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const s=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(Uw("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,s.push(a)):s.push(r.iceServers[o])}r.iceServers=s}return new e(r,i)},n.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function KT(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function GT(n){const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function VT(n){typeof n!="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const nx=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:VT,shimCallbacksAPI:RT,shimConstraints:$T,shimCreateOfferLegacy:GT,shimGetUserMedia:HT,shimLocalStreamsAPI:LT,shimRTCIceServerUrls:jT,shimRemoteStreamsAPI:NT,shimTrackEventTransceiver:KT},Symbol.toStringTag,{value:"Module"}));var zT={exports:{}};(function(n){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(t){return t.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(t){return t.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(t){const r=e.splitSections(t);return r&&r[0]},e.getMediaSections=function(t){const r=e.splitSections(t);return r.shift(),r},e.matchPrefix=function(t,r){return e.splitLines(t).filter(i=>i.indexOf(r)===0)},e.parseCandidate=function(t){let r;t.indexOf("a=candidate:")===0?r=t.substring(12).split(" "):r=t.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let s=8;s<r.length;s+=2)switch(r[s]){case"raddr":i.relatedAddress=r[s+1];break;case"rport":i.relatedPort=parseInt(r[s+1],10);break;case"tcptype":i.tcpType=r[s+1];break;case"ufrag":i.ufrag=r[s+1],i.usernameFragment=r[s+1];break;default:i[r[s]]===void 0&&(i[r[s]]=r[s+1]);break}return i},e.writeCandidate=function(t){const r=[];r.push(t.foundation);const i=t.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(t.protocol.toUpperCase()),r.push(t.priority),r.push(t.address||t.ip),r.push(t.port);const s=t.type;return r.push("typ"),r.push(s),s!=="host"&&t.relatedAddress&&t.relatedPort&&(r.push("raddr"),r.push(t.relatedAddress),r.push("rport"),r.push(t.relatedPort)),t.tcpType&&t.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(r.push("ufrag"),r.push(t.usernameFragment||t.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(t){return t.substring(14).split(" ")},e.parseRtpMap=function(t){let r=t.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(t){let r=t.payloadType;t.preferredPayloadType!==void 0&&(r=t.preferredPayloadType);const i=t.channels||t.numChannels||1;return"a=rtpmap:"+r+" "+t.name+"/"+t.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(t){const r=t.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&t.direction!=="sendrecv"?"/"+t.direction:"")+" "+t.uri+(t.attributes?" "+t.attributes:"")+`\r
`},e.parseFmtp=function(t){const r={};let i;const s=t.substring(t.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)i=s[o].trim().split("="),r[i[0].trim()]=i[1];return r},e.writeFmtp=function(t){let r="",i=t.payloadType;if(t.preferredPayloadType!==void 0&&(i=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){const s=[];Object.keys(t.parameters).forEach(o=>{t.parameters[o]!==void 0?s.push(o+"="+t.parameters[o]):s.push(o)}),r+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return r},e.parseRtcpFb=function(t){const r=t.substring(t.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(t){let r="",i=t.payloadType;return t.preferredPayloadType!==void 0&&(i=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(s=>{r+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(t){const r=t.indexOf(" "),i={ssrc:parseInt(t.substring(7,r),10)},s=t.indexOf(":",r);return s>-1?(i.attribute=t.substring(r+1,s),i.value=t.substring(s+1)):i.attribute=t.substring(r+1),i},e.parseSsrcGroup=function(t){const r=t.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},e.getMid=function(t){const r=e.matchPrefix(t,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(t){const r=t.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(t,r){return{role:"auto",fingerprints:e.matchPrefix(t+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(t,r){let i="a=setup:"+r+`\r
`;return t.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},e.parseCryptoLine=function(t){const r=t.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(t){return"a=crypto:"+t.tag+" "+t.cryptoSuite+" "+(typeof t.keyParams=="object"?e.writeCryptoKeyParams(t.keyParams):t.keyParams)+(t.sessionParams?" "+t.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(t){if(t.indexOf("inline:")!==0)return null;const r=t.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(t){return t.keyMethod+":"+t.keySalt+(t.lifeTime?"|"+t.lifeTime:"")+(t.mkiValue&&t.mkiLength?"|"+t.mkiValue+":"+t.mkiLength:"")},e.getCryptoParameters=function(t,r){return e.matchPrefix(t+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(t,r){const i=e.matchPrefix(t+r,"a=ice-ufrag:")[0],s=e.matchPrefix(t+r,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substring(12),password:s.substring(10)}:null},e.writeIceParameters=function(t){let r="a=ice-ufrag:"+t.usernameFragment+`\r
a=ice-pwd:`+t.password+`\r
`;return t.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(t){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(t)[0].split(" ");r.profile=s[2];for(let a=3;a<s.length;a++){const A=s[a],c=e.matchPrefix(t,"a=rtpmap:"+A+" ")[0];if(c){const l=e.parseRtpMap(c),h=e.matchPrefix(t,"a=fmtp:"+A+" ");switch(l.parameters=h.length?e.parseFmtp(h[0]):{},l.rtcpFeedback=e.matchPrefix(t,"a=rtcp-fb:"+A+" ").map(e.parseRtcpFb),r.codecs.push(l),l.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(l.name.toUpperCase());break}}}e.matchPrefix(t,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(t,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(A=>{a.rtcpFeedback.find(l=>l.type===A.type&&l.parameter===A.parameter)||a.rtcpFeedback.push(A)})}),r},e.writeRtpDescription=function(t,r){let i="";i+="m="+t+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let s=0;return r.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(t){const r=[],i=e.parseRtpParameters(t),s=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(t,"a=ssrc:").map(u=>e.parseSsrcMedia(u)).filter(u=>u.attribute==="cname"),A=a.length>0&&a[0].ssrc;let c;const l=e.matchPrefix(t,"a=ssrc-group:FID").map(u=>u.substring(17).split(" ").map(p=>parseInt(p,10)));l.length>0&&l[0].length>1&&l[0][0]===A&&(c=l[0][1]),i.codecs.forEach(u=>{if(u.name.toUpperCase()==="RTX"&&u.parameters.apt){let d={ssrc:A,codecPayloadType:parseInt(u.parameters.apt,10)};A&&c&&(d.rtx={ssrc:c}),r.push(d),s&&(d=JSON.parse(JSON.stringify(d)),d.fec={ssrc:A,mechanism:o?"red+ulpfec":"red"},r.push(d))}}),r.length===0&&A&&r.push({ssrc:A});let h=e.matchPrefix(t,"b=");return h.length&&(h[0].indexOf("b=TIAS:")===0?h=parseInt(h[0].substring(7),10):h[0].indexOf("b=AS:")===0?h=parseInt(h[0].substring(5),10)*1e3*.95-50*40*8:h=void 0,r.forEach(u=>{u.maxBitrate=h})),r},e.parseRtcpParameters=function(t){const r={},i=e.matchPrefix(t,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const s=e.matchPrefix(t,"a=rtcp-rsize");r.reducedSize=s.length>0,r.compound=s.length===0;const o=e.matchPrefix(t,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(t){let r="";return t.reducedSize&&(r+=`a=rtcp-rsize\r
`),t.mux&&(r+=`a=rtcp-mux\r
`),t.ssrc!==void 0&&t.cname&&(r+="a=ssrc:"+t.ssrc+" cname:"+t.cname+`\r
`),r},e.parseMsid=function(t){let r;const i=e.matchPrefix(t,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const s=e.matchPrefix(t,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return r=s[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(t){const r=e.parseMLine(t),i=e.matchPrefix(t,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substring(19),10)),isNaN(s)&&(s=65536);const o=e.matchPrefix(t,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:s};const a=e.matchPrefix(t,"a=sctpmap:");if(a.length>0){const A=a[0].substring(10).split(" ");return{port:parseInt(A[0],10),protocol:A[1],maxMessageSize:s}}},e.writeSctpDescription=function(t,r){let i=[];return t.protocol!=="DTLS/SCTP"?i=["m="+t.kind+" 9 "+t.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+t.kind+" 9 "+t.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(t,r,i){let s;const o=r!==void 0?r:2;return t?s=t:s=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(t,r){const i=e.splitLines(t);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(t){return e.splitLines(t)[0].split(" ")[0].substring(2)},e.isRejected=function(t){return t.split(" ",2)[1]==="0"},e.parseMLine=function(t){const i=e.splitLines(t)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(t){const i=e.matchPrefix(t,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(t){if(typeof t!="string"||t.length===0)return!1;const r=e.splitLines(t);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},n.exports=e})(zT);var WT=zT.exports;const vA=Ge(WT),OZ=m5({__proto__:null,default:vA},[WT]);function Cd(n){if(!n.RTCIceCandidate||n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)return;const e=n.RTCIceCandidate;n.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new e(r),s=vA.parseCandidate(r.candidate);for(const o in s)o in i||Object.defineProperty(i,o,{value:s[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(r)},n.RTCIceCandidate.prototype=e.prototype,ha(n,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new n.RTCIceCandidate(t.candidate),writable:"false"}),t))}function My(n){!n.RTCIceCandidate||n.RTCIceCandidate&&"relayProtocol"in n.RTCIceCandidate.prototype||ha(n,"icecandidate",e=>{if(e.candidate){const t=vA.parseCandidate(e.candidate.candidate);t.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e})}function Bd(n,e){if(!n.RTCPeerConnection)return;"sctp"in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const t=function(a){if(!a||!a.sdp)return!1;const A=vA.splitSections(a.sdp);return A.shift(),A.some(c=>{const l=vA.parseMLine(c);return l&&l.kind==="application"&&l.protocol.indexOf("SCTP")!==-1})},r=function(a){const A=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(A===null||A.length<2)return-1;const c=parseInt(A[1],10);return c!==c?-1:c},i=function(a){let A=65536;return e.browser==="firefox"&&(e.version<57?a===-1?A=16384:A=2147483637:e.version<60?A=e.version===57?65535:65536:A=2147483637),A},s=function(a,A){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const l=vA.matchPrefix(a.sdp,"a=max-message-size:");return l.length>0?c=parseInt(l[0].substring(19),10):e.browser==="firefox"&&A!==-1&&(c=2147483637),c},o=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:A}=this.getConfiguration();A==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(t(arguments[0])){const A=r(arguments[0]),c=i(A),l=s(arguments[0],A);let h;c===0&&l===0?h=Number.POSITIVE_INFINITY:c===0||l===0?h=Math.max(c,l):h=Math.min(c,l);const u={};Object.defineProperty(u,"maxMessageSize",{get(){return h}}),this._sctp=u}return o.apply(this,arguments)}}function xd(n){if(!(n.RTCPeerConnection&&"createDataChannel"in n.RTCPeerConnection.prototype))return;function e(r,i){const s=r.send;r.send=function(){const a=arguments[0],A=a.length||a.size||a.byteLength;if(r.readyState==="open"&&i.sctp&&A>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(r,arguments)}}const t=n.RTCPeerConnection.prototype.createDataChannel;n.RTCPeerConnection.prototype.createDataChannel=function(){const i=t.apply(this,arguments);return e(i,this),i},ha(n,"datachannel",r=>(e(r.channel,r.target),r))}function Ly(n){if(!n.RTCPeerConnection||"connectionState"in n.RTCPeerConnection.prototype)return;const e=n.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(t){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),t&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=t)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(t=>{const r=e[t];e[t]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",i);s.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Ny(n,e){if(!n.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const t=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);n.RTCSessionDescription&&i instanceof n.RTCSessionDescription?arguments[0]=new n.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return t.apply(this,arguments)}}function _d(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const t=n.RTCPeerConnection.prototype.addIceCandidate;!t||t.length===0||(n.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Sd(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const t=n.RTCPeerConnection.prototype.setLocalDescription;!t||t.length===0||(n.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return t.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?t.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>t.apply(this,[o]))})}const IZ=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Ny,shimAddIceCandidateNullOrEmpty:_d,shimConnectionState:Ly,shimMaxMessageSize:Bd,shimParameterlessSetLocalDescription:Sd,shimRTCIceCandidate:Cd,shimRTCIceCandidateRelayProtocol:My,shimSendThrowTypeError:xd},Symbol.toStringTag,{value:"Module"}));function UZ({window:n}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const t=vT,r=TZ(n),i={browserDetails:r,commonShim:IZ,extractVersion:wd,disableLog:EZ,disableWarnings:FZ,sdp:OZ};switch(r.browser){case"chrome":if(!ex||!Dy||!e.shimChrome)return t("Chrome shim is not included in this adapter release."),i;if(r.version===null)return t("Chrome shim can not determine version, not shimming."),i;t("adapter.js shimming chrome."),i.browserShim=ex,_d(n,r),Sd(n),bT(n,r),wT(n),Dy(n,r),CT(n),ST(n,r),BT(n),xT(n),ET(n,r),Cd(n),My(n),Ly(n),Bd(n,r),xd(n),Ny(n,r);break;case"firefox":if(!tx||!Qy||!e.shimFirefox)return t("Firefox shim is not included in this adapter release."),i;t("adapter.js shimming firefox."),i.browserShim=tx,_d(n,r),Sd(n),FT(n,r),Qy(n,r),TT(n),IT(n),PT(n),OT(n),UT(n),kT(n),DT(n),QT(n),MT(n),Cd(n),Ly(n),Bd(n,r),xd(n);break;case"safari":if(!nx||!e.shimSafari)return t("Safari shim is not included in this adapter release."),i;t("adapter.js shimming safari."),i.browserShim=nx,_d(n,r),Sd(n),jT(n),GT(n),RT(n),LT(n),NT(n),KT(n),HT(n),VT(n),Cd(n),My(n),Bd(n,r),xd(n),Ny(n,r);break;default:t("Unsupported browser!");break}return i}const rx=UZ({window:typeof window>"u"?void 0:window});function ua(n,e,t,r){Object.defineProperty(n,e,{get:t,set:r,enumerable:!0,configurable:!0})}class XT{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const t=[],r=e.byteLength,i=Math.ceil(r/this.chunkedMTU);let s=0,o=0;for(;o<r;){const a=Math.min(r,o+this.chunkedMTU),A=e.slice(o,a),c={__peerData:this._dataCount,n:s,data:A,total:i};t.push(c),o=a,s++}return this._dataCount++,t}}}function kZ(n){let e=0;for(const i of n)e+=i.byteLength;const t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.byteLength;return t}const c0=rx.default||rx,Sl=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const n=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(n)?n==="chrome"?e>=this.minChromeVersion:n==="firefox"?e>=this.minFirefoxVersion:n==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return c0.browserDetails.browser}getVersion(){return c0.browserDetails.version||0}isUnifiedPlanSupported(){const n=this.getBrowser(),e=c0.browserDetails.version||0;if(n==="chrome"&&e<this.minChromeVersion)return!1;if(n==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let t,r=!1;try{t=new RTCPeerConnection,t.addTransceiver("audio"),r=!0}catch{}finally{t&&t.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},DZ=n=>!n||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(n),YT=()=>Math.random().toString(36).slice(2),ix={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class QZ extends XT{noop(){}blobToArrayBuffer(e,t){const r=new FileReader;return r.onload=function(i){i.target&&t(i.target.result)},r.readAsArrayBuffer(e),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r)&255;return t.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=ix,this.browser=Sl.getBrowser(),this.browserVersion=Sl.getVersion(),this.pack=pT,this.unpack=fT,this.supports=function(){const t={browser:Sl.isBrowserSupported(),webRTC:Sl.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;let r;try{r=new RTCPeerConnection(ix),t.audioVideo=!0;let i;try{i=r.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!i.ordered;try{i.binaryType="blob",t.binaryBlob=!Sl.isIOS}catch{}}catch{}finally{i&&i.close()}}catch{}finally{r&&r.close()}return t}(),this.validateId=DZ,this.randomToken=YT}}const On=new QZ,MZ="PeerJS: ";var sx;(function(n){n[n.Disabled=0]="Disabled",n[n.Errors=1]="Errors",n[n.Warnings=2]="Warnings",n[n.All=3]="All"})(sx||(sx={}));class LZ{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const r=[MZ,...t];for(const i in r)r[i]instanceof Error&&(r[i]="("+r[i].name+") "+r[i].message);e>=3?console.log(...r):e>=2?console.warn("WARNING",...r):e>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var ne=new LZ,kw={},NZ=Object.prototype.hasOwnProperty,En="~";function Kc(){}Object.create&&(Kc.prototype=Object.create(null),new Kc().__proto__||(En=!1));function RZ(n,e,t){this.fn=n,this.context=e,this.once=t||!1}function JT(n,e,t,r,i){if(typeof t!="function")throw new TypeError("The listener must be a function");var s=new RZ(t,r||n,i),o=En?En+e:e;return n._events[o]?n._events[o].fn?n._events[o]=[n._events[o],s]:n._events[o].push(s):(n._events[o]=s,n._eventsCount++),n}function Ed(n,e){--n._eventsCount===0?n._events=new Kc:delete n._events[e]}function gn(){this._events=new Kc,this._eventsCount=0}gn.prototype.eventNames=function(){var e=[],t,r;if(this._eventsCount===0)return e;for(r in t=this._events)NZ.call(t,r)&&e.push(En?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};gn.prototype.listeners=function(e){var t=En?En+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o};gn.prototype.listenerCount=function(e){var t=En?En+e:e,r=this._events[t];return r?r.fn?1:r.length:0};gn.prototype.emit=function(e,t,r,i,s,o){var a=En?En+e:e;if(!this._events[a])return!1;var A=this._events[a],c=arguments.length,l,h;if(A.fn){switch(A.once&&this.removeListener(e,A.fn,void 0,!0),c){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,t),!0;case 3:return A.fn.call(A.context,t,r),!0;case 4:return A.fn.call(A.context,t,r,i),!0;case 5:return A.fn.call(A.context,t,r,i,s),!0;case 6:return A.fn.call(A.context,t,r,i,s,o),!0}for(h=1,l=new Array(c-1);h<c;h++)l[h-1]=arguments[h];A.fn.apply(A.context,l)}else{var u=A.length,d;for(h=0;h<u;h++)switch(A[h].once&&this.removeListener(e,A[h].fn,void 0,!0),c){case 1:A[h].fn.call(A[h].context);break;case 2:A[h].fn.call(A[h].context,t);break;case 3:A[h].fn.call(A[h].context,t,r);break;case 4:A[h].fn.call(A[h].context,t,r,i);break;default:if(!l)for(d=1,l=new Array(c-1);d<c;d++)l[d-1]=arguments[d];A[h].fn.apply(A[h].context,l)}}return!0};gn.prototype.on=function(e,t,r){return JT(this,e,t,r,!1)};gn.prototype.once=function(e,t,r){return JT(this,e,t,r,!0)};gn.prototype.removeListener=function(e,t,r,i){var s=En?En+e:e;if(!this._events[s])return this;if(!t)return Ed(this,s),this;var o=this._events[s];if(o.fn)o.fn===t&&(!i||o.once)&&(!r||o.context===r)&&Ed(this,s);else{for(var a=0,A=[],c=o.length;a<c;a++)(o[a].fn!==t||i&&!o[a].once||r&&o[a].context!==r)&&A.push(o[a]);A.length?this._events[s]=A.length===1?A[0]:A:Ed(this,s)}return this};gn.prototype.removeAllListeners=function(e){var t;return e?(t=En?En+e:e,this._events[t]&&Ed(this,t)):(this._events=new Kc,this._eventsCount=0),this};gn.prototype.off=gn.prototype.removeListener;gn.prototype.addListener=gn.prototype.on;gn.prefixed=En;gn.EventEmitter=gn;kw=gn;var da={};ua(da,"ConnectionType",()=>li);ua(da,"PeerErrorType",()=>vt);ua(da,"BaseConnectionErrorType",()=>Gc);ua(da,"DataConnectionErrorType",()=>Vc);ua(da,"SerializationType",()=>UA);ua(da,"SocketEventType",()=>si);ua(da,"ServerMessageType",()=>Gt);var li;(function(n){n.Data="data",n.Media="media"})(li||(li={}));var vt;(function(n){n.BrowserIncompatible="browser-incompatible",n.Disconnected="disconnected",n.InvalidID="invalid-id",n.InvalidKey="invalid-key",n.Network="network",n.PeerUnavailable="peer-unavailable",n.SslUnavailable="ssl-unavailable",n.ServerError="server-error",n.SocketError="socket-error",n.SocketClosed="socket-closed",n.UnavailableID="unavailable-id",n.WebRTC="webrtc"})(vt||(vt={}));var Gc;(function(n){n.NegotiationFailed="negotiation-failed",n.ConnectionClosed="connection-closed"})(Gc||(Gc={}));var Vc;(function(n){n.NotOpenYet="not-open-yet",n.MessageToBig="message-too-big"})(Vc||(Vc={}));var UA;(function(n){n.Binary="binary",n.BinaryUTF8="binary-utf8",n.JSON="json",n.None="raw"})(UA||(UA={}));var si;(function(n){n.Message="message",n.Disconnected="disconnected",n.Error="error",n.Close="close"})(si||(si={}));var Gt;(function(n){n.Heartbeat="HEARTBEAT",n.Candidate="CANDIDATE",n.Offer="OFFER",n.Answer="ANSWER",n.Open="OPEN",n.Error="ERROR",n.IdTaken="ID-TAKEN",n.InvalidKey="INVALID-KEY",n.Leave="LEAVE",n.Expire="EXPIRE"})(Gt||(Gt={}));var Dw={};Dw=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class HZ extends kw.EventEmitter{constructor(e,t,r,i,s,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const a=e?"wss://":"ws://";this._baseUrl=a+t+":"+r+i+"peerjs?key="+s}start(e,t){this._id=e;const r=`${this._baseUrl}&id=${e}&token=${t}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+Dw.version),this._disconnected=!1,this._socket.onmessage=i=>{let s;try{s=JSON.parse(i.data),ne.log("Server message received:",s)}catch{ne.log("Invalid server message",i.data);return}this.emit(si.Message,s)},this._socket.onclose=i=>{this._disconnected||(ne.log("Socket closed.",i),this._cleanup(),this._disconnected=!0,this.emit(si.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ne.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){ne.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:Gt.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(si.Error,"Invalid message");return}if(!this._wsOpen())return;const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class ZT{constructor(e){this.connection=e}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type===li.Media&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){const r=this.connection,i={ordered:!!e.reliable},s=t.createDataChannel(r.label,i);r._initializeDataChannel(s),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ne.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const t=this.connection.peer,r=this.connection.connectionId,i=this.connection.type,s=this.connection.provider;ne.log("Listening for ICE candidates."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(ne.log(`Received ICE candidates for ${t}:`,o.candidate),s.socket.send({type:Gt.Candidate,payload:{candidate:o.candidate,type:i,connectionId:r},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ne.log("iceConnectionState is failed, closing connections to "+t),this.connection.emitError(Gc.NegotiationFailed,"Negotiation of connection to "+t+" failed."),this.connection.close();break;case"closed":ne.log("iceConnectionState is closed, closing connections to "+t),this.connection.emitError(Gc.ConnectionClosed,"Connection to "+t+" closed."),this.connection.close();break;case"disconnected":ne.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},ne.log("Listening for data channel"),e.ondatachannel=o=>{ne.log("Received data channel");const a=o.channel;s.getConnection(t,r)._initializeDataChannel(a)},ne.log("Listening for remote stream"),e.ontrack=o=>{ne.log("Received remote stream");const a=o.streams[0],A=s.getConnection(t,r);if(A.type===li.Media){const c=A;this._addStreamToMediaConnection(a,c)}}}cleanup(){ne.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const t=e.signalingState!=="closed";let r=!1;const i=this.connection.dataChannel;i&&(r=!!i.readyState&&i.readyState!=="closed"),(t||r)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const r=await e.createOffer(this.connection.options.constraints);ne.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ne.log("Set localDescription:",r,`for:${this.connection.peer}`);let i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===li.Data){const s=this.connection;i={...i,label:s.label,reliable:s.reliable,serialization:s.serialization}}t.socket.send({type:Gt.Offer,payload:i,dst:this.connection.peer})}catch(i){i!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError(vt.WebRTC,i),ne.log("Failed to setLocalDescription, ",i))}}catch(r){t.emitError(vt.WebRTC,r),ne.log("Failed to createOffer, ",r)}}async _makeAnswer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const r=await e.createAnswer();ne.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ne.log("Set localDescription:",r,`for:${this.connection.peer}`),t.socket.send({type:Gt.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(i){t.emitError(vt.WebRTC,i),ne.log("Failed to setLocalDescription, ",i)}}catch(r){t.emitError(vt.WebRTC,r),ne.log("Failed to create answer, ",r)}}async handleSDP(e,t){t=new RTCSessionDescription(t);const r=this.connection.peerConnection,i=this.connection.provider;ne.log("Setting remote description",t);const s=this;try{await r.setRemoteDescription(t),ne.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await s._makeAnswer()}catch(o){i.emitError(vt.WebRTC,o),ne.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(e){ne.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),ne.log(`Added ICE candidate for:${this.connection.peer}`)}catch(t){this.connection.provider.emitError(vt.WebRTC,t),ne.log("Failed to handleCandidate, ",t)}}_addTracksToConnection(e,t){if(ne.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return ne.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(r=>{t.addTrack(r,e)})}_addStreamToMediaConnection(e,t){ne.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}}class qT extends kw.EventEmitter{emitError(e,t){ne.error("Error:",t),this.emit("error",new $Z(`${e}`,t))}}class $Z extends Error{constructor(e,t){typeof t=="string"?super(t):(super(),Object.assign(this,t)),this.type=e}}class eP extends qT{get open(){return this._open}constructor(e,t,r){super(),this.peer=e,this.provider=t,this.options=r,this._open=!1,this.metadata=r.metadata}}var U1;const Cc=class Cc extends eP{get type(){return li.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,r){super(e,t,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Cc.ID_PREFIX+On.randomToken(),this._negotiator=new ZT(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ne.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ne.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){ne.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,r=e.payload;switch(e.type){case Gt.Answer:this._negotiator.handleSDP(t,r.sdp),this._open=!0;break;case Gt.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:ne.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){ne.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const r=this.provider._getMessages(this.connectionId);for(const i of r)this.handleMessage(i);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};U1=new WeakMap,cl(Cc,U1,Cc.ID_PREFIX="mc_");let Sf=Cc;class jZ{constructor(e){this._options=e}_buildRequest(e){const t=this._options.secure?"https":"http",{host:r,port:i,path:s,key:o}=this._options,a=new URL(`${t}://${r}:${i}${s}${o}/${e}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",Dw.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){ne.error("Error retrieving ID",e);let t="";throw this._options.path==="/"&&this._options.host!==On.CLOUD_HOST&&(t=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+t)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let t="";throw this._options.host===On.CLOUD_HOST?t="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":t="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+t)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw ne.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var k1,D1;const Po=class Po extends eP{get type(){return li.Data}constructor(e,t,r){super(e,t,r),this.connectionId=this.options.connectionId||Po.ID_PREFIX+YT(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new ZT(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ne.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=t=>{ne.log(`DC#${this.connectionId} dc onmessage:`,t.data)},this.dataChannel.onclose=()=>{ne.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t=!1){if(!this.open){this.emitError(Vc.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,t)}async handleMessage(e){const t=e.payload;switch(e.type){case Gt.Answer:await this._negotiator.handleSDP(e.type,t.sdp);break;case Gt.Candidate:await this._negotiator.handleCandidate(t.candidate);break;default:ne.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};k1=new WeakMap,D1=new WeakMap,cl(Po,k1,Po.ID_PREFIX="dc_"),cl(Po,D1,Po.MAX_BUFFERED_AMOUNT=8388608);let Ef=Po;class Qw extends Ef{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",t=>this._handleDataMessage(t))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Ef.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return ne.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class h0 extends Qw{close(e){super.close(e),this._chunkedData={}}constructor(e,t,r){super(e,t,r),this.chunker=new XT,this.serialization=UA.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const t=fT(e),r=t.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(t);return}this.emit("data",t)}_handleChunk(e){const t=e.__peerData,r=this._chunkedData[t]||{data:[],count:0,total:e.total};if(r.data[e.n]=new Uint8Array(e.data),r.count++,this._chunkedData[t]=r,r.total===r.count){delete this._chunkedData[t];const i=kZ(r.data);this._handleDataMessage({data:i})}}_send(e,t){const r=pT(e);if(r instanceof Promise)return this._send_blob(r);if(!t&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(e){const t=await e;if(t.byteLength>this.chunker.chunkedMTU){this._sendChunks(t);return}this._bufferedSend(t)}_sendChunks(e){const t=this.chunker.chunk(e);ne.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(const r of t)this.send(r,!0)}}class KZ extends Qw{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,t){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=UA.None}}class GZ extends Qw{_handleDataMessage({data:e}){const t=this.parse(this.decoder.decode(e)),r=t.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",t)}_send(e,t){const r=this.encoder.encode(this.stringify(e));if(r.byteLength>=On.chunkedMTU){this.emitError(Vc.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...e){super(...e),this.serialization=UA.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var Q1;const Bc=class Bc extends qT{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[t,r]of this._connections)e[t]=r;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,t){super(),this._serializers={raw:KZ,json:GZ,binary:h0,"binary-utf8":h0,default:h0},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t={debug:0,host:On.CLOUD_HOST,port:On.CLOUD_PORT,path:"/",key:Bc.DEFAULT_KEY,token:On.randomToken(),config:On.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...t},this._options=t,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==On.CLOUD_HOST?this._options.secure=On.isSecure():this._options.host==On.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ne.setLogFunction(this._options.logFunction),ne.logLevel=this._options.debug||0,this._api=new jZ(t),this._socket=this._createServerConnection(),!On.supports.audioVideo&&!On.supports.data){this._delayedAbort(vt.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!On.validateId(r)){this._delayedAbort(vt.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort(vt.ServerError,i))}_createServerConnection(){const e=new HZ(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(si.Message,t=>{this._handleMessage(t)}),e.on(si.Error,t=>{this._abort(vt.SocketError,t)}),e.on(si.Disconnected,()=>{this.disconnected||(this.emitError(vt.Network,"Lost connection to server."),this.disconnect())}),e.on(si.Close,()=>{this.disconnected||this._abort(vt.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const t=e.type,r=e.payload,i=e.src;switch(t){case Gt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Gt.Error:this._abort(vt.ServerError,r.msg);break;case Gt.IdTaken:this._abort(vt.UnavailableID,`ID "${this.id}" is taken`);break;case Gt.InvalidKey:this._abort(vt.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Gt.Leave:ne.log(`Received leave message from ${i}`),this._cleanupPeer(i),this._connections.delete(i);break;case Gt.Expire:this.emitError(vt.PeerUnavailable,`Could not connect to peer ${i}`);break;case Gt.Offer:{const s=r.connectionId;let o=this.getConnection(i,s);if(o&&(o.close(),ne.warn(`Offer received for existing Connection ID:${s}`)),r.type===li.Media){const A=new Sf(i,this,{connectionId:s,_payload:r,metadata:r.metadata});o=A,this._addConnection(i,o),this.emit("call",A)}else if(r.type===li.Data){const A=new this._serializers[r.serialization](i,this,{connectionId:s,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});o=A,this._addConnection(i,o),this.emit("connection",A)}else{ne.warn(`Received malformed connection type:${r.type}`);return}const a=this._getMessages(s);for(const A of a)o.handleMessage(A);break}default:{if(!r){ne.warn(`You received a malformed message from ${i} of type ${t}`);return}const s=r.connectionId,o=this.getConnection(i,s);o&&o.peerConnection?o.handleMessage(e):s?this._storeMessage(s,e):ne.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(t={serialization:"default",...t},this.disconnected){ne.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(vt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[t.serialization](e,this,t);return this._addConnection(e,r),r}call(e,t,r={}){if(this.disconnected){ne.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(vt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!t){ne.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const i=new Sf(e,this,{...r,_stream:t});return this._addConnection(e,i),i}_addConnection(e,t){ne.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const r=t.indexOf(e);r!==-1&&t.splice(r,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const r=this._connections.get(e);if(!r)return null;for(const i of r)if(i.connectionId===t)return i;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){ne.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ne.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(const r of t)r.close()}disconnect(){if(this.disconnected)return;const e=this.id;ne.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ne.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ne.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort(vt.ServerError,t))}};Q1=new WeakMap,cl(Bc,Q1,Bc.DEFAULT_KEY="peerjs");let Ry=Bc,fc=null,So=!0,Ba=null;class VZ{constructor(e){qi(this,"connectionState","DISCONNECTED");qi(this,"peer");qi(this,"conn");qi(this,"connections",[]);qi(this,"id");qi(this,"peerIds",["","","","","","","","","",""]);qi(this,"args");this.connections=[],this.args=e}listen(){Eo.info("Processing");const e=this,{presentMap:t,setPresentMap:r,setPresentMapURL:i,mapPrepareMode:s,setMapPrepareMode:o,drawCanvasEditor:a}=e.args;e.peer||(e.peer=new Ry,e.connectionState="CONNECTING",e.peer.on("open",A=>{e.id=A,e.connectionState="CONNECTED",location.hash==""?(location.hash=A,Eo.success("Sharing started")):(e.connect({id:location.hash.replace("#","")}),setTimeout(()=>{if(location.hash){let c=location.hash.replace("#",""),l=e.id===c;for(let h=0;h<e.connections.length;h++)if(e.connections[h].peer===c){l=!0;break}l||(location.hash=e.id)}},1e3)),e.heartbeat(),tP()}),e.peer.on("connection",A=>{e.connections.push(A);let c=setTimeout(()=>{e.disconnectConnection(A)},1e4);A.on("data",l=>{if(clearTimeout(c),c=setTimeout(()=>{e.disconnectConnection(A)},1e4),l.type==="joinRequest"){e.peerIds.indexOf(e.id)===-1&&e.peerIds.indexOf("")!==-1&&(e.peerIds[e.peerIds.indexOf("")]=e.id);const h=e.peerIds.indexOf("");if(h!==-1){e.peerIds[h]=A.peer;const d=Iw({presentMap:t,mapPrepareMode:s,drawCanvasEditor:a}),p={type:"joinResponse",peerIds:e.peerIds,state:d};A.send(p);for(let f=0;f<e.peerIds.length;f++){const v=e.peerIds[f];if(v!=e.id&&v!=A.peer){const m=e.connections.find(y=>y.peer===v);m==null||m.send(p)}}}if(!e.connections.find(d=>e.peerIds.indexOf(d.peer)!==-1)){A.close();let d=e.connections.length;for(;d--;)e.connections[d].peer===A.peer&&e.connections.splice(d,1)}}else l.type==="state"&&(fc=l.state,So=!1,clearTimeout(Ba),Ba=setTimeout(()=>{So=!0},2e3),dc({json:l.state,setPresentMap:r,setPresentMapURL:i,setMapPrepareMode:o,drawCanvasEditor:a}))})}))}reconnect(){this.peer.reconnect()}heartbeat(){var t;let e=this;(e.connectionState!=="DISCONNECTED"||!e.connectionState)&&setTimeout(()=>{e.heartbeat()},5e3);for(let r=0;r<((t=e.connections)==null?void 0:t.length);r++){const i=e.connections[r];i.open&&i.send({type:"heartbeat"})}}connect({id:e}){const t=this,{setPresentMap:r,setPresentMapURL:i,setMapPrepareMode:s,drawCanvasEditor:o}=t.args,a=t.peer.connect(e,{reliable:!0,ebug:3});a.on("open",()=>{t.connections.push(a);let A=setTimeout(()=>{t.disconnectConnection(a)},1e4);a.send({type:"joinRequest"}),a.on("data",function(c){if(clearTimeout(A),A=setTimeout(()=>{t.disconnectConnection(a)},1e4),c.type==="joinResponse"){t.peerIds=c.peerIds;for(let l=0;l<t.peerIds.length;l++){const h=t.peerIds[l];h!=t.id&&(t.connections.find(d=>d.peer===h)||t.connect({id:h}))}fc=c.state,So=!1,clearTimeout(Ba),Ba=setTimeout(()=>{So=!0},2e3),dc({json:c.state,setPresentMap:r,setPresentMapURL:i,setMapPrepareMode:s,drawCanvasEditor:o})}else c.type==="state"&&(fc=c.state,So=!1,clearTimeout(Ba),Ba=setTimeout(()=>{So=!0},2e3),dc({json:c.state,setPresentMap:r,setPresentMapURL:i,setMapPrepareMode:s,drawCanvasEditor:o}))})}),a.on("close",()=>{console.log("connect close",a.peer)}),a.on("error",A=>{console.log("connect error",a.peer,A),Eo.error("Connect error!")}),a.on("disconnected",A=>{console.log("connect disconnected",a.peer,A),Eo.error("Connect disconnected!")})}disconnectConnection(e){const t=this;let r=t.connections.length;for(;r--;)t.connections[r].peer===e.peer&&t.connections.splice(r,1);const i=t.peerIds.indexOf(e.peer);if(i!==-1&&(t.peerIds[i]=""),location.hash){let s=location.hash.replace("#",""),o=t.id===s;for(let a=0;a<t.connections.length;a++)if(t.connections[a].peer===s){o=!0;break}o||(location.hash=t.id)}}destroy(){location.hash="",this.peer&&this.peer.disconnect(),this.connectionState="DISCONNECTED",this.connections=[],this.peerIds=["","","","","","","","","",""],this.id=this.peer=this.conn=void 0,Eo.success("Sharing closed")}}const zZ=n=>{nt||(nt=new VZ(n))},WZ=()=>{nt&&nt.destroy()};let ox=null;const tP=()=>{if(nt&&nt.connectionState==="CONNECTED"){const{drawCanvasEditor:n}=nt.args,e=()=>{clearTimeout(ox),ox=setTimeout(nP,1e3)},t=["shape:create","shape:delete","selection:dragend","board:change-active-drawing","history:undo","history:redo","selection:transformend"];n.off(t,e),n.on(t,e)}},nP=()=>{if(nt&&nt.connectionState==="CONNECTED"){const{presentMap:n,mapPrepareMode:e,drawCanvasEditor:t}=nt.args,r=Iw({presentMap:n,mapPrepareMode:e,drawCanvasEditor:t});if(So&&JSON.stringify(fc)!=JSON.stringify(r)){for(let i=0;i<nt.connections.length;i++){const s=nt.connections[i];nt.id!=s.peer&&s.open&&s.send({type:"state",state:r})}fc=r}}};let nt,ax;const u0=({ui:n}={})=>{clearTimeout(ax),ax=setTimeout(()=>{(!location.hash&&n||!n&&location.hash)&&nt.connectionState==="DISCONNECTED"?nt&&!nt.peer?nt.listen():nt&&!nt.peer&&nt.reconnect():location.hash&&n&&nt.destroy()},1e3)},XZ=({presentMap:n,mapPrepareMode:e})=>(nt&&(nt.args.presentMap=n,nt.args.mapPrepareMode=e),nt),YZ=["#FFFFFF","#000000","#f44336","#ffeb3b","#8bc34a","#2196f3"],JZ=()=>{let n=[...YZ];try{const e=JSON.parse(localStorage.getItem("colors")||"");e.length>0&&(n=e)}catch{}return n},ZZ=n=>{localStorage.setItem("colors",JSON.stringify(n))};var Ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function qZ(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Mw={exports:{}},Tf={},iP={},me={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n._registerNode=n.Konva=n.glob=void 0;const e=Math.PI/180;n.glob=Ff!==void 0?Ff:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},n.Konva={_global:n.glob,version:"9.3.6",isBrowser:typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]"),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle:t=>n.Konva.angleDeg?t*e:t,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>n.Konva.DD.isDragging,isTransforming(){var t;return(t=n.Konva.Transformer)===null||t===void 0?void 0:t.isTransforming()},isDragReady:()=>!!n.Konva.DD.node,releaseCanvasOnDestroy:!0,document:n.glob.document,_injectGlobal(t){n.glob.Konva=t}},n._registerNode=t=>{n.Konva[t.prototype.getClassName()]=t},n.Konva._injectGlobal(n.Konva)})(me);var dt={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.Transform=void 0;const e=me;class t{constructor(h=[1,0,0,1,0,0]){this.dirty=!1,this.m=h&&h.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new t(this.m)}copyInto(h){h.m[0]=this.m[0],h.m[1]=this.m[1],h.m[2]=this.m[2],h.m[3]=this.m[3],h.m[4]=this.m[4],h.m[5]=this.m[5]}point(h){var u=this.m;return{x:u[0]*h.x+u[2]*h.y+u[4],y:u[1]*h.x+u[3]*h.y+u[5]}}translate(h,u){return this.m[4]+=this.m[0]*h+this.m[2]*u,this.m[5]+=this.m[1]*h+this.m[3]*u,this}scale(h,u){return this.m[0]*=h,this.m[1]*=h,this.m[2]*=u,this.m[3]*=u,this}rotate(h){var u=Math.cos(h),d=Math.sin(h),p=this.m[0]*u+this.m[2]*d,f=this.m[1]*u+this.m[3]*d,v=this.m[0]*-d+this.m[2]*u,m=this.m[1]*-d+this.m[3]*u;return this.m[0]=p,this.m[1]=f,this.m[2]=v,this.m[3]=m,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(h,u){var d=this.m[0]+this.m[2]*u,p=this.m[1]+this.m[3]*u,f=this.m[2]+this.m[0]*h,v=this.m[3]+this.m[1]*h;return this.m[0]=d,this.m[1]=p,this.m[2]=f,this.m[3]=v,this}multiply(h){var u=this.m[0]*h.m[0]+this.m[2]*h.m[1],d=this.m[1]*h.m[0]+this.m[3]*h.m[1],p=this.m[0]*h.m[2]+this.m[2]*h.m[3],f=this.m[1]*h.m[2]+this.m[3]*h.m[3],v=this.m[0]*h.m[4]+this.m[2]*h.m[5]+this.m[4],m=this.m[1]*h.m[4]+this.m[3]*h.m[5]+this.m[5];return this.m[0]=u,this.m[1]=d,this.m[2]=p,this.m[3]=f,this.m[4]=v,this.m[5]=m,this}invert(){var h=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),u=this.m[3]*h,d=-this.m[1]*h,p=-this.m[2]*h,f=this.m[0]*h,v=h*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),m=h*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=u,this.m[1]=d,this.m[2]=p,this.m[3]=f,this.m[4]=v,this.m[5]=m,this}getMatrix(){return this.m}decompose(){var h=this.m[0],u=this.m[1],d=this.m[2],p=this.m[3],f=h*p-u*d;let v={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(h!=0||u!=0){var m=Math.sqrt(h*h+u*u);v.rotation=u>0?Math.acos(h/m):-Math.acos(h/m),v.scaleX=m,v.scaleY=f/m,v.skewX=(h*d+u*p)/f,v.skewY=0}else if(d!=0||p!=0){var y=Math.sqrt(d*d+p*p);v.rotation=Math.PI/2-(p>0?Math.acos(-d/y):-Math.acos(d/y)),v.scaleX=f/y,v.scaleY=y,v.skewX=0,v.skewY=(h*d+u*p)/f}return v.rotation=n.Util._getRotation(v.rotation),v}}n.Transform=t;var r=Math.PI/180,i=180/Math.PI,s="Konva error: ",o={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},a=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,A=[];const c=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(l){setTimeout(l,60)};n.Util={_isElement:l=>!(!l||l.nodeType!=1),_isFunction:l=>!!(l&&l.constructor&&l.call&&l.apply),_isPlainObject:l=>!!l&&l.constructor===Object,_isArray:l=>Object.prototype.toString.call(l)==="[object Array]",_isNumber:l=>Object.prototype.toString.call(l)==="[object Number]"&&!isNaN(l)&&isFinite(l),_isString:l=>Object.prototype.toString.call(l)==="[object String]",_isBoolean:l=>Object.prototype.toString.call(l)==="[object Boolean]",isObject:l=>l instanceof Object,isValidSelector(l){if(typeof l!="string")return!1;var h=l[0];return h==="#"||h==="."||h===h.toUpperCase()},_sign:l=>l===0||l>0?1:-1,requestAnimFrame(l){A.push(l),A.length===1&&c(function(){const h=A;A=[],h.forEach(function(u){u()})})},createCanvasElement(){var l=document.createElement("canvas");try{l.style=l.style||{}}catch{}return l},createImageElement:()=>document.createElement("img"),_isInDocument(l){for(;l=l.parentNode;)if(l==document)return!0;return!1},_urlToImage(l,h){var u=n.Util.createImageElement();u.onload=function(){h(u)},u.src=l},_rgbToHex:(l,h,u)=>((1<<24)+(l<<16)+(h<<8)+u).toString(16).slice(1),_hexToRgb(l){l=l.replace("#","");var h=parseInt(l,16);return{r:h>>16&255,g:h>>8&255,b:255&h}},getRandomColor(){for(var l=(16777215*Math.random()|0).toString(16);l.length<6;)l="0"+l;return"#"+l},getRGB(l){var h;return l in o?{r:(h=o[l])[0],g:h[1],b:h[2]}:l[0]==="#"?this._hexToRgb(l.substring(1)):l.substr(0,4)==="rgb("?(h=a.exec(l.replace(/ /g,"")),{r:parseInt(h[1],10),g:parseInt(h[2],10),b:parseInt(h[3],10)}):{r:0,g:0,b:0}},colorToRGBA:l=>(l=l||"black",n.Util._namedColorToRBA(l)||n.Util._hex3ColorToRGBA(l)||n.Util._hex4ColorToRGBA(l)||n.Util._hex6ColorToRGBA(l)||n.Util._hex8ColorToRGBA(l)||n.Util._rgbColorToRGBA(l)||n.Util._rgbaColorToRGBA(l)||n.Util._hslColorToRGBA(l)),_namedColorToRBA(l){var h=o[l.toLowerCase()];return h?{r:h[0],g:h[1],b:h[2],a:1}:null},_rgbColorToRGBA(l){if(l.indexOf("rgb(")===0){var h=(l=l.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:h[0],g:h[1],b:h[2],a:1}}},_rgbaColorToRGBA(l){if(l.indexOf("rgba(")===0){var h=(l=l.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((u,d)=>u.slice(-1)==="%"?d===3?parseInt(u)/100:parseInt(u)/100*255:Number(u));return{r:h[0],g:h[1],b:h[2],a:h[3]}}},_hex8ColorToRGBA(l){if(l[0]==="#"&&l.length===9)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:parseInt(l.slice(7,9),16)/255}},_hex6ColorToRGBA(l){if(l[0]==="#"&&l.length===7)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:1}},_hex4ColorToRGBA(l){if(l[0]==="#"&&l.length===5)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:parseInt(l[4]+l[4],16)/255}},_hex3ColorToRGBA(l){if(l[0]==="#"&&l.length===4)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:1}},_hslColorToRGBA(l){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(l)){const[h,...u]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(l),d=Number(u[0])/360,p=Number(u[1])/100,f=Number(u[2])/100;let v,m,y;if(p===0)return y=255*f,{r:Math.round(y),g:Math.round(y),b:Math.round(y),a:1};v=f<.5?f*(1+p):f+p-f*p;const w=2*f-v,C=[0,0,0];for(let S=0;S<3;S++)m=d+1/3*-(S-1),m<0&&m++,m>1&&m--,y=6*m<1?w+6*(v-w)*m:2*m<1?v:3*m<2?w+(v-w)*(2/3-m)*6:w,C[S]=255*y;return{r:Math.round(C[0]),g:Math.round(C[1]),b:Math.round(C[2]),a:1}}},haveIntersection:(l,h)=>!(h.x>l.x+l.width||h.x+h.width<l.x||h.y>l.y+l.height||h.y+h.height<l.y),cloneObject(l){var h={};for(var u in l)this._isPlainObject(l[u])?h[u]=this.cloneObject(l[u]):this._isArray(l[u])?h[u]=this.cloneArray(l[u]):h[u]=l[u];return h},cloneArray:l=>l.slice(0),degToRad:l=>l*r,radToDeg:l=>l*i,_degToRad:l=>(n.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),n.Util.degToRad(l)),_radToDeg:l=>(n.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),n.Util.radToDeg(l)),_getRotation:l=>e.Konva.angleDeg?n.Util.radToDeg(l):l,_capitalize:l=>l.charAt(0).toUpperCase()+l.slice(1),throw(l){throw new Error(s+l)},error(l){console.error(s+l)},warn(l){e.Konva.showWarnings&&console.warn("Konva warning: "+l)},each(l,h){for(var u in l)h(u,l[u])},_inRange:(l,h,u)=>h<=l&&l<u,_getProjectionToSegment(l,h,u,d,p,f){var v,m,y,w=(l-u)*(l-u)+(h-d)*(h-d);if(w==0)v=l,m=h,y=(p-u)*(p-u)+(f-d)*(f-d);else{var C=((p-l)*(u-l)+(f-h)*(d-h))/w;C<0?(v=l,m=h,y=(l-p)*(l-p)+(h-f)*(h-f)):C>1?(v=u,m=d,y=(u-p)*(u-p)+(d-f)*(d-f)):y=((v=l+C*(u-l))-p)*(v-p)+((m=h+C*(d-h))-f)*(m-f)}return[v,m,y]},_getProjectionToLine(l,h,u){var d=n.Util.cloneObject(l),p=Number.MAX_VALUE;return h.forEach(function(f,v){if(u||v!==h.length-1){var m=h[(v+1)%h.length],y=n.Util._getProjectionToSegment(f.x,f.y,m.x,m.y,l.x,l.y),w=y[0],C=y[1],S=y[2];S<p&&(d.x=w,d.y=C,p=S)}}),d},_prepareArrayForTween(l,h,u){var d,p=[],f=[];if(l.length>h.length){var v=h;h=l,l=v}for(d=0;d<l.length;d+=2)p.push({x:l[d],y:l[d+1]});for(d=0;d<h.length;d+=2)f.push({x:h[d],y:h[d+1]});var m=[];return f.forEach(function(y){var w=n.Util._getProjectionToLine(y,p,u);m.push(w.x),m.push(w.y)}),m},_prepareToStringify(l){var h;for(var u in l.visitedByCircularReferenceRemoval=!0,l)if(l.hasOwnProperty(u)&&l[u]&&typeof l[u]=="object"){if(h=Object.getOwnPropertyDescriptor(l,u),l[u].visitedByCircularReferenceRemoval||n.Util._isElement(l[u])){if(!h.configurable)return null;delete l[u]}else if(n.Util._prepareToStringify(l[u])===null){if(!h.configurable)return null;delete l[u]}}return delete l.visitedByCircularReferenceRemoval,l},_assign(l,h){for(var u in h)l[u]=h[u];return l},_getFirstPointerId:l=>l.touches?l.changedTouches[0].identifier:l.pointerId||999,releaseCanvas(...l){e.Konva.releaseCanvasOnDestroy&&l.forEach(h=>{h.width=0,h.height=0})},drawRoundedRectPath(l,h,u,d){let p=0,f=0,v=0,m=0;typeof d=="number"?p=f=v=m=Math.min(d,h/2,u/2):(p=Math.min(d[0]||0,h/2,u/2),f=Math.min(d[1]||0,h/2,u/2),m=Math.min(d[2]||0,h/2,u/2),v=Math.min(d[3]||0,h/2,u/2)),l.moveTo(p,0),l.lineTo(h-f,0),l.arc(h-f,f,f,3*Math.PI/2,0,!1),l.lineTo(h,u-m),l.arc(h-m,u-m,m,0,Math.PI/2,!1),l.lineTo(v,u),l.arc(v,u-v,v,Math.PI/2,Math.PI,!1),l.lineTo(0,p),l.arc(p,p,p,Math.PI,3*Math.PI/2,!1)}}})(dt);var At={},fe={},ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.getComponentValidator=ae.getBooleanValidator=ae.getNumberArrayValidator=ae.getFunctionValidator=ae.getStringOrGradientValidator=ae.getStringValidator=ae.getNumberOrAutoValidator=ae.getNumberOrArrayOfNumbersValidator=ae.getNumberValidator=ae.alphaComponent=ae.RGBComponent=void 0;const vi=me,gt=dt;function yi(n){return gt.Util._isString(n)?'"'+n+'"':Object.prototype.toString.call(n)==="[object Number]"||gt.Util._isBoolean(n)?n:Object.prototype.toString.call(n)}ae.RGBComponent=function(n){return n>255?255:n<0?0:Math.round(n)},ae.alphaComponent=function(n){return n>1?1:n<1e-4?1e-4:n},ae.getNumberValidator=function(){if(vi.Konva.isUnminified)return function(n,e){return gt.Util._isNumber(n)||gt.Util.warn(yi(n)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),n}},ae.getNumberOrArrayOfNumbersValidator=function(n){if(vi.Konva.isUnminified)return function(e,t){let r=gt.Util._isNumber(e),i=gt.Util._isArray(e)&&e.length==n;return r||i||gt.Util.warn(yi(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or Array<number>('+n+")"),e}},ae.getNumberOrAutoValidator=function(){if(vi.Konva.isUnminified)return function(n,e){return gt.Util._isNumber(n)||n==="auto"||gt.Util.warn(yi(n)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),n}},ae.getStringValidator=function(){if(vi.Konva.isUnminified)return function(n,e){return gt.Util._isString(n)||gt.Util.warn(yi(n)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),n}},ae.getStringOrGradientValidator=function(){if(vi.Konva.isUnminified)return function(n,e){const t=gt.Util._isString(n),r=Object.prototype.toString.call(n)==="[object CanvasGradient]"||n&&n.addColorStop;return t||r||gt.Util.warn(yi(n)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),n}},ae.getFunctionValidator=function(){if(vi.Konva.isUnminified)return function(n,e){return gt.Util._isFunction(n)||gt.Util.warn(yi(n)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),n}},ae.getNumberArrayValidator=function(){if(vi.Konva.isUnminified)return function(n,e){const t=Int8Array?Object.getPrototypeOf(Int8Array):null;return t&&n instanceof t||(gt.Util._isArray(n)?n.forEach(function(r){gt.Util._isNumber(r)||gt.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):gt.Util.warn(yi(n)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),n}},ae.getBooleanValidator=function(){if(vi.Konva.isUnminified)return function(n,e){return n===!0||n===!1||gt.Util.warn(yi(n)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),n}},ae.getComponentValidator=function(n){if(vi.Konva.isUnminified)return function(e,t){return e==null||gt.Util.isObject(e)||gt.Util.warn(yi(e)+' is a not valid value for "'+t+'" attribute. The value should be an object with properties '+n),e}},function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Factory=void 0;const e=dt,t=ae;var r="get",i="set";n.Factory={addGetterSetter(s,o,a,A,c){n.Factory.addGetter(s,o,a),n.Factory.addSetter(s,o,A,c),n.Factory.addOverloadedGetterSetter(s,o)},addGetter(s,o,a){var A=r+e.Util._capitalize(o);s.prototype[A]=s.prototype[A]||function(){var c=this.attrs[o];return c===void 0?a:c}},addSetter(s,o,a,A){var c=i+e.Util._capitalize(o);s.prototype[c]||n.Factory.overWriteSetter(s,o,a,A)},overWriteSetter(s,o,a,A){var c=i+e.Util._capitalize(o);s.prototype[c]=function(l){return a&&l!=null&&(l=a.call(this,l,o)),this._setAttr(o,l),A&&A.call(this),this}},addComponentsGetterSetter(s,o,a,A,c){var l,h,u=a.length,d=e.Util._capitalize,p=r+d(o),f=i+d(o);s.prototype[p]=function(){var m={};for(l=0;l<u;l++)m[h=a[l]]=this.getAttr(o+d(h));return m};var v=(0,t.getComponentValidator)(a);s.prototype[f]=function(m){var y,w=this.attrs[o];for(y in A&&(m=A.call(this,m)),v&&v.call(this,m,o),m)m.hasOwnProperty(y)&&this._setAttr(o+d(y),m[y]);return m||a.forEach(C=>{this._setAttr(o+d(C),void 0)}),this._fireChangeEvent(o,w,m),c&&c.call(this),this},n.Factory.addOverloadedGetterSetter(s,o)},addOverloadedGetterSetter(s,o){var a=e.Util._capitalize(o),A=i+a,c=r+a;s.prototype[o]=function(){return arguments.length?(this[A](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(s,o,a,A){e.Util.error("Adding deprecated "+o);var c=r+e.Util._capitalize(o),l=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[c]=function(){e.Util.error(l);var h=this.attrs[o];return h===void 0?a:h},n.Factory.addSetter(s,o,A,function(){e.Util.error(l)}),n.Factory.addOverloadedGetterSetter(s,o)},backCompat(s,o){e.Util.each(o,function(a,A){var c=s.prototype[A],l=r+e.Util._capitalize(a),h=i+e.Util._capitalize(a);function u(){c.apply(this,arguments),e.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+A+'" instead.')}s.prototype[a]=u,s.prototype[l]=u,s.prototype[h]=u})},afterSetFilter(){this._filterUpToDate=!1}}}(fe);var Nr={},ki={};Object.defineProperty(ki,"__esModule",{value:!0}),ki.HitContext=ki.SceneContext=ki.Context=void 0;const Ax=dt,eq=me;var lx=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];let Pf=class{constructor(e){this.canvas=e,eq.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){var r,i,s,o,a=this.traceArr,A=a.length,c="";for(r=0;r<A;r++)(s=(i=a[r]).method)?(o=i.args,c+=s,e?c+="()":Ax.Util._isArray(o[0])?c+="(["+o.join(",")+"])":(t&&(o=o.map(l=>typeof l=="number"?Math.floor(l):l)),c+="("+o.join(",")+")")):(c+=i.property,e||(c+="="+i.val)),c+=";";return c}clearTrace(){this.traceArr=[]}_trace(e){var t=this.traceArr;t.push(e),t.length>=100&&t.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){const t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){var t=e.getAbsoluteOpacity();t!==1&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){const t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,r,i,s,o){this._context.arc(e,t,r,i,s,o)}arcTo(e,t,r,i,s){this._context.arcTo(e,t,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,r,i,s,o){this._context.bezierCurveTo(e,t,r,i,s,o)}clearRect(e,t,r,i){this._context.clearRect(e,t,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){var r=arguments;return r.length===2?this._context.createImageData(e,t):r.length===1?this._context.createImageData(e):void 0}createLinearGradient(e,t,r,i){return this._context.createLinearGradient(e,t,r,i)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,r,i,s,o){return this._context.createRadialGradient(e,t,r,i,s,o)}drawImage(e,t,r,i,s,o,a,A,c){var l=arguments,h=this._context;l.length===3?h.drawImage(e,t,r):l.length===5?h.drawImage(e,t,r,i,s):l.length===9&&h.drawImage(e,t,r,i,s,o,a,A,c)}ellipse(e,t,r,i,s,o,a,A){this._context.ellipse(e,t,r,i,s,o,a,A)}isPointInPath(e,t,r,i){return r?this._context.isPointInPath(r,e,t,i):this._context.isPointInPath(e,t,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,r,i){this._context.fillRect(e,t,r,i)}strokeRect(e,t,r,i){this._context.strokeRect(e,t,r,i)}fillText(e,t,r,i){i?this._context.fillText(e,t,r,i):this._context.fillText(e,t,r)}measureText(e){return this._context.measureText(e)}getImageData(e,t,r,i){return this._context.getImageData(e,t,r,i)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,r,i){this._context.rect(e,t,r,i)}roundRect(e,t,r,i,s){this._context.roundRect(e,t,r,i,s)}putImageData(e,t,r){this._context.putImageData(e,t,r)}quadraticCurveTo(e,t,r,i){this._context.quadraticCurveTo(e,t,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,r,i,s,o){this._context.setTransform(e,t,r,i,s,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,r,i){this._context.strokeText(e,t,r,i)}transform(e,t,r,i,s,o){this._context.transform(e,t,r,i,s,o)}translate(e,t){this._context.translate(e,t)}_enableTrace(){var e,t,r=this,i=lx.length,s=this.setAttr,o=function(a){var A,c=r[a];r[a]=function(){return t=function(l){var h,u,d=[],p=l.length,f=Ax.Util;for(h=0;h<p;h++)u=l[h],f._isNumber(u)?u=Math.round(1e3*u)/1e3:f._isString(u)||(u+=""),d.push(u);return d}(Array.prototype.slice.call(arguments,0)),A=c.apply(r,arguments),r._trace({method:a,args:t}),A}};for(e=0;e<i;e++)o(lx[e]);r.setAttr=function(){s.apply(r,arguments);var a=arguments[0],A=arguments[1];a!=="shadowOffsetX"&&a!=="shadowOffsetY"&&a!=="shadowBlur"||(A/=this.canvas.getPixelRatio()),r._trace({property:a,val:A})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;!t||t==="source-over"||this.setAttr("globalCompositeOperation",t)}};ki.Context=Pf,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(n){Object.defineProperty(Pf.prototype,n,{get(){return this._context[n]},set(e){this._context[n]=e}})});ki.SceneContext=class extends Pf{constructor(n,{willReadFrequently:e=!1}={}){super(n),this._context=n._canvas.getContext("2d",{willReadFrequently:e})}_fillColor(n){var e=n.fill();this.setAttr("fillStyle",e),n._fillFunc(this)}_fillPattern(n){this.setAttr("fillStyle",n._getFillPattern()),n._fillFunc(this)}_fillLinearGradient(n){var e=n._getLinearGradient();e&&(this.setAttr("fillStyle",e),n._fillFunc(this))}_fillRadialGradient(n){const e=n._getRadialGradient();e&&(this.setAttr("fillStyle",e),n._fillFunc(this))}_fill(n){const e=n.fill(),t=n.getFillPriority();if(e&&t==="color")return void this._fillColor(n);const r=n.getFillPatternImage();if(r&&t==="pattern")return void this._fillPattern(n);const i=n.getFillLinearGradientColorStops();if(i&&t==="linear-gradient")return void this._fillLinearGradient(n);const s=n.getFillRadialGradientColorStops();s&&t==="radial-gradient"?this._fillRadialGradient(n):e?this._fillColor(n):r?this._fillPattern(n):i?this._fillLinearGradient(n):s&&this._fillRadialGradient(n)}_strokeLinearGradient(n){const e=n.getStrokeLinearGradientStartPoint(),t=n.getStrokeLinearGradientEndPoint(),r=n.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,t.x,t.y);if(r){for(var s=0;s<r.length;s+=2)i.addColorStop(r[s],r[s+1]);this.setAttr("strokeStyle",i)}}_stroke(n){var e=n.dash(),t=n.getStrokeScaleEnabled();if(n.hasStroke()){if(!t){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(n),e&&n.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",n.dashOffset())),this.setAttr("lineWidth",n.strokeWidth()),n.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),n.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(n):this.setAttr("strokeStyle",n.stroke()),n._strokeFunc(this),t||this.restore()}}_applyShadow(n){var e,t,r,i=(e=n.getShadowRGBA())!==null&&e!==void 0?e:"black",s=(t=n.getShadowBlur())!==null&&t!==void 0?t:5,o=(r=n.getShadowOffset())!==null&&r!==void 0?r:{x:0,y:0},a=n.getAbsoluteScale(),A=this.canvas.getPixelRatio(),c=a.x*A,l=a.y*A;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",s*Math.min(Math.abs(c),Math.abs(l))),this.setAttr("shadowOffsetX",o.x*c),this.setAttr("shadowOffsetY",o.y*l)}};ki.HitContext=class extends Pf{constructor(n){super(n),this._context=n._canvas.getContext("2d",{willReadFrequently:!0})}_fill(n){this.save(),this.setAttr("fillStyle",n.colorKey),n._fillFuncHit(this),this.restore()}strokeShape(n){n.hasHitStroke()&&this._stroke(n)}_stroke(n){if(n.hasHitStroke()){const i=n.getStrokeScaleEnabled();if(!i){this.save();var e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(n);var t=n.hitStrokeWidth(),r=t==="auto"?n.strokeWidth():t;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",n.colorKey),n._strokeFuncHit(this),i||this.restore()}}},Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.HitCanvas=Nr.SceneCanvas=Nr.Canvas=void 0;const ru=dt,sP=ki,cx=me,tq=fe,nq=ae;var iu;let Of=class{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var t=(e||{}).pixelRatio||cx.Konva.pixelRatio||function(){if(iu)return iu;var r=ru.Util.createCanvasElement(),i=r.getContext("2d");return iu=(cx.Konva._global.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1),ru.Util.releaseCanvas(r),iu}();this.pixelRatio=t,this._canvas=ru.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch{try{return this._canvas.toDataURL()}catch(i){return ru.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Nr.Canvas=Of,tq.Factory.addGetterSetter(Of,"pixelRatio",void 0,(0,nq.getNumberValidator)());Nr.SceneCanvas=class extends Of{constructor(n={width:0,height:0,willReadFrequently:!1}){super(n),this.context=new sP.SceneContext(this,{willReadFrequently:n.willReadFrequently}),this.setSize(n.width,n.height)}};Nr.HitCanvas=class extends Of{constructor(n={width:0,height:0}){super(n),this.hitCanvas=!0,this.context=new sP.HitContext(this),this.setSize(n.width,n.height)}};var Vg={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DD=void 0;const e=me,t=dt;n.DD={get isDragging(){var r=!1;return n.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){var r;return n.DD._dragElements.forEach(i=>{r=i.node}),r},_dragElements:new Map,_drag(r){const i=[];n.DD._dragElements.forEach((s,o)=>{const{node:a}=s,A=a.getStage();A.setPointersPositions(r),s.pointerId===void 0&&(s.pointerId=t.Util._getFirstPointerId(r));const c=A._changedPointerPositions.find(h=>h.id===s.pointerId);if(c){if(s.dragStatus!=="dragging"){var l=a.dragDistance();if(Math.max(Math.abs(c.x-s.startPointerPos.x),Math.abs(c.y-s.startPointerPos.y))<l||(a.startDrag({evt:r}),!a.isDragging()))return}a._setDragPosition(r,s),i.push(a)}}),i.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:r},!0)})},_endDragBefore(r){const i=[];n.DD._dragElements.forEach(s=>{const{node:o}=s,a=o.getStage();if(r&&a.setPointersPositions(r),!a._changedPointerPositions.find(c=>c.id===s.pointerId))return;s.dragStatus!=="dragging"&&s.dragStatus!=="stopped"||(n.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,s.dragStatus="stopped");const A=s.node.getLayer()||s.node instanceof e.Konva.Stage&&s.node;A&&i.indexOf(A)===-1&&i.push(A)}),i.forEach(s=>{s.draw()})},_endDragAfter(r){n.DD._dragElements.forEach((i,s)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:r},!0),i.dragStatus!=="dragging"&&n.DD._dragElements.delete(s)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",n.DD._endDragBefore,!0),window.addEventListener("touchend",n.DD._endDragBefore,!0),window.addEventListener("mousemove",n.DD._drag),window.addEventListener("touchmove",n.DD._drag),window.addEventListener("mouseup",n.DD._endDragAfter,!1),window.addEventListener("touchend",n.DD._endDragAfter,!1))})(Vg),Object.defineProperty(At,"__esModule",{value:!0}),At.Node=void 0;const be=dt,Gl=fe,El=Nr,ts=me,ir=Vg,wt=ae;var Fd="absoluteOpacity",su="allEventListeners",Ti="absoluteTransform",hx="absoluteScale",io="canvas",Hy="listening",ux="mouseenter",dx="mouseleave",fx="Shape",Td=" ",px="stage",ps="transform",$y="visible",rq=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Td);let iq=1,he=class jy{constructor(e){this._id=iq++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){e!==ps&&e!==Ti||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}_getCache(e,t){var r=this._cache.get(e);return(r===void 0||(e===ps||e===Ti)&&r.dirty===!0)&&(r=t.call(this),this._cache.set(e,r)),r}_calculate(e,t,r){if(!this._attachedDepsListeners.get(e)){const i=t.map(s=>s+"Change.konva").join(Td);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(io)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Ti&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(io)){const{scene:e,filter:t,hit:r}=this._cache.get(io);be.Util.releaseCanvas(e,t,r),this._cache.delete(io)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var t=e||{},r={};t.x!==void 0&&t.y!==void 0&&t.width!==void 0&&t.height!==void 0||(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var i=Math.ceil(t.width||r.width),s=Math.ceil(t.height||r.height),o=t.pixelRatio,a=t.x===void 0?Math.floor(r.x):t.x,A=t.y===void 0?Math.floor(r.y):t.y,c=t.offset||0,l=t.drawBorder||!1,h=t.hitCanvasPixelRatio||1;if(!i||!s)return void be.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");i+=2*c+(Math.abs(Math.round(r.x)-a)>.5?1:0),s+=2*c+(Math.abs(Math.round(r.y)-A)>.5?1:0),a-=c,A-=c;var u=new El.SceneCanvas({pixelRatio:o,width:i,height:s}),d=new El.SceneCanvas({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),p=new El.HitCanvas({pixelRatio:h,width:i,height:s}),f=u.getContext(),v=p.getContext();return p.isCache=!0,u.isCache=!0,this._cache.delete(io),this._filterUpToDate=!1,t.imageSmoothingEnabled===!1&&(u.getContext()._context.imageSmoothingEnabled=!1,d.getContext()._context.imageSmoothingEnabled=!1),f.save(),v.save(),f.translate(-a,-A),v.translate(-a,-A),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Fd),this._clearSelfAndDescendantCache(hx),this.drawScene(u,this),this.drawHit(p,this),this._isUnderCache=!1,f.restore(),v.restore(),l&&(f.save(),f.beginPath(),f.rect(0,0,i,s),f.closePath(),f.setAttr("strokeStyle","red"),f.setAttr("lineWidth",5),f.stroke(),f.restore()),this._cache.set(io,{scene:u,filter:d,hit:p,x:a,y:A}),this._requestDraw(),this}isCached(){return this._cache.has(io)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=1/0,s=1/0,o=-1/0,a=-1/0,A=this.getAbsoluteTransform(t);return r.forEach(function(c){var l=A.point(c);i===void 0&&(i=o=l.x,s=a=l.y),i=Math.min(i,l.x),s=Math.min(s,l.y),o=Math.max(o,l.x),a=Math.max(a,l.y)}),{x:i,y:s,width:o-i,height:a-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);var r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){var t=this._getCanvasCache(),r=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e,t,r,i,s=this.filters(),o=this._getCanvasCache(),a=o.scene,A=o.filter,c=A.getContext();if(s){if(!this._filterUpToDate){var l=a.pixelRatio;A.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(e=s.length,c.clear(),c.drawImage(a._canvas,0,0,a.getWidth()/l,a.getHeight()/l),t=c.getImageData(0,0,A.getWidth(),A.getHeight()),r=0;r<e;r++)typeof(i=s[r])=="function"?(i.call(this,t),c.putImageData(t,0,0)):be.Util.error("Filter should be type of function, but got "+typeof i+" instead. Please check correct filters")}catch(h){be.Util.error("Unable to apply filter. "+h.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return A}return a}on(e,t){if(this._cache&&this._cache.delete(su),arguments.length===3)return this._delegate.apply(this,arguments);var r,i,s,o,a=e.split(Td),A=a.length;for(r=0;r<A;r++)s=(i=a[r].split("."))[0],o=i[1]||"",this.eventListeners[s]||(this.eventListeners[s]=[]),this.eventListeners[s].push({name:o,handler:t});return this}off(e,t){var r,i,s,o,a,A=(e||"").split(Td),c=A.length;if(this._cache&&this._cache.delete(su),!e)for(i in this.eventListeners)this._off(i);for(r=0;r<c;r++)if(o=(s=A[r].split("."))[0],a=s[1],o)this.eventListeners[o]&&this._off(o,a,t);else for(i in this.eventListeners)this._off(i,a,t);return this}dispatchEvent(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(r){t.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,r){var i=this;this.on(e,function(s){for(var o=s.target.findAncestors(t,!0,i),a=0;a<o.length;a++)(s=be.Util.cloneObject(s)).currentTarget=o[a],r.call(o[a],s)})}remove(){return this.isDragging()&&this.stopDrag(),ir.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Ti),this._clearSelfAndDescendantCache(Fd),this._clearSelfAndDescendantCache(hx),this._clearSelfAndDescendantCache(px),this._clearSelfAndDescendantCache($y),this._clearSelfAndDescendantCache(Hy)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var t="get"+be.Util._capitalize(e);return be.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),t=[];e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var t,r;if(!e)return this;for(t in e)t!=="children"&&(r="set"+be.Util._capitalize(t),be.Util._isFunction(this[r])?this[r](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(Hy,this._isListening)}_isListening(e){if(!this.listening())return!1;const t=this.getParent();return!t||t===e||this===e||t._isListening(e)}isVisible(){return this._getCache($y,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const t=this.getParent();return!t||t===e||this===e||t._isVisible(e)}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);var r=this.getLayer(),i=!1;ir.DD._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===r)&&(i=!0)});var s=!t&&!ts.Konva.hitOnDragEnabled&&(i||ts.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e,t,r,i,s=this.getDepth(),o=this,a=0;const A=this.getStage();return o.nodeType!=="Stage"&&A&&function c(l){for(e=[],t=l.length,r=0;r<t;r++)i=l[r],a++,i.nodeType!==fx&&(e=e.concat(i.getChildren().slice())),i._id===o._id&&(r=t);e.length>0&&e[0].getDepth()<=s&&c(e)}(A.getChildren()),a}getDepth(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(ps),this._clearSelfAndDescendantCache(Ti)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;var t=e.getPointerPosition();if(!t)return null;var r=this.getAbsoluteTransform().copy();return r.invert(),r.point(t)}getAbsolutePosition(e){let t=!1,r=this.parent;for(;r;){if(r.isCached()){t=!0;break}r=r.parent}t&&!e&&(e=!0);var i=this.getAbsoluteTransform(e).getMatrix(),s=new be.Transform,o=this.offset();return s.m=i.slice(),s.translate(o.x,o.y),s.getTranslation()}setAbsolutePosition(e){const{x:t,y:r,...i}=this._clearTransform();this.attrs.x=t,this.attrs.y=r,this._clearCache(ps);var s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(ps),this._clearSelfAndDescendantCache(Ti),this}_setTransform(e){var t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var t=e.x,r=e.y,i=this.x(),s=this.y();return t!==void 0&&(i+=t),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,t){var r,i,s=[],o=this.getParent();if(!t||t._id!==this._id){for(s.unshift(this);o&&(!t||o._id!==t._id);)s.unshift(o),o=o.parent;for(r=s.length,i=0;i<r;i++)e(s[i])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return be.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return be.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return be.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return be.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(e){if(!this.parent)return be.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&be.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Fd,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e,t,r,i,s=this.getAttrs();const o={attrs:{},className:this.getClassName()};for(e in s)t=s[e],be.Util.isObject(t)&&!be.Util._isPlainObject(t)&&!be.Util._isArray(t)||(r=typeof this[e]=="function"&&this[e],delete s[e],i=r?r.call(this):null,s[e]=t,i!==t&&(o.attrs[e]=t));return be.Util._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,r){var i=[];t&&this._isMatch(e)&&i.push(this);for(var s=this.parent;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,t,r){return this.findAncestors(e,t,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var t,r,i=e.replace(/ /g,"").split(","),s=i.length;for(t=0;t<s;t++)if(r=i[t],be.Util.isValidSelector(r)||(be.Util.warn('Selector "'+r+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),be.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),be.Util.warn("Konva is awesome, right?")),r.charAt(0)==="#"){if(this.id()===r.slice(1))return!0}else if(r.charAt(0)==="."){if(this.hasName(r.slice(1)))return!0}else if(this.className===r||this.nodeType===r)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(px,this._getStage)}_getStage(){var e=this.getParent();return e?e.getStage():null}fire(e,t={},r){return t.target=t.target||this,r?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Ti,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var t;if(e)return t=new be.Transform,this._eachAncestorReverse(function(i){var s=i.transformsEnabled();s==="all"?t.multiply(i.getTransform()):s==="position"&&t.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),t;t=this._cache.get(Ti)||new be.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();var r=this.transformsEnabled();if(r==="all")t.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,o=this.attrs.offsetX||0,a=this.attrs.offsetY||0;t.translate(i-o,s-a)}return t.dirty=!1,t}getAbsoluteScale(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();const r=this.getAbsoluteTransform(e).decompose();return{x:r.scaleX,y:r.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(ps,this._getTransform)}_getTransform(){var e,t,r=this._cache.get(ps)||new be.Transform;r.reset();var i=this.x(),s=this.y(),o=ts.Konva.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,A=(t=this.attrs.scaleY)!==null&&t!==void 0?t:1,c=this.attrs.skewX||0,l=this.attrs.skewY||0,h=this.attrs.offsetX||0,u=this.attrs.offsetY||0;return i===0&&s===0||r.translate(i,s),o!==0&&r.rotate(o),c===0&&l===0||r.skew(c,l),a===1&&A===1||r.scale(a,A),h===0&&u===0||r.translate(-1*h,-1*u),r.dirty=!1,r}clone(e){var t,r,i,s,o,a=be.Util.cloneObject(this.attrs);for(t in e)a[t]=e[t];var A=new this.constructor(a);for(t in this.eventListeners)for(i=(r=this.eventListeners[t]).length,s=0;s<i;s++)(o=r[s]).name.indexOf("konva")<0&&(A.eventListeners[t]||(A.eventListeners[t]=[]),A.eventListeners[t].push(o));return A}_toKonvaCanvas(e){e=e||{};var t=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(t.x),s=e.y!==void 0?e.y:Math.floor(t.y),o=e.pixelRatio||1,a=new El.SceneCanvas({width:e.width||Math.ceil(t.width)||(r?r.width():0),height:e.height||Math.ceil(t.height)||(r?r.height():0),pixelRatio:o}),A=a.getContext();const c=new El.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(s),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(A._context.imageSmoothingEnabled=!1),A.save(),(i||s)&&A.translate(-1*i,-1*s),this.drawScene(a,void 0,c),A.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){var t=(e=e||{}).mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(t,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((t,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,be.Util._urlToImage(this.toDataURL(e),function(s){t(s),i==null||i(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((t,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{t(s),i==null||i(s)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():ts.Konva.dragDistance}_off(e,t,r){var i,s,o,a=this.eventListeners[e];for(i=0;i<a.length;i++)if(s=a[i].name,o=a[i].handler,!(s==="konva"&&t!=="konva"||t&&s!==t||r&&r!==o)){if(a.splice(i,1),a.length===0){delete this.eventListeners[e];break}i--}}_fireChangeEvent(e,t,r){this._fire(e+"Change",{oldVal:t,newVal:r})}addName(e){if(!this.hasName(e)){var t=this.name(),r=t?t+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const t=this.name();return!!t&&(t||"").split(/\s/g).indexOf(e)!==-1}removeName(e){var t=(this.name()||"").split(/\s/g),r=t.indexOf(e);return r!==-1&&(t.splice(r,1),this.name(t.join(" "))),this}setAttr(e,t){var r=this["set"+be.Util._capitalize(e)];return be.Util._isFunction(r)?r.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(ts.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,t){var r=this.attrs[e];(r!==t||be.Util.isObject(t))&&(t==null?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,t),this._requestDraw())}_setComponentAttr(e,t,r){var i;r!==void 0&&((i=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,t,r){if(t&&this.nodeType===fx&&(t.target=this),!((e===ux||e===dx)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,t);var i=(e===ux||e===dx)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!i&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,t,r):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,r,i;const s=(t=this._cache.get(su))!==null&&t!==void 0?t:{};let o=s==null?void 0:s[e];if(o===void 0){o=[];let a=Object.getPrototypeOf(this);for(;a;){const A=(i=(r=a.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];o.push(...A),a=Object.getPrototypeOf(a)}s[e]=o,this._cache.set(su,s)}return o}_fire(e,t){(t=t||{}).currentTarget=this,t.type=e;const r=this._getProtoListeners(e);if(r)for(var i=0;i<r.length;i++)r[i].handler.call(this,t);const s=this.eventListeners[e];if(s)for(i=0;i<s.length;i++)s[i].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var t=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(r){var s=r._getPointerById(t)||r._changedPointerPositions[0]||i;ir.DD._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:t})}}startDrag(e,t=!0){ir.DD._dragElements.has(this._id)||this._createDragElement(e),ir.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const r=this.getStage()._getPointerById(t.pointerId);if(r){var i={x:r.x-t.offset.x,y:r.y-t.offset.y},s=this.dragBoundFunc();if(s!==void 0){const o=s.call(this,i,e);o?i=o:be.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(e){const t=ir.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),ir.DD._endDragBefore(e),ir.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=ir.DD._dragElements.get(this._id);return!!e&&e.dragStatus==="dragging"}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if((e.evt.button===void 0||ts.Konva.dragButtons.indexOf(e.evt.button)>=0)&&!this.isDragging()){var t=!1;ir.DD._dragElements.forEach(r=>{this.isAncestorOf(r.node)&&(t=!0)}),t||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const e=ir.DD._dragElements.get(this._id),t=e&&e.dragStatus==="dragging",r=e&&e.dragStatus==="ready";t?this.stopDrag():r&&ir.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const t=this.getStage();if(!t)return!1;const r={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return be.Util.haveIntersection(r,this.getClientRect())}static create(e,t){return be.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){var r,i,s,o=jy.prototype.getClassName.call(e),a=e.children;if(t&&(e.attrs.container=t),ts.Konva[o]||(be.Util.warn('Can not find a node with class name "'+o+'". Fallback to "Shape".'),o="Shape"),r=new ts.Konva[o](e.attrs),a)for(i=a.length,s=0;s<i;s++)r.add(jy._createNode(a[s]));return r}};At.Node=he,he.prototype.nodeType="Node",he.prototype._attrsAffectingSize=[],he.prototype.eventListeners={},he.prototype.on.call(he.prototype,rq,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(ps),this._clearSelfAndDescendantCache(Ti))}),he.prototype.on.call(he.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache($y)}),he.prototype.on.call(he.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Hy)}),he.prototype.on.call(he.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Fd)});const Ve=Gl.Factory.addGetterSetter;Ve(he,"zIndex"),Ve(he,"absolutePosition"),Ve(he,"position"),Ve(he,"x",0,(0,wt.getNumberValidator)()),Ve(he,"y",0,(0,wt.getNumberValidator)()),Ve(he,"globalCompositeOperation","source-over",(0,wt.getStringValidator)()),Ve(he,"opacity",1,(0,wt.getNumberValidator)()),Ve(he,"name","",(0,wt.getStringValidator)()),Ve(he,"id","",(0,wt.getStringValidator)()),Ve(he,"rotation",0,(0,wt.getNumberValidator)()),Gl.Factory.addComponentsGetterSetter(he,"scale",["x","y"]),Ve(he,"scaleX",1,(0,wt.getNumberValidator)()),Ve(he,"scaleY",1,(0,wt.getNumberValidator)()),Gl.Factory.addComponentsGetterSetter(he,"skew",["x","y"]),Ve(he,"skewX",0,(0,wt.getNumberValidator)()),Ve(he,"skewY",0,(0,wt.getNumberValidator)()),Gl.Factory.addComponentsGetterSetter(he,"offset",["x","y"]),Ve(he,"offsetX",0,(0,wt.getNumberValidator)()),Ve(he,"offsetY",0,(0,wt.getNumberValidator)()),Ve(he,"dragDistance",null,(0,wt.getNumberValidator)()),Ve(he,"width",0,(0,wt.getNumberValidator)()),Ve(he,"height",0,(0,wt.getNumberValidator)()),Ve(he,"listening",!0,(0,wt.getBooleanValidator)()),Ve(he,"preventDefault",!0,(0,wt.getBooleanValidator)()),Ve(he,"filters",null,function(n){return this._filterUpToDate=!1,n}),Ve(he,"visible",!0,(0,wt.getBooleanValidator)()),Ve(he,"transformsEnabled","all",(0,wt.getStringValidator)()),Ve(he,"size"),Ve(he,"dragBoundFunc"),Ve(he,"draggable",!1,(0,wt.getBooleanValidator)()),Gl.Factory.backCompat(he,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var na={};Object.defineProperty(na,"__esModule",{value:!0}),na.Container=void 0;const xa=fe,d0=At,ou=ae;let so=class extends d0.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const t=this.children||[];var r=[];return t.forEach(function(i){e(i)&&r.push(i)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(var t=0;t<e.length;t++)this.add(e[t]);return this}const r=e[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){var r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!(!s||!t)}),r}_descendants(e){let t=!1;const r=this.getChildren();for(const i of r)if(t=e(i),t||i.hasChildren()&&(t=i._descendants(e),t))return!0;return!1}toObject(){var e=d0.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){var t=d0.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){t.add(r.clone())}),t}getAllIntersections(e){var t=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&t.push(r)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),this.isCached()||(t=this.children)===null||t===void 0||t.forEach(function(r){r._clearSelfAndDescendantCache(e)})}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(t,r){t.index=r}),this._requestDraw()}drawScene(e,t,r){var i=this.getLayer(),s=e||i&&i.getCanvas(),o=s&&s.getContext(),a=this._getCanvasCache(),A=a&&a.scene,c=s&&s.isCache;if(!this.isVisible()&&!c)return this;if(A){o.save();var l=this.getAbsoluteTransform(t).getMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",s,t,r);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;var r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),o=this._getCanvasCache();if(o&&o.hit){s.save();var a=this.getAbsoluteTransform(t).getMatrix();s.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,t);return this}_drawChildren(e,t,r,i){var s,o=t&&t.getContext(),a=this.clipWidth(),A=this.clipHeight(),c=this.clipFunc(),l=typeof a=="number"&&typeof A=="number"||c;const h=r===this;if(l){o.save();var u=this.getAbsoluteTransform(r),d=u.getMatrix();let m;if(o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),o.beginPath(),c)m=c.call(this,o,this);else{var p=this.clipX(),f=this.clipY();o.rect(p||0,f||0,a,A)}o.clip.apply(o,m),d=u.copy().invert().getMatrix(),o.transform(d[0],d[1],d[2],d[3],d[4],d[5])}var v=!h&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";v&&(o.save(),o._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(m){m[e](t,r,i)}),v&&o.restore(),l&&o.restore()}getClientRect(e={}){var t,r,i,s,o,a=e.skipTransform,A=e.relativeTo,c={x:1/0,y:1/0,width:0,height:0},l=this;(t=this.children)===null||t===void 0||t.forEach(function(p){if(p.visible()){var f=p.getClientRect({relativeTo:l,skipShadow:e.skipShadow,skipStroke:e.skipStroke});f.width===0&&f.height===0||(r===void 0?(r=f.x,i=f.y,s=f.x+f.width,o=f.y+f.height):(r=Math.min(r,f.x),i=Math.min(i,f.y),s=Math.max(s,f.x+f.width),o=Math.max(o,f.y+f.height)))}});for(var h=this.find("Shape"),u=!1,d=0;d<h.length;d++)if(h[d]._isVisible(this)){u=!0;break}return c=u&&r!==void 0?{x:r,y:i,width:s-r,height:o-i}:{x:0,y:0,width:0,height:0},a?c:this._transformedRect(c,A)}};na.Container=so,xa.Factory.addComponentsGetterSetter(so,"clip",["x","y","width","height"]),xa.Factory.addGetterSetter(so,"clipX",void 0,(0,ou.getNumberValidator)()),xa.Factory.addGetterSetter(so,"clipY",void 0,(0,ou.getNumberValidator)()),xa.Factory.addGetterSetter(so,"clipWidth",void 0,(0,ou.getNumberValidator)()),xa.Factory.addGetterSetter(so,"clipHeight",void 0,(0,ou.getNumberValidator)()),xa.Factory.addGetterSetter(so,"clipFunc");var oP={},Kn={};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.releaseCapture=Kn.setPointerCapture=Kn.hasPointerCapture=Kn.createEvent=Kn.getCapturedShape=void 0;const sq=me,pc=new Map,aP=sq.Konva._global.PointerEvent!==void 0;function Ky(n){return{evt:n,pointerId:n.pointerId}}function gx(n,e){const t=pc.get(n);if(!t)return;const r=t.getStage();r&&r.content,pc.delete(n),aP&&t._fire("lostpointercapture",Ky(new PointerEvent("lostpointercapture")))}Kn.getCapturedShape=function(n){return pc.get(n)},Kn.createEvent=Ky,Kn.hasPointerCapture=function(n,e){return pc.get(n)===e},Kn.setPointerCapture=function(n,e){gx(n),e.getStage()&&(pc.set(n,e),aP&&e._fire("gotpointercapture",Ky(new PointerEvent("gotpointercapture"))))},Kn.releaseCapture=gx,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Stage=n.stages=void 0;const e=dt,t=fe,r=na,i=me,s=Nr,o=Vg,a=me,A=Kn;var c="mouseleave",l="mouseover",h="mouseenter",u="mousemove",d="mousedown",p="mouseup",f="pointermove",v="pointerdown",m="pointerup",y="pointercancel",w="pointerout",C="pointerleave",S="pointerover",x="pointerenter",E="contextmenu",T="touchstart",P="touchend",F="touchmove",U="touchcancel",I="wheel",D=[[h,"_pointerenter"],[d,"_pointerdown"],[u,"_pointermove"],[p,"_pointerup"],[c,"_pointerleave"],[T,"_pointerdown"],[F,"_pointermove"],[P,"_pointerup"],[U,"_pointercancel"],[l,"_pointerover"],[I,"_wheel"],[E,"_contextmenu"],[v,"_pointerdown"],[f,"_pointermove"],[m,"_pointerup"],[y,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const $={mouse:{[w]:"mouseout",[C]:c,[S]:l,[x]:h,[f]:u,[v]:d,[m]:p,[y]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[w]:"touchout",[C]:"touchleave",[S]:"touchover",[x]:"touchenter",[f]:F,[v]:T,[m]:P,[y]:U,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[w]:w,[C]:C,[S]:S,[x]:x,[f]:f,[v]:v,[m]:m,[y]:y,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},M=R=>R.indexOf("pointer")>=0?"pointer":R.indexOf("touch")>=0?"touch":"mouse",G=R=>{const B=M(R);return B==="pointer"?i.Konva.pointerEventsEnabled&&$.pointer:B==="touch"?$.touch:B==="mouse"?$.mouse:void 0};function V(R={}){return(R.clipFunc||R.clipWidth||R.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),R}n.stages=[];class Q extends r.Container{constructor(B){super(V(B)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),n.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{V(this.attrs)}),this._checkVisibility()}_validateAdd(B){const O=B.getType()==="Layer",k=B.getType()==="FastLayer";O||k||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const B=this.visible()?"":"none";this.content.style.display=B}setContainer(B){if(typeof B=="string"){if(B.charAt(0)==="."){var O=B.slice(1);B=document.getElementsByClassName(O)[0]}else{var k;k=B.charAt(0)!=="#"?B:B.slice(1),B=document.getElementById(k)}if(!B)throw"Can not find container in document with id "+k}return this._setAttr("container",B),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),B.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var B,O=this.children,k=O.length;for(B=0;B<k;B++)O[B].clear();return this}clone(B){return B||(B={}),B.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,B)}destroy(){super.destroy();var B=this.content;B&&e.Util._isInDocument(B)&&this.container().removeChild(B);var O=n.stages.indexOf(this);return O>-1&&n.stages.splice(O,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const B=this._pointerPositions[0]||this._changedPointerPositions[0];return B?{x:B.x,y:B.y}:(e.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(B){return this._pointerPositions.find(O=>O.id===B)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(B){(B=B||{}).x=B.x||0,B.y=B.y||0,B.width=B.width||this.width(),B.height=B.height||this.height();var O=new s.SceneCanvas({width:B.width,height:B.height,pixelRatio:B.pixelRatio||1}),k=O.getContext()._context,L=this.children;return(B.x||B.y)&&k.translate(-1*B.x,-1*B.y),L.forEach(function(j){if(j.isVisible()){var K=j._toKonvaCanvas(B);k.drawImage(K._canvas,B.x,B.y,K.getWidth()/K.getPixelRatio(),K.getHeight()/K.getPixelRatio())}}),O}getIntersection(B){if(!B)return null;var O,k=this.children;for(O=k.length-1;O>=0;O--){const L=k[O].getIntersection(B);if(L)return L}return null}_resizeDOM(){var B=this.width(),O=this.height();this.content&&(this.content.style.width=B+"px",this.content.style.height=O+"px"),this.bufferCanvas.setSize(B,O),this.bufferHitCanvas.setSize(B,O),this.children.forEach(k=>{k.setSize({width:B,height:O}),k.draw()})}add(B,...O){if(arguments.length>1){for(var k=0;k<arguments.length;k++)this.add(arguments[k]);return this}super.add(B);var L=this.children.length;return L>5&&e.Util.warn("The stage has "+L+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),B.setSize({width:this.width(),height:this.height()}),B.draw(),i.Konva.isBrowser&&this.content.appendChild(B.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(B){return A.hasPointerCapture(B,this)}setPointerCapture(B){A.setPointerCapture(B,this)}releaseCapture(B){A.releaseCapture(B,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&D.forEach(([B,O])=>{this.content.addEventListener(B,k=>{this[O](k)},{passive:!1})})}_pointerenter(B){this.setPointersPositions(B);const O=G(B.type);O&&this._fire(O.pointerenter,{evt:B,target:this,currentTarget:this})}_pointerover(B){this.setPointersPositions(B);const O=G(B.type);O&&this._fire(O.pointerover,{evt:B,target:this,currentTarget:this})}_getTargetShape(B){let O=this[B+"targetShape"];return O&&!O.getStage()&&(O=null),O}_pointerleave(B){const O=G(B.type),k=M(B.type);if(O){this.setPointersPositions(B);var L=this._getTargetShape(k),j=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;L&&j?(L._fireAndBubble(O.pointerout,{evt:B}),L._fireAndBubble(O.pointerleave,{evt:B}),this._fire(O.pointerleave,{evt:B,target:this,currentTarget:this}),this[k+"targetShape"]=null):j&&(this._fire(O.pointerleave,{evt:B,target:this,currentTarget:this}),this._fire(O.pointerout,{evt:B,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(B){const O=G(B.type),k=M(B.type);if(O){this.setPointersPositions(B);var L=!1;this._changedPointerPositions.forEach(j=>{var K=this.getIntersection(j);if(o.DD.justDragged=!1,i.Konva["_"+k+"ListenClick"]=!0,!K||!K.isListening())return;i.Konva.capturePointerEventsEnabled&&K.setPointerCapture(j.id),this[k+"ClickStartShape"]=K,K._fireAndBubble(O.pointerdown,{evt:B,pointerId:j.id}),L=!0;const J=B.type.indexOf("touch")>=0;K.preventDefault()&&B.cancelable&&J&&B.preventDefault()}),L||this._fire(O.pointerdown,{evt:B,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(B){const O=G(B.type),k=M(B.type);if(!O||(i.Konva.isDragging()&&o.DD.node.preventDefault()&&B.cancelable&&B.preventDefault(),this.setPointersPositions(B),!(!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled)))return;var L={};let j=!1;var K=this._getTargetShape(k);this._changedPointerPositions.forEach(J=>{const Y=A.getCapturedShape(J.id)||this.getIntersection(J),ie=J.id,Z={evt:B,pointerId:ie};var Te=K!==Y;if(Te&&K&&(K._fireAndBubble(O.pointerout,{...Z},Y),K._fireAndBubble(O.pointerleave,{...Z},Y)),Y){if(L[Y._id])return;L[Y._id]=!0}Y&&Y.isListening()?(j=!0,Te&&(Y._fireAndBubble(O.pointerover,{...Z},K),Y._fireAndBubble(O.pointerenter,{...Z},K),this[k+"targetShape"]=Y),Y._fireAndBubble(O.pointermove,{...Z})):K&&(this._fire(O.pointerover,{evt:B,target:this,currentTarget:this,pointerId:ie}),this[k+"targetShape"]=null)}),j||this._fire(O.pointermove,{evt:B,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(B){const O=G(B.type),k=M(B.type);if(!O)return;this.setPointersPositions(B);const L=this[k+"ClickStartShape"],j=this[k+"ClickEndShape"];var K={};let J=!1;this._changedPointerPositions.forEach(Y=>{const ie=A.getCapturedShape(Y.id)||this.getIntersection(Y);if(ie){if(ie.releaseCapture(Y.id),K[ie._id])return;K[ie._id]=!0}const Z=Y.id,Te={evt:B,pointerId:Z};let mn=!1;i.Konva["_"+k+"InDblClickWindow"]?(mn=!0,clearTimeout(this[k+"DblTimeout"])):o.DD.justDragged||(i.Konva["_"+k+"InDblClickWindow"]=!0,clearTimeout(this[k+"DblTimeout"])),this[k+"DblTimeout"]=setTimeout(function(){i.Konva["_"+k+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),ie&&ie.isListening()?(J=!0,this[k+"ClickEndShape"]=ie,ie._fireAndBubble(O.pointerup,{...Te}),i.Konva["_"+k+"ListenClick"]&&L&&L===ie&&(ie._fireAndBubble(O.pointerclick,{...Te}),mn&&j&&j===ie&&ie._fireAndBubble(O.pointerdblclick,{...Te}))):(this[k+"ClickEndShape"]=null,i.Konva["_"+k+"ListenClick"]&&this._fire(O.pointerclick,{evt:B,target:this,currentTarget:this,pointerId:Z}),mn&&this._fire(O.pointerdblclick,{evt:B,target:this,currentTarget:this,pointerId:Z}))}),J||this._fire(O.pointerup,{evt:B,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+k+"ListenClick"]=!1,B.cancelable&&k!=="touch"&&B.preventDefault()}_contextmenu(B){this.setPointersPositions(B);var O=this.getIntersection(this.getPointerPosition());O&&O.isListening()?O._fireAndBubble(E,{evt:B}):this._fire(E,{evt:B,target:this,currentTarget:this})}_wheel(B){this.setPointersPositions(B);var O=this.getIntersection(this.getPointerPosition());O&&O.isListening()?O._fireAndBubble(I,{evt:B}):this._fire(I,{evt:B,target:this,currentTarget:this})}_pointercancel(B){this.setPointersPositions(B);const O=A.getCapturedShape(B.pointerId)||this.getIntersection(this.getPointerPosition());O&&O._fireAndBubble(m,A.createEvent(B)),A.releaseCapture(B.pointerId)}_lostpointercapture(B){A.releaseCapture(B.pointerId)}setPointersPositions(B){var O=this._getContentPosition(),k=null,L=null;(B=B||window.event).touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(B.touches,j=>{this._pointerPositions.push({id:j.identifier,x:(j.clientX-O.left)/O.scaleX,y:(j.clientY-O.top)/O.scaleY})}),Array.prototype.forEach.call(B.changedTouches||B.touches,j=>{this._changedPointerPositions.push({id:j.identifier,x:(j.clientX-O.left)/O.scaleX,y:(j.clientY-O.top)/O.scaleY})})):(k=(B.clientX-O.left)/O.scaleX,L=(B.clientY-O.top)/O.scaleY,this.pointerPos={x:k,y:L},this._pointerPositions=[{x:k,y:L,id:e.Util._getFirstPointerId(B)}],this._changedPointerPositions=[{x:k,y:L,id:e.Util._getFirstPointerId(B)}])}_setPointerPosition(B){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(B)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var B=this.content.getBoundingClientRect();return{top:B.top,left:B.left,scaleX:B.width/this.content.clientWidth||1,scaleY:B.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),i.Konva.isBrowser){var B=this.container();if(!B)throw"Stage has no container. A container is required.";B.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),B.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(B){B.batchDraw()}),this}}n.Stage=Q,Q.prototype.nodeType="Stage",(0,a._registerNode)(Q),t.Factory.addGetterSetter(Q,"container")}(oP);var zc={},Rt={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Shape=n.shapes=void 0;const e=me,t=dt,r=fe,i=At,s=ae,o=me,a=Kn;var A="hasShadow",c="shadowRGBA",l="patternImage",h="linearGradient",u="radialGradient";let d;function p(){return d||(d=t.Util.createCanvasElement().getContext("2d"),d)}n.shapes={};class f extends i.Node{constructor(m){let y;for(super(m);y=t.Util.getRandomColor(),!y||y in n.shapes;);this.colorKey=y,n.shapes[y]=this}getContext(){return t.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return t.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(A,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(l,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const m=p().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(m&&m.setTransform){const y=new t.Transform;y.translate(this.fillPatternX(),this.fillPatternY()),y.rotate(e.Konva.getAngle(this.fillPatternRotation())),y.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),y.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const w=y.getMatrix(),C=typeof DOMMatrix>"u"?{a:w[0],b:w[1],c:w[2],d:w[3],e:w[4],f:w[5]}:new DOMMatrix(w);m.setTransform(C)}return m}}_getLinearGradient(){return this._getCache(h,this.__getLinearGradient)}__getLinearGradient(){var m=this.fillLinearGradientColorStops();if(m){for(var y=p(),w=this.fillLinearGradientStartPoint(),C=this.fillLinearGradientEndPoint(),S=y.createLinearGradient(w.x,w.y,C.x,C.y),x=0;x<m.length;x+=2)S.addColorStop(m[x],m[x+1]);return S}}_getRadialGradient(){return this._getCache(u,this.__getRadialGradient)}__getRadialGradient(){var m=this.fillRadialGradientColorStops();if(m){for(var y=p(),w=this.fillRadialGradientStartPoint(),C=this.fillRadialGradientEndPoint(),S=y.createRadialGradient(w.x,w.y,this.fillRadialGradientStartRadius(),C.x,C.y,this.fillRadialGradientEndRadius()),x=0;x<m.length;x+=2)S.addColorStop(m[x],m[x+1]);return S}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var m=t.Util.colorToRGBA(this.shadowColor());return m?"rgba("+m.r+","+m.g+","+m.b+","+m.a*(this.shadowOpacity()||1)+")":void 0}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops()))}hasHitStroke(){const m=this.hitStrokeWidth();return m==="auto"?this.hasStroke():this.strokeEnabled()&&!!m}intersects(m){var y=this.getStage();if(!y)return!1;const w=y.bufferHitCanvas;return w.getContext().clear(),this.drawHit(w,void 0,!0),w.context.getImageData(Math.round(m.x),Math.round(m.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete n.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(m){var y;if(!((y=this.attrs.perfectDrawEnabled)===null||y===void 0||y))return!1;const w=m||this.hasFill(),C=this.hasStroke(),S=this.getAbsoluteOpacity()!==1;if(w&&C&&S)return!0;const x=this.hasShadow(),E=this.shadowForStrokeEnabled();return!!(w&&C&&x&&E)}setStrokeHitEnabled(m){t.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),m?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var m=this.size();return{x:this._centroid?-m.width/2:0,y:this._centroid?-m.height/2:0,width:m.width,height:m.height}}getClientRect(m={}){const y=m.skipTransform,w=m.relativeTo,C=this.getSelfRect(),S=!m.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,x=C.width+S,E=C.height+S,T=!m.skipShadow&&this.hasShadow(),P=T?this.shadowOffsetX():0,F=T?this.shadowOffsetY():0,U=x+Math.abs(P),I=E+Math.abs(F),D=T&&this.shadowBlur()||0,$={width:U+2*D,height:I+2*D,x:-(S/2+D)+Math.min(P,0)+C.x,y:-(S/2+D)+Math.min(F,0)+C.y};return y?$:this._transformedRect($,w)}drawScene(m,y,w){var C,S,x=this.getLayer(),E=m||x.getCanvas(),T=E.getContext(),P=this._getCanvasCache(),F=this.getSceneFunc(),U=this.hasShadow(),I=E.isCache,D=y===this;if(!this.isVisible()&&!D)return this;if(P){T.save();var $=this.getAbsoluteTransform(y).getMatrix();return T.transform($[0],$[1],$[2],$[3],$[4],$[5]),this._drawCachedSceneCanvas(T),T.restore(),this}if(!F)return this;if(T.save(),this._useBufferCanvas()&&!I){C=this.getStage();const V=w||C.bufferCanvas;(S=V.getContext()).clear(),S.save(),S._applyLineJoin(this);var M=this.getAbsoluteTransform(y).getMatrix();S.transform(M[0],M[1],M[2],M[3],M[4],M[5]),F.call(this,S,this),S.restore();var G=V.pixelRatio;U&&T._applyShadow(this),T._applyOpacity(this),T._applyGlobalCompositeOperation(this),T.drawImage(V._canvas,0,0,V.width/G,V.height/G)}else T._applyLineJoin(this),!D&&(M=this.getAbsoluteTransform(y).getMatrix(),T.transform(M[0],M[1],M[2],M[3],M[4],M[5]),T._applyOpacity(this),T._applyGlobalCompositeOperation(this)),U&&T._applyShadow(this),F.call(this,T,this);return T.restore(),this}drawHit(m,y,w=!1){if(!this.shouldDrawHit(y,w))return this;var C=this.getLayer(),S=m||C.hitCanvas,x=S&&S.getContext(),E=this.hitFunc()||this.sceneFunc(),T=this._getCanvasCache(),P=T&&T.hit;if(this.colorKey||t.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),P){x.save();var F=this.getAbsoluteTransform(y).getMatrix();return x.transform(F[0],F[1],F[2],F[3],F[4],F[5]),this._drawCachedHitCanvas(x),x.restore(),this}if(!E)return this;if(x.save(),x._applyLineJoin(this),this!==y){var U=this.getAbsoluteTransform(y).getMatrix();x.transform(U[0],U[1],U[2],U[3],U[4],U[5])}return E.call(this,x,this),x.restore(),this}drawHitFromCache(m=0){var y,w,C,S,x,E=this._getCanvasCache(),T=this._getCachedSceneCanvas(),P=E.hit,F=P.getContext(),U=P.getWidth(),I=P.getHeight();F.clear(),F.drawImage(T._canvas,0,0,U,I);try{for(C=(w=(y=F.getImageData(0,0,U,I)).data).length,S=t.Util._hexToRgb(this.colorKey),x=0;x<C;x+=4)w[x+3]>m?(w[x]=S.r,w[x+1]=S.g,w[x+2]=S.b,w[x+3]=255):w[x+3]=0;F.putImageData(y,0,0)}catch(D){t.Util.error("Unable to draw hit graph from cached scene canvas. "+D.message)}return this}hasPointerCapture(m){return a.hasPointerCapture(m,this)}setPointerCapture(m){a.setPointerCapture(m,this)}releaseCapture(m){a.releaseCapture(m,this)}}n.Shape=f,f.prototype._fillFunc=function(v){const m=this.attrs.fillRule;m?v.fill(m):v.fill()},f.prototype._strokeFunc=function(v){v.stroke()},f.prototype._fillFuncHit=function(v){v.fill()},f.prototype._strokeFuncHit=function(v){v.stroke()},f.prototype._centroid=!1,f.prototype.nodeType="Shape",(0,o._registerNode)(f),f.prototype.eventListeners={},f.prototype.on.call(f.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(A)}),f.prototype.on.call(f.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(c)}),f.prototype.on.call(f.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function(){this._clearCache(l)}),f.prototype.on.call(f.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function(){this._clearCache(h)}),f.prototype.on.call(f.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function(){this._clearCache(u)}),r.Factory.addGetterSetter(f,"stroke",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(f,"strokeWidth",2,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(f,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(f,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(f,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(f,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(f,"lineJoin"),r.Factory.addGetterSetter(f,"lineCap"),r.Factory.addGetterSetter(f,"sceneFunc"),r.Factory.addGetterSetter(f,"hitFunc"),r.Factory.addGetterSetter(f,"dash"),r.Factory.addGetterSetter(f,"dashOffset",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"shadowColor",void 0,(0,s.getStringValidator)()),r.Factory.addGetterSetter(f,"shadowBlur",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"shadowOpacity",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(f,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(f,"shadowOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"shadowOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"fillPatternImage"),r.Factory.addGetterSetter(f,"fill",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(f,"fillPatternX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"fillPatternY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(f,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(f,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(f,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(f,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(f,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(f,"fillEnabled",!0),r.Factory.addGetterSetter(f,"strokeEnabled",!0),r.Factory.addGetterSetter(f,"shadowEnabled",!0),r.Factory.addGetterSetter(f,"dashEnabled",!0),r.Factory.addGetterSetter(f,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(f,"fillPriority","color"),r.Factory.addComponentsGetterSetter(f,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(f,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(f,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(f,"fillPatternScaleX",1,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"fillPatternScaleY",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(f,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(f,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(f,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(f,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(f,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(f,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(f,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(f,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(f,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(f,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(f,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(f,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(f,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(f,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(f,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(f,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(f,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(f,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(f,"fillPatternRotation",0),r.Factory.addGetterSetter(f,"fillRule",void 0,(0,s.getStringValidator)()),r.Factory.backCompat(f,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Rt),Object.defineProperty(zc,"__esModule",{value:!0}),zc.Layer=void 0;const bi=dt,f0=na,_a=At,p0=fe,mx=Nr,oq=ae,aq=Rt,Aq=me;var AP=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],lq=AP.length;let Sa=class extends f0.Container{constructor(e){super(e),this.canvas=new mx.SceneCanvas,this.hitCanvas=new mx.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){_a.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!_a.Node.prototype.moveUp.call(this))return!1;var e=this.getStage();return!(!e||!e.content)&&(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(_a.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(_a.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return _a.Node.prototype.remove.call(this),e&&e.parentNode&&bi.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){var t=e.getType();t!=="Group"&&t!=="Shape"&&bi.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),_a.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){const e=this.visible();this.canvas._canvas.style.display=e?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){bi.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){bi.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,bi.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var t=1,r=!1;;){for(let i=0;i<lq;i++){const s=AP[i],o=this._getIntersection({x:e.x+s.x*t,y:e.y+s.y*t}),a=o.shape;if(a)return a;if(r=!!o.antialiased,!o.antialiased)break}if(!r)return null;t+=1}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,i=r[3];if(i===255){const s=bi.Util._rgbToHex(r[0],r[1],r[2]),o=aq.shapes["#"+s];return o?{shape:o}:{antialiased:!0}}return i>0?{antialiased:!0}:{}}drawScene(e,t){var r=this.getLayer(),i=e||r&&r.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),f0.Container.prototype.drawScene.call(this,i,t),this._fire("draw",{node:this}),this}drawHit(e,t){var r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),f0.Container.prototype.drawHit.call(this,i,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){bi.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return bi.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var e=this.parent;this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return bi.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};zc.Layer=Sa,Sa.prototype.nodeType="Layer",(0,Aq._registerNode)(Sa),p0.Factory.addGetterSetter(Sa,"imageSmoothingEnabled",!0),p0.Factory.addGetterSetter(Sa,"clearBeforeDraw",!0),p0.Factory.addGetterSetter(Sa,"hitGraphEnabled",!0,(0,oq.getBooleanValidator)());var If={};Object.defineProperty(If,"__esModule",{value:!0}),If.FastLayer=void 0;const cq=dt,hq=zc,uq=me;let g0=class extends hq.Layer{constructor(e){super(e),this.listening(!1),cq.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};If.FastLayer=g0,g0.prototype.nodeType="FastLayer",(0,uq._registerNode)(g0);var kA={};Object.defineProperty(kA,"__esModule",{value:!0}),kA.Group=void 0;const dq=dt,fq=na,pq=me;let m0=class extends fq.Container{_validateAdd(e){var t=e.getType();t!=="Group"&&t!=="Shape"&&dq.Util.throw("You may only add groups and shapes to groups.")}};kA.Group=m0,m0.prototype.nodeType="Group",(0,pq._registerNode)(m0);var DA={};Object.defineProperty(DA,"__esModule",{value:!0}),DA.Animation=void 0;const v0=me,vx=dt,y0=v0.glob.performance&&v0.glob.performance.now?function(){return v0.glob.performance.now()}:function(){return new Date().getTime()};let au=class Va{constructor(e,t){this.id=Va.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:y0(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){const t=this.layers,r=t.length;for(let i=0;i<r;i++)if(t[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const e=Va.animations,t=e.length;for(let r=0;r<t;r++)if(e[r].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=y0(),Va._addAnimation(this),this}stop(){return Va._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const t=e.id,r=this.animations,i=r.length;for(let s=0;s<i;s++)if(r[s].id===t){this.animations.splice(s,1);break}}static _runFrames(){const e={},t=this.animations;for(let r=0;r<t.length;r++){const i=t[r],s=i.layers,o=i.func;i._updateFrameObject(y0());const a=s.length;let A;if(A=!o||o.call(i,i.frame)!==!1,A)for(let c=0;c<a;c++){const l=s[c];l._id!==void 0&&(e[l._id]=l)}}for(let r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=Va;e.animations.length?(e._runFrames(),vx.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,vx.Util.requestAnimFrame(this._animationLoop))}};DA.Animation=au,au.animations=[],au.animIdCounter=0,au.animRunning=!1;var yx={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Easings=n.Tween=void 0;const e=dt,t=DA,r=At,i=me;var s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=0,a=["fill","stroke","shadowColor"];class A{constructor(h,u,d,p,f,v,m){this.prop=h,this.propFunc=u,this.begin=p,this._pos=p,this.duration=v,this._change=0,this.prevPos=0,this.yoyo=m,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=d,this._change=f-this.begin,this.pause()}fire(h){var u=this[h];u&&u()}setTime(h){h>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():h<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=h,this.update())}getTime(){return this._time}setPosition(h){this.prevPos=this._pos,this.propFunc(h),this._pos=h}getPosition(h){return h===void 0&&(h=this._time),this.func(h,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(h){this.pause(),this._time=h,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var h=this.getTimer()-this._startTime;this.state===2?this.setTime(h):this.state===3&&this.setTime(this.duration-h)}pause(){this.state=1,this.fire("onPause")}getTimer(){return new Date().getTime()}}class c{constructor(h){var u,d,p=this,f=h.node,v=f._id,m=h.easing||n.Easings.Linear,y=!!h.yoyo;u=h.duration===void 0?.3:h.duration===0?.001:h.duration,this.node=f,this._id=o++;var w=f.getLayer()||(f instanceof i.Konva.Stage?f.getLayers():null);for(d in w||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new t.Animation(function(){p.tween.onEnterFrame()},w),this.tween=new A(d,function(C){p._tweenFunc(C)},m,0,1,1e3*u,y),this._addListeners(),c.attrs[v]||(c.attrs[v]={}),c.attrs[v][this._id]||(c.attrs[v][this._id]={}),c.tweens[v]||(c.tweens[v]={}),h)s[d]===void 0&&this._addAttr(d,h[d]);this.reset(),this.onFinish=h.onFinish,this.onReset=h.onReset,this.onUpdate=h.onUpdate}_addAttr(h,u){var d,p,f,v,m,y,w,C,S=this.node,x=S._id;if((f=c.tweens[x][h])&&delete c.attrs[x][f][h],d=S.getAttr(h),e.Util._isArray(u))if(p=[],m=Math.max(u.length,d.length),h==="points"&&u.length!==d.length&&(u.length>d.length?(w=d,d=e.Util._prepareArrayForTween(d,u,S.closed())):(y=u,u=e.Util._prepareArrayForTween(u,d,S.closed()))),h.indexOf("fill")===0)for(v=0;v<m;v++)if(v%2==0)p.push(u[v]-d[v]);else{var E=e.Util.colorToRGBA(d[v]);C=e.Util.colorToRGBA(u[v]),d[v]=E,p.push({r:C.r-E.r,g:C.g-E.g,b:C.b-E.b,a:C.a-E.a})}else for(v=0;v<m;v++)p.push(u[v]-d[v]);else a.indexOf(h)!==-1?(d=e.Util.colorToRGBA(d),p={r:(C=e.Util.colorToRGBA(u)).r-d.r,g:C.g-d.g,b:C.b-d.b,a:C.a-d.a}):p=u-d;c.attrs[x][this._id][h]={start:d,diff:p,end:u,trueEnd:y,trueStart:w},c.tweens[x][h]=this._id}_tweenFunc(h){var u,d,p,f,v,m,y,w,C=this.node,S=c.attrs[C._id][this._id];for(u in S){if(p=(d=S[u]).start,f=d.diff,w=d.end,e.Util._isArray(p))if(v=[],y=Math.max(p.length,w.length),u.indexOf("fill")===0)for(m=0;m<y;m++)m%2==0?v.push((p[m]||0)+f[m]*h):v.push("rgba("+Math.round(p[m].r+f[m].r*h)+","+Math.round(p[m].g+f[m].g*h)+","+Math.round(p[m].b+f[m].b*h)+","+(p[m].a+f[m].a*h)+")");else for(m=0;m<y;m++)v.push((p[m]||0)+f[m]*h);else v=a.indexOf(u)!==-1?"rgba("+Math.round(p.r+f.r*h)+","+Math.round(p.g+f.g*h)+","+Math.round(p.b+f.b*h)+","+(p.a+f.a*h)+")":p+f*h;C.setAttr(u,v)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var h=this.node,u=c.attrs[h._id][this._id];u.points&&u.points.trueEnd&&h.setAttr("points",u.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var h=this.node,u=c.attrs[h._id][this._id];u.points&&u.points.trueStart&&h.points(u.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(h){return this.tween.seek(1e3*h),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var h,u=this.node._id,d=this._id,p=c.tweens[u];for(h in this.pause(),p)delete c.tweens[u][h];delete c.attrs[u][d]}}n.Tween=c,c.attrs={},c.tweens={},r.Node.prototype.to=function(l){var h=l.onFinish;l.node=this,l.onFinish=function(){this.destroy(),h&&h()},new c(l).play()},n.Easings={BackEaseIn(l,h,u,d){var p=1.70158;return u*(l/=d)*l*((p+1)*l-p)+h},BackEaseOut(l,h,u,d){var p=1.70158;return u*((l=l/d-1)*l*((p+1)*l+p)+1)+h},BackEaseInOut(l,h,u,d){var p=1.70158;return(l/=d/2)<1?u/2*(l*l*((1+(p*=1.525))*l-p))+h:u/2*((l-=2)*l*((1+(p*=1.525))*l+p)+2)+h},ElasticEaseIn(l,h,u,d,p,f){var v=0;return l===0?h:(l/=d)==1?h+u:(f||(f=.3*d),!p||p<Math.abs(u)?(p=u,v=f/4):v=f/(2*Math.PI)*Math.asin(u/p),-p*Math.pow(2,10*(l-=1))*Math.sin((l*d-v)*(2*Math.PI)/f)+h)},ElasticEaseOut(l,h,u,d,p,f){var v=0;return l===0?h:(l/=d)==1?h+u:(f||(f=.3*d),!p||p<Math.abs(u)?(p=u,v=f/4):v=f/(2*Math.PI)*Math.asin(u/p),p*Math.pow(2,-10*l)*Math.sin((l*d-v)*(2*Math.PI)/f)+u+h)},ElasticEaseInOut(l,h,u,d,p,f){var v=0;return l===0?h:(l/=d/2)==2?h+u:(f||(f=d*(.3*1.5)),!p||p<Math.abs(u)?(p=u,v=f/4):v=f/(2*Math.PI)*Math.asin(u/p),l<1?p*Math.pow(2,10*(l-=1))*Math.sin((l*d-v)*(2*Math.PI)/f)*-.5+h:p*Math.pow(2,-10*(l-=1))*Math.sin((l*d-v)*(2*Math.PI)/f)*.5+u+h)},BounceEaseOut:(l,h,u,d)=>(l/=d)<1/2.75?u*(7.5625*l*l)+h:l<2/2.75?u*(7.5625*(l-=1.5/2.75)*l+.75)+h:l<2.5/2.75?u*(7.5625*(l-=2.25/2.75)*l+.9375)+h:u*(7.5625*(l-=2.625/2.75)*l+.984375)+h,BounceEaseIn:(l,h,u,d)=>u-n.Easings.BounceEaseOut(d-l,0,u,d)+h,BounceEaseInOut:(l,h,u,d)=>l<d/2?.5*n.Easings.BounceEaseIn(2*l,0,u,d)+h:.5*n.Easings.BounceEaseOut(2*l-d,0,u,d)+.5*u+h,EaseIn:(l,h,u,d)=>u*(l/=d)*l+h,EaseOut:(l,h,u,d)=>-u*(l/=d)*(l-2)+h,EaseInOut:(l,h,u,d)=>(l/=d/2)<1?u/2*l*l+h:-u/2*(--l*(l-2)-1)+h,StrongEaseIn:(l,h,u,d)=>u*(l/=d)*l*l*l*l+h,StrongEaseOut:(l,h,u,d)=>u*((l=l/d-1)*l*l*l*l+1)+h,StrongEaseInOut:(l,h,u,d)=>(l/=d/2)<1?u/2*l*l*l*l*l+h:u/2*((l-=2)*l*l*l*l+2)+h,Linear:(l,h,u,d)=>u*l/d+h}})(yx),function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Konva=void 0;const e=me,t=dt,r=At,i=na,s=oP,o=zc,a=If,A=kA,c=Vg,l=Rt,h=DA,u=yx,d=ki,p=Nr;n.Konva=t.Util._assign(e.Konva,{Util:t.Util,Transform:t.Transform,Node:r.Node,Container:i.Container,Stage:s.Stage,stages:s.stages,Layer:o.Layer,FastLayer:a.FastLayer,Group:A.Group,DD:c.DD,Shape:l.Shape,shapes:l.shapes,Animation:h.Animation,Tween:u.Tween,Easings:u.Easings,Context:d.Context,Canvas:p.Canvas}),n.default=n.Konva}(iP);var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.Arc=void 0;const Au=fe,gq=Rt,bx=me,lu=ae,mq=me;let wi=class extends gq.Shape{_sceneFunc(e){var t=bx.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,r),e.arc(0,0,this.innerRadius(),t,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),r=this.clockwise(),i=bx.Konva.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),o=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),a=Math.sin(Math.min(i,Math.PI/2)),A=s*(s>0?e:t),c=o*(o>0?e:t),l=a*(a>0?t:e);return{x:A,y:r?-1*l:c,width:1*t-A,height:l-c}}};Uf.Arc=wi,wi.prototype._centroid=!0,wi.prototype.className="Arc",wi.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,mq._registerNode)(wi),Au.Factory.addGetterSetter(wi,"innerRadius",0,(0,lu.getNumberValidator)()),Au.Factory.addGetterSetter(wi,"outerRadius",0,(0,lu.getNumberValidator)()),Au.Factory.addGetterSetter(wi,"angle",0,(0,lu.getNumberValidator)()),Au.Factory.addGetterSetter(wi,"clockwise",!1,(0,lu.getBooleanValidator)());var kf={},Wc={};Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.Line=void 0;const cu=fe,vq=Rt,wx=ae,yq=me;function Gy(n,e,t,r,i,s,o){var a=Math.sqrt(Math.pow(t-n,2)+Math.pow(r-e,2)),A=Math.sqrt(Math.pow(i-t,2)+Math.pow(s-r,2)),c=o*a/(a+A),l=o*A/(a+A);return[t-c*(i-n),r-c*(s-e),t+l*(i-n),r+l*(s-e)]}function Cx(n,e){var t,r,i=n.length,s=[];for(t=2;t<i-2;t+=2)r=Gy(n[t-2],n[t-1],n[t],n[t+1],n[t+2],n[t+3],e),isNaN(r[0])||(s.push(r[0]),s.push(r[1]),s.push(n[t]),s.push(n[t+1]),s.push(r[2]),s.push(r[3]));return s}let ns=class extends vq.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var t,r,i,s=this.points(),o=s.length,a=this.tension(),A=this.closed(),c=this.bezier();if(o){if(e.beginPath(),e.moveTo(s[0],s[1]),a!==0&&o>4){for(r=(t=this.getTensionPoints()).length,i=A?0:4,A||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);i<r-2;)e.bezierCurveTo(t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]);A||e.quadraticCurveTo(t[r-2],t[r-1],s[o-2],s[o-1])}else if(c)for(i=2;i<o;)e.bezierCurveTo(s[i++],s[i++],s[i++],s[i++],s[i++],s[i++]);else for(i=2;i<o;i+=2)e.lineTo(s[i],s[i+1]);A?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Cx(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),t=e.length,r=this.tension(),i=Gy(e[t-2],e[t-1],e[0],e[1],e[2],e[3],r),s=Gy(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],r),o=Cx(e,r);return[i[2],i[3]].concat(o).concat([s[0],s[1],e[t-2],e[t-1],s[2],s[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};for(var t,r,i=(e=this.tension()!==0?[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.points())[0],s=e[0],o=e[1],a=e[1],A=0;A<e.length/2;A++)t=e[2*A],r=e[2*A+1],i=Math.min(i,t),s=Math.max(s,t),o=Math.min(o,r),a=Math.max(a,r);return{x:i,y:o,width:s-i,height:a-o}}};Wc.Line=ns,ns.prototype.className="Line",ns.prototype._attrsAffectingSize=["points","bezier","tension"],(0,yq._registerNode)(ns),cu.Factory.addGetterSetter(ns,"closed",!1),cu.Factory.addGetterSetter(ns,"bezier",!1),cu.Factory.addGetterSetter(ns,"tension",0,(0,wx.getNumberValidator)()),cu.Factory.addGetterSetter(ns,"points",[],(0,wx.getNumberArrayValidator)());var QA={},lP={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.t2length=n.getQuadraticArcLength=n.getCubicArcLength=n.binomialCoefficients=n.cValues=n.tValues=void 0,n.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],n.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],n.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]],n.getCubicArcLength=(r,i,s)=>{let o,a,A;o=s/2,a=0;for(let c=0;c<20;c++)A=o*n.tValues[20][c]+o,a+=n.cValues[20][c]*e(r,i,A);return o*a};function e(r,i,s){const o=t(1,s,r),a=t(1,s,i),A=o*o+a*a;return Math.sqrt(A)}n.getQuadraticArcLength=(r,i,s)=>{s===void 0&&(s=1);const o=r[0]-2*r[1]+r[2],a=i[0]-2*i[1]+i[2],A=2*r[1]-2*r[0],c=2*i[1]-2*i[0],l=4*(o*o+a*a),h=4*(o*A+a*c),u=A*A+c*c;if(l===0)return s*Math.sqrt(Math.pow(r[2]-r[0],2)+Math.pow(i[2]-i[0],2));const d=h/(2*l),p=s+d,f=u/l-d*d,v=p*p+f>0?Math.sqrt(p*p+f):0,m=d*d+f>0?Math.sqrt(d*d+f):0,y=d+Math.sqrt(d*d+f)!==0?f*Math.log(Math.abs((p+v)/(d+m))):0;return Math.sqrt(l)/2*(p*v-d*m+y)};const t=(r,i,s)=>{const o=s.length-1;let a,A;if(o===0)return 0;if(r===0){A=0;for(let c=0;c<=o;c++)A+=n.binomialCoefficients[o][c]*Math.pow(1-i,o-c)*Math.pow(i,c)*s[c];return A}a=new Array(o);for(let c=0;c<o;c++)a[c]=o*(s[c+1]-s[c]);return t(r-1,i,a)};n.t2length=(r,i,s)=>{let o=1,a=r/i,A=(r-s(a))/i,c=0;for(;o>.001;){const l=s(a+A),h=Math.abs(r-l)/i;if(h<o)o=h,a+=A;else{const u=s(a-A),d=Math.abs(r-u)/i;d<o?(o=d,a-=A):A/=2}if(c++,c>500)break}return a}})(lP),Object.defineProperty(QA,"__esModule",{value:!0}),QA.Path=void 0;const bq=fe,wq=Rt,Cq=me,Ea=lP;let Fl=class Pn extends wq.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Pn.parsePathData(this.data()),this.pathLength=Pn.getPathLength(this.dataArray)}_sceneFunc(e){var t=this.dataArray;e.beginPath();for(var r=!1,i=0;i<t.length;i++){var s=t[i].command,o=t[i].points;switch(s){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],A=o[1],c=o[2],l=o[3],h=o[4],u=o[5],d=o[6],p=o[7],f=c>l?c:l,v=c>l?1:c/l,m=c>l?l/c:1;e.translate(a,A),e.rotate(d),e.scale(v,m),e.arc(0,0,f,h,h+u,1-p),e.scale(1/v,1/m),e.rotate(-d),e.translate(-a,-A);break;case"z":r=!0,e.closePath()}}r||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(c){if(c.command==="A"){var l=c.points[4],h=c.points[5],u=c.points[4]+h,d=Math.PI/180;if(Math.abs(l-u)<d&&(d=Math.abs(l-u)),h<0)for(let p=l-d;p>u;p-=d){const f=Pn.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],p,0);e.push(f.x,f.y)}else for(let p=l+d;p<u;p+=d){const f=Pn.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],p,0);e.push(f.x,f.y)}}else if(c.command==="C")for(let p=0;p<=1;p+=.01){const f=Pn.getPointOnCubicBezier(p,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);e.push(f.x,f.y)}else e=e.concat(c.points)});for(var t,r,i=e[0],s=e[0],o=e[1],a=e[1],A=0;A<e.length/2;A++)t=e[2*A],r=e[2*A+1],isNaN(t)||(i=Math.min(i,t),s=Math.max(s,t)),isNaN(r)||(o=Math.min(o,r),a=Math.max(a,r));return{x:i,y:o,width:s-i,height:a-o}}getLength(){return this.pathLength}getPointAtLength(e){return Pn.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,r,i){return Math.sqrt((r-e)*(r-e)+(i-t)*(i-t))}static getPathLength(e){let t=0;for(var r=0;r<e.length;++r)t+=e[r].pathLength;return t}static getPointAtLengthOfDataArray(e,t){var r,i=0,s=t.length;if(!s)return null;for(;i<s&&e>t[i].pathLength;)e-=t[i].pathLength,++i;if(i===s)return{x:(r=t[i-1].points.slice(-2))[0],y:r[1]};if(e<.01)return{x:(r=t[i].points.slice(0,2))[0],y:r[1]};var o=t[i],a=o.points;switch(o.command){case"L":return Pn.getPointOnLine(e,o.start.x,o.start.y,a[0],a[1]);case"C":return Pn.getPointOnCubicBezier((0,Ea.t2length)(e,Pn.getPathLength(t),f=>(0,Ea.getCubicArcLength)([o.start.x,a[0],a[2],a[4]],[o.start.y,a[1],a[3],a[5]],f)),o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return Pn.getPointOnQuadraticBezier((0,Ea.t2length)(e,Pn.getPathLength(t),f=>(0,Ea.getQuadraticArcLength)([o.start.x,a[0],a[2]],[o.start.y,a[1],a[3]],f)),o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":var A=a[0],c=a[1],l=a[2],h=a[3],u=a[4],d=a[5],p=a[6];return u+=d*e/o.pathLength,Pn.getPointOnEllipticalArc(A,c,l,h,u,p)}return null}static getPointOnLine(e,t,r,i,s,o,a){o===void 0&&(o=t),a===void 0&&(a=r);var A=(s-r)/(i-t+1e-8),c=Math.sqrt(e*e/(1+A*A));i<t&&(c*=-1);var l,h=A*c;if(i===t)l={x:o,y:a+h};else if((a-r)/(o-t+1e-8)===A)l={x:o+c,y:a+h};else{var u,d,p=this.getLineLength(t,r,i,s),f=(o-t)*(i-t)+(a-r)*(s-r);u=t+(f/=p*p)*(i-t),d=r+f*(s-r);var v=this.getLineLength(o,a,u,d),m=Math.sqrt(e*e-v*v);c=Math.sqrt(m*m/(1+A*A)),i<t&&(c*=-1),l={x:u+c,y:d+(h=A*c)}}return l}static getPointOnCubicBezier(e,t,r,i,s,o,a,A,c){function l(p){return p*p*p}function h(p){return 3*p*p*(1-p)}function u(p){return 3*p*(1-p)*(1-p)}function d(p){return(1-p)*(1-p)*(1-p)}return{x:A*l(e)+o*h(e)+i*u(e)+t*d(e),y:c*l(e)+a*h(e)+s*u(e)+r*d(e)}}static getPointOnQuadraticBezier(e,t,r,i,s,o,a){function A(h){return h*h}function c(h){return 2*h*(1-h)}function l(h){return(1-h)*(1-h)}return{x:o*A(e)+i*c(e)+t*l(e),y:a*A(e)+s*c(e)+r*l(e)}}static getPointOnEllipticalArc(e,t,r,i,s,o){var a=Math.cos(o),A=Math.sin(o),c=r*Math.cos(s),l=i*Math.sin(s);return{x:e+(c*a-l*A),y:t+(c*A+l*a)}}static parsePathData(e){if(!e)return[];var t=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var i=0;i<r.length;i++)t=t.replace(new RegExp(r[i],"g"),"|"+r[i]);var s,o=t.split("|"),a=[],A=[],c=0,l=0,h=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(i=1;i<o.length;i++){var u=o[i],d=u.charAt(0);for(u=u.slice(1),A.length=0;s=h.exec(u);)A.push(s[0]);for(var p=[],f=0,v=A.length;f<v;f++)if(A[f]!=="00"){var m=parseFloat(A[f]);isNaN(m)?p.push(0):p.push(m)}else p.push(0,0);for(;p.length>0&&!isNaN(p[0]);){var y,w,C,S,x,E,T,P,F,U,I="",D=[],$=c,M=l;switch(d){case"l":c+=p.shift(),l+=p.shift(),I="L",D.push(c,l);break;case"L":c=p.shift(),l=p.shift(),D.push(c,l);break;case"m":var G=p.shift(),V=p.shift();if(c+=G,l+=V,I="M",a.length>2&&a[a.length-1].command==="z"){for(var Q=a.length-2;Q>=0;Q--)if(a[Q].command==="M"){c=a[Q].points[0]+G,l=a[Q].points[1]+V;break}}D.push(c,l),d="l";break;case"M":c=p.shift(),l=p.shift(),I="M",D.push(c,l),d="L";break;case"h":c+=p.shift(),I="L",D.push(c,l);break;case"H":c=p.shift(),I="L",D.push(c,l);break;case"v":l+=p.shift(),I="L",D.push(c,l);break;case"V":l=p.shift(),I="L",D.push(c,l);break;case"C":D.push(p.shift(),p.shift(),p.shift(),p.shift()),c=p.shift(),l=p.shift(),D.push(c,l);break;case"c":D.push(c+p.shift(),l+p.shift(),c+p.shift(),l+p.shift()),c+=p.shift(),l+=p.shift(),I="C",D.push(c,l);break;case"S":w=c,C=l,(y=a[a.length-1]).command==="C"&&(w=c+(c-y.points[2]),C=l+(l-y.points[3])),D.push(w,C,p.shift(),p.shift()),c=p.shift(),l=p.shift(),I="C",D.push(c,l);break;case"s":w=c,C=l,(y=a[a.length-1]).command==="C"&&(w=c+(c-y.points[2]),C=l+(l-y.points[3])),D.push(w,C,c+p.shift(),l+p.shift()),c+=p.shift(),l+=p.shift(),I="C",D.push(c,l);break;case"Q":D.push(p.shift(),p.shift()),c=p.shift(),l=p.shift(),D.push(c,l);break;case"q":D.push(c+p.shift(),l+p.shift()),c+=p.shift(),l+=p.shift(),I="Q",D.push(c,l);break;case"T":w=c,C=l,(y=a[a.length-1]).command==="Q"&&(w=c+(c-y.points[0]),C=l+(l-y.points[1])),c=p.shift(),l=p.shift(),I="Q",D.push(w,C,c,l);break;case"t":w=c,C=l,(y=a[a.length-1]).command==="Q"&&(w=c+(c-y.points[0]),C=l+(l-y.points[1])),c+=p.shift(),l+=p.shift(),I="Q",D.push(w,C,c,l);break;case"A":S=p.shift(),x=p.shift(),E=p.shift(),T=p.shift(),P=p.shift(),F=c,U=l,c=p.shift(),l=p.shift(),I="A",D=this.convertEndpointToCenterParameterization(F,U,c,l,T,P,S,x,E);break;case"a":S=p.shift(),x=p.shift(),E=p.shift(),T=p.shift(),P=p.shift(),F=c,U=l,c+=p.shift(),l+=p.shift(),I="A",D=this.convertEndpointToCenterParameterization(F,U,c,l,T,P,S,x,E)}a.push({command:I||d,points:D,start:{x:$,y:M},pathLength:this.calcLength($,M,I||d,D)})}d!=="z"&&d!=="Z"||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a}static calcLength(e,t,r,i){var s,o,a,A,c=Pn;switch(r){case"L":return c.getLineLength(e,t,i[0],i[1]);case"C":return(0,Ea.getCubicArcLength)([e,i[0],i[2],i[4]],[t,i[1],i[3],i[5]],1);case"Q":return(0,Ea.getQuadraticArcLength)([e,i[0],i[2]],[t,i[1],i[3]],1);case"A":s=0;var l=i[4],h=i[5],u=i[4]+h,d=Math.PI/180;if(Math.abs(l-u)<d&&(d=Math.abs(l-u)),o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),h<0)for(A=l-d;A>u;A-=d)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],A,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(A=l+d;A<u;A+=d)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],A,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),s+=c.getLineLength(o.x,o.y,a.x,a.y)}return 0}static convertEndpointToCenterParameterization(e,t,r,i,s,o,a,A,c){var l=c*(Math.PI/180),h=Math.cos(l)*(e-r)/2+Math.sin(l)*(t-i)/2,u=-1*Math.sin(l)*(e-r)/2+Math.cos(l)*(t-i)/2,d=h*h/(a*a)+u*u/(A*A);d>1&&(a*=Math.sqrt(d),A*=Math.sqrt(d));var p=Math.sqrt((a*a*(A*A)-a*a*(u*u)-A*A*(h*h))/(a*a*(u*u)+A*A*(h*h)));s===o&&(p*=-1),isNaN(p)&&(p=0);var f=p*a*u/A,v=p*-A*h/a,m=(e+r)/2+Math.cos(l)*f-Math.sin(l)*v,y=(t+i)/2+Math.sin(l)*f+Math.cos(l)*v,w=function(F){return Math.sqrt(F[0]*F[0]+F[1]*F[1])},C=function(F,U){return(F[0]*U[0]+F[1]*U[1])/(w(F)*w(U))},S=function(F,U){return(F[0]*U[1]<F[1]*U[0]?-1:1)*Math.acos(C(F,U))},x=S([1,0],[(h-f)/a,(u-v)/A]),E=[(h-f)/a,(u-v)/A],T=[(-1*h-f)/a,(-1*u-v)/A],P=S(E,T);return C(E,T)<=-1&&(P=Math.PI),C(E,T)>=1&&(P=0),o===0&&P>0&&(P-=2*Math.PI),o===1&&P<0&&(P+=2*Math.PI),[m,y,a,A,x,P,l,o]}};QA.Path=Fl,Fl.prototype.className="Path",Fl.prototype._attrsAffectingSize=["data"],(0,Cq._registerNode)(Fl),bq.Factory.addGetterSetter(Fl,"data"),Object.defineProperty(kf,"__esModule",{value:!0}),kf.Arrow=void 0;const hu=fe,Bq=Wc,Bx=ae,xq=me,xx=QA;let oo=class extends Bq.Line{_sceneFunc(e){super._sceneFunc(e);var t=2*Math.PI,r=this.points(),i=r,s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());var o,a,A=this.pointerLength(),c=r.length;if(s){const u=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[c-2],r[c-1]],d=xx.Path.calcLength(i[i.length-4],i[i.length-3],"C",u),p=xx.Path.getPointOnQuadraticBezier(Math.min(1,1-A/d),u[0],u[1],u[2],u[3],u[4],u[5]);o=r[c-2]-p.x,a=r[c-1]-p.y}else o=r[c-2]-r[c-4],a=r[c-1]-r[c-3];var l=(Math.atan2(a,o)+t)%t,h=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[c-2],r[c-1]),e.rotate(l),e.moveTo(0,0),e.lineTo(-A,h/2),e.lineTo(-A,-h/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(o=(i[0]+i[2])/2-r[0],a=(i[1]+i[3])/2-r[1]):(o=r[2]-r[0],a=r[3]-r[1]),e.rotate((Math.atan2(-a,-o)+t)%t),e.moveTo(0,0),e.lineTo(-A,h/2),e.lineTo(-A,-h/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}}};kf.Arrow=oo,oo.prototype.className="Arrow",(0,xq._registerNode)(oo),hu.Factory.addGetterSetter(oo,"pointerLength",10,(0,Bx.getNumberValidator)()),hu.Factory.addGetterSetter(oo,"pointerWidth",10,(0,Bx.getNumberValidator)()),hu.Factory.addGetterSetter(oo,"pointerAtBeginning",!1),hu.Factory.addGetterSetter(oo,"pointerAtEnding",!0);var Df={};Object.defineProperty(Df,"__esModule",{value:!0}),Df.Circle=void 0;const _q=fe,Sq=Rt,Eq=ae,Fq=me;let Fa=class extends Sq.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Df.Circle=Fa,Fa.prototype._centroid=!0,Fa.prototype.className="Circle",Fa.prototype._attrsAffectingSize=["radius"],(0,Fq._registerNode)(Fa),_q.Factory.addGetterSetter(Fa,"radius",0,(0,Eq.getNumberValidator)());var Qf={};Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.Ellipse=void 0;const b0=fe,Tq=Rt,_x=ae,Pq=me;let rs=class extends Tq.Shape{_sceneFunc(e){var t=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),t!==r&&e.scale(1,r/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}};Qf.Ellipse=rs,rs.prototype.className="Ellipse",rs.prototype._centroid=!0,rs.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,Pq._registerNode)(rs),b0.Factory.addComponentsGetterSetter(rs,"radius",["x","y"]),b0.Factory.addGetterSetter(rs,"radiusX",0,(0,_x.getNumberValidator)()),b0.Factory.addGetterSetter(rs,"radiusY",0,(0,_x.getNumberValidator)());var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.Image=void 0;const w0=dt,ao=fe,Oq=Rt,Iq=me,Tl=ae;let Yr=class cP extends Oq.Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),s=this.attrs.image;let o;if(s){const a=this.attrs.cropWidth,A=this.attrs.cropHeight;o=a&&A?[s,this.cropX(),this.cropY(),a,A,0,0,t,r]:[s,0,0,t,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?w0.Util.drawRoundedRectPath(e,t,r,i):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)),s&&(i&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){var t=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?w0.Util.drawRoundedRectPath(e,t,r,i):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return(e=this.attrs.width)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.width}getHeight(){var e,t;return(e=this.attrs.height)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.height}static fromURL(e,t,r=null){var i=w0.Util.createImageElement();i.onload=function(){var s=new cP({image:i});t(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}};Mf.Image=Yr,Yr.prototype.className="Image",(0,Iq._registerNode)(Yr),ao.Factory.addGetterSetter(Yr,"cornerRadius",0,(0,Tl.getNumberOrArrayOfNumbersValidator)(4)),ao.Factory.addGetterSetter(Yr,"image"),ao.Factory.addComponentsGetterSetter(Yr,"crop",["x","y","width","height"]),ao.Factory.addGetterSetter(Yr,"cropX",0,(0,Tl.getNumberValidator)()),ao.Factory.addGetterSetter(Yr,"cropY",0,(0,Tl.getNumberValidator)()),ao.Factory.addGetterSetter(Yr,"cropWidth",0,(0,Tl.getNumberValidator)()),ao.Factory.addGetterSetter(Yr,"cropHeight",0,(0,Tl.getNumberValidator)());var yA={};Object.defineProperty(yA,"__esModule",{value:!0}),yA.Tag=yA.Label=void 0;const uu=fe,Uq=Rt,kq=kA,C0=ae,hP=me;var uP=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],Vy="up",zy="right",Wy="down",Xy="left",Dq=uP.length;let B0=class extends kq.Group{constructor(e){super(e),this.on("add.konva",function(t){this._addListeners(t.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var t,r=this,i=function(){r._sync()};for(t=0;t<Dq;t++)e.on(uP[t]+"Change.konva",i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e,t,r,i,s,o,a,A=this.getText(),c=this.getTag();if(A&&c){switch(e=A.width(),t=A.height(),r=c.pointerDirection(),i=c.pointerWidth(),a=c.pointerHeight(),s=0,o=0,r){case Vy:s=e/2,o=-1*a;break;case zy:s=e+i,o=t/2;break;case Wy:s=e/2,o=t+a;break;case Xy:s=-1*i,o=t/2}c.setAttrs({x:-1*s,y:-1*o,width:e,height:t}),A.setAttrs({x:-1*s,y:-1*o})}}};yA.Label=B0,B0.prototype.className="Label",(0,hP._registerNode)(B0);let Ao=class extends Uq.Shape{_sceneFunc(e){var t=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let A=0,c=0,l=0,h=0;typeof a=="number"?A=c=l=h=Math.min(a,t/2,r/2):(A=Math.min(a[0]||0,t/2,r/2),c=Math.min(a[1]||0,t/2,r/2),h=Math.min(a[2]||0,t/2,r/2),l=Math.min(a[3]||0,t/2,r/2)),e.beginPath(),e.moveTo(A,0),i===Vy&&(e.lineTo((t-s)/2,0),e.lineTo(t/2,-1*o),e.lineTo((t+s)/2,0)),e.lineTo(t-c,0),e.arc(t-c,c,c,3*Math.PI/2,0,!1),i===zy&&(e.lineTo(t,(r-o)/2),e.lineTo(t+s,r/2),e.lineTo(t,(r+o)/2)),e.lineTo(t,r-h),e.arc(t-h,r-h,h,0,Math.PI/2,!1),i===Wy&&(e.lineTo((t+s)/2,r),e.lineTo(t/2,r+o),e.lineTo((t-s)/2,r)),e.lineTo(l,r),e.arc(l,r-l,l,Math.PI/2,Math.PI,!1),i===Xy&&(e.lineTo(0,(r+o)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-o)/2)),e.lineTo(0,A),e.arc(A,A,A,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,t=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),o=this.width(),a=this.height();return s===Vy?(t-=i,a+=i):s===Wy?a+=i:s===Xy?(e-=1.5*r,o+=r):s===zy&&(o+=1.5*r),{x:e,y:t,width:o,height:a}}};yA.Tag=Ao,Ao.prototype.className="Tag",(0,hP._registerNode)(Ao),uu.Factory.addGetterSetter(Ao,"pointerDirection","none"),uu.Factory.addGetterSetter(Ao,"pointerWidth",0,(0,C0.getNumberValidator)()),uu.Factory.addGetterSetter(Ao,"pointerHeight",0,(0,C0.getNumberValidator)()),uu.Factory.addGetterSetter(Ao,"cornerRadius",0,(0,C0.getNumberOrArrayOfNumbersValidator)(4));var Xc={};Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.Rect=void 0;const Qq=fe,Mq=Rt,Lq=me,Nq=dt,Rq=ae;let du=class extends Mq.Shape{_sceneFunc(e){var t=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),t?Nq.Util.drawRoundedRectPath(e,r,i,t):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}};Xc.Rect=du,du.prototype.className="Rect",(0,Lq._registerNode)(du),Qq.Factory.addGetterSetter(du,"cornerRadius",0,(0,Rq.getNumberOrArrayOfNumbersValidator)(4));var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.RegularPolygon=void 0;const Sx=fe,Hq=Rt,Ex=ae,$q=me;let lo=class extends Hq.Shape{_sceneFunc(e){const t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length;r++)e.lineTo(t[r].x,t[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,r=[];for(var i=0;i<e;i++)r.push({x:t*Math.sin(2*i*Math.PI/e),y:-1*t*Math.cos(2*i*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();var t=e[0].x,r=e[0].y,i=e[0].x,s=e[0].y;return e.forEach(o=>{t=Math.min(t,o.x),r=Math.max(r,o.x),i=Math.min(i,o.y),s=Math.max(s,o.y)}),{x:t,y:i,width:r-t,height:s-i}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};Lf.RegularPolygon=lo,lo.prototype.className="RegularPolygon",lo.prototype._centroid=!0,lo.prototype._attrsAffectingSize=["radius"],(0,$q._registerNode)(lo),Sx.Factory.addGetterSetter(lo,"radius",0,(0,Ex.getNumberValidator)()),Sx.Factory.addGetterSetter(lo,"sides",0,(0,Ex.getNumberValidator)());var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.Ring=void 0;const Fx=fe,jq=Rt,Tx=ae,Kq=me;var Px=2*Math.PI;let co=class extends jq.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Px,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Px,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Nf.Ring=co,co.prototype.className="Ring",co.prototype._centroid=!0,co.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,Kq._registerNode)(co),Fx.Factory.addGetterSetter(co,"innerRadius",0,(0,Tx.getNumberValidator)()),Fx.Factory.addGetterSetter(co,"outerRadius",0,(0,Tx.getNumberValidator)());var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.Sprite=void 0;const ho=fe,Gq=Rt,Vq=DA,Ox=ae,zq=me;let Jr=class extends Gq.Shape{constructor(e){super(e),this._updated=!0,this.anim=new Vq.Animation(()=>{var t=this._updated;return this._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var t=this.animation(),r=this.frameIndex(),i=4*r,s=this.animations()[t],o=this.frameOffsets(),a=s[i+0],A=s[i+1],c=s[i+2],l=s[i+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,l),e.closePath(),e.fillStrokeShape(this)),h)if(o){var u=o[t],d=2*r;e.drawImage(h,a,A,c,l,u[d+0],u[d+1],c,l)}else e.drawImage(h,a,A,c,l,0,0,c,l)}_hitFunc(e){var t=this.animation(),r=this.frameIndex(),i=4*r,s=this.animations()[t],o=this.frameOffsets(),a=s[i+2],A=s[i+3];if(e.beginPath(),o){var c=o[t],l=2*r;e.rect(c[l+0],c[l+1],a,A)}else e.rect(0,0,a,A);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}};Rf.Sprite=Jr,Jr.prototype.className="Sprite",(0,zq._registerNode)(Jr),ho.Factory.addGetterSetter(Jr,"animation"),ho.Factory.addGetterSetter(Jr,"animations"),ho.Factory.addGetterSetter(Jr,"frameOffsets"),ho.Factory.addGetterSetter(Jr,"image"),ho.Factory.addGetterSetter(Jr,"frameIndex",0,(0,Ox.getNumberValidator)()),ho.Factory.addGetterSetter(Jr,"frameRate",17,(0,Ox.getNumberValidator)()),ho.Factory.backCompat(Jr,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Hf={};Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.Star=void 0;const x0=fe,Wq=Rt,_0=ae,Xq=me;let is=class extends Wq.Shape{_sceneFunc(e){var t=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(var s=1;s<2*i;s++){var o=s%2==0?r:t,a=o*Math.sin(s*Math.PI/i),A=-1*o*Math.cos(s*Math.PI/i);e.lineTo(a,A)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}};Hf.Star=is,is.prototype.className="Star",is.prototype._centroid=!0,is.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,Xq._registerNode)(is),x0.Factory.addGetterSetter(is,"numPoints",5,(0,_0.getNumberValidator)()),x0.Factory.addGetterSetter(is,"innerRadius",0,(0,_0.getNumberValidator)()),x0.Factory.addGetterSetter(is,"outerRadius",0,(0,_0.getNumberValidator)());var jo={};Object.defineProperty(jo,"__esModule",{value:!0}),jo.Text=jo.stringToArray=void 0;const Yy=dt,on=fe,Yq=Rt,ss=ae,Jq=me;function dP(n){return Array.from(n)}jo.stringToArray=dP;var Ix,Ta="auto",fP="inherit",Pl="justify",pP="left",Ux="middle",kx="normal",fu=" ",Dx="none",gP=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Zq=gP.length;function S0(){return Ix||(Ix=Yy.Util.createCanvasElement().getContext("2d"))}let pt=class extends Yq.Shape{constructor(e){super(function(r){return(r=r||{}).fillLinearGradientColorStops||r.fillRadialGradientColorStops||r.fillPatternImage||(r.fill=r.fill||"black"),r}(e)),this._partialTextX=0,this._partialTextY=0;for(var t=0;t<Zq;t++)this.on(gP[t]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(e){var t=this.textArr,r=t.length;if(this.text()){var i,s=this.padding(),o=this.fontSize(),a=this.lineHeight()*o,A=this.verticalAlign(),c=this.direction(),l=0,h=this.align(),u=this.getWidth(),d=this.letterSpacing(),p=this.fill(),f=this.textDecoration(),v=f.indexOf("underline")!==-1,m=f.indexOf("line-through")!==-1,y=0,w=(y=a/2,0),C=0;for((c=c===fP?e.direction:c)==="rtl"&&e.setAttr("direction",c),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",Ux),e.setAttr("textAlign",pP),A===Ux?l=(this.getHeight()-r*a-2*s)/2:A==="bottom"&&(l=this.getHeight()-r*a-2*s),e.translate(s,l+s),i=0;i<r;i++){w=0,C=0;var S,x,E,T=t[i],P=T.text,F=T.width,U=T.lastInParagraph;if(e.save(),h==="right"?w+=u-F-2*s:h==="center"&&(w+=(u-F-2*s)/2),v){e.save(),e.beginPath(),e.moveTo(w,y+C+Math.round(o/2)),x=(S=P.split(" ").length-1)===0,E=h!==Pl||U?F:u-2*s,e.lineTo(w+Math.round(E),y+C+Math.round(o/2)),e.lineWidth=o/15;const M=this._getLinearGradient();e.strokeStyle=M||p,e.stroke(),e.restore()}if(m){e.save(),e.beginPath(),e.moveTo(w,y+C),x=(S=P.split(" ").length-1)===0,E=h===Pl&&U&&!x?u-2*s:F,e.lineTo(w+Math.round(E),y+C),e.lineWidth=o/15;const M=this._getLinearGradient();e.strokeStyle=M||p,e.stroke(),e.restore()}if(c==="rtl"||d===0&&h!==Pl)d!==0&&e.setAttr("letterSpacing",`${d}px`),this._partialTextX=w,this._partialTextY=y+C,this._partialText=P,e.fillStrokeShape(this);else{S=P.split(" ").length-1;for(var I=dP(P),D=0;D<I.length;D++){var $=I[D];$!==" "||U||h!==Pl||(w+=(u-2*s-F)/S),this._partialTextX=w,this._partialTextY=y+C,this._partialText=$,e.fillStrokeShape(this),w+=this.measureSize($).width+d}}e.restore(),r>1&&(y+=a)}}}_hitFunc(e){var t=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}setText(e){var t=Yy.Util._isString(e)?e:e==null?"":e+"";return this._setAttr("text",t),this}getWidth(){return this.attrs.width===Ta||this.attrs.width===void 0?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===Ta||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Yy.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,r=S0(),i=this.fontSize();return r.save(),r.font=this._getContextFont(),t=r.measureText(e),r.restore(),{width:t.width,height:i}}_getContextFont(){return this.fontStyle()+fu+this.fontVariant()+fu+(this.fontSize()+"px ")+this.fontFamily().split(",").map(e=>{const t=(e=e.trim()).indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!r&&(e=`"${e}"`),e}).join(", ")}_addTextLine(e){this.align()===Pl&&(e=e.trim());var t=this._getTextWidth(e);return this.textArr.push({text:e,width:t,lastInParagraph:!1})}_getTextWidth(e){var t=this.letterSpacing(),r=e.length;return S0().measureText(e).width+(r?t*(r-1):0)}_setTextData(){var e=this.text().split(`
`),t=+this.fontSize(),r=0,i=this.lineHeight()*t,s=this.attrs.width,o=this.attrs.height,a=s!==Ta&&s!==void 0,A=o!==Ta&&o!==void 0,c=this.padding(),l=s-2*c,h=o-2*c,u=0,d=this.wrap(),p=d!=="char"&&d!==Dx,f=this.ellipsis();this.textArr=[],S0().font=this._getContextFont();for(var v=f?this._getTextWidth("…"):0,m=0,y=e.length;m<y;++m){var w=e[m],C=this._getTextWidth(w);if(a&&C>l)for(;w.length>0;){for(var S=0,x=w.length,E="",T=0;S<x;){var P=S+x>>>1,F=w.slice(0,P+1),U=this._getTextWidth(F)+v;U<=l?(S=P+1,E=F,T=U):x=P}if(!E)break;if(p){var I,D=w[E.length];(I=(D===fu||D==="-")&&T<=l?E.length:Math.max(E.lastIndexOf(fu),E.lastIndexOf("-"))+1)>0&&(S=I,E=E.slice(0,S),T=this._getTextWidth(E))}if(E=E.trimRight(),this._addTextLine(E),r=Math.max(r,T),u+=i,this._shouldHandleEllipsis(u)){this._tryToAddEllipsisToLastLine();break}if((w=(w=w.slice(S)).trimLeft()).length>0&&(C=this._getTextWidth(w))<=l){this._addTextLine(w),u+=i,r=Math.max(r,C);break}}else this._addTextLine(w),u+=i,r=Math.max(r,C),this._shouldHandleEllipsis(u)&&m<y-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),A&&u+i>h)break}this.textHeight=t,this.textWidth=r}_shouldHandleEllipsis(e){var t=+this.fontSize(),r=this.lineHeight()*t,i=this.attrs.height,s=i!==Ta&&i!==void 0,o=i-2*this.padding();return this.wrap()===Dx||s&&e+r>o}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,t=e!==Ta&&e!==void 0,r=e-2*this.padding(),i=this.ellipsis(),s=this.textArr[this.textArr.length-1];s&&i&&(t&&(this._getTextWidth(s.text+"…")<r||(s.text=s.text.slice(0,s.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+"…"))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,t=this.hasShadow();return!(!e||!t)||super._useBufferCanvas()}};jo.Text=pt,pt.prototype._fillFunc=function(n){n.fillText(this._partialText,this._partialTextX,this._partialTextY)},pt.prototype._strokeFunc=function(n){n.setAttr("miterLimit",2),n.strokeText(this._partialText,this._partialTextX,this._partialTextY)},pt.prototype.className="Text",pt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,Jq._registerNode)(pt),on.Factory.overWriteSetter(pt,"width",(0,ss.getNumberOrAutoValidator)()),on.Factory.overWriteSetter(pt,"height",(0,ss.getNumberOrAutoValidator)()),on.Factory.addGetterSetter(pt,"direction",fP),on.Factory.addGetterSetter(pt,"fontFamily","Arial"),on.Factory.addGetterSetter(pt,"fontSize",12,(0,ss.getNumberValidator)()),on.Factory.addGetterSetter(pt,"fontStyle",kx),on.Factory.addGetterSetter(pt,"fontVariant",kx),on.Factory.addGetterSetter(pt,"padding",0,(0,ss.getNumberValidator)()),on.Factory.addGetterSetter(pt,"align",pP),on.Factory.addGetterSetter(pt,"verticalAlign","top"),on.Factory.addGetterSetter(pt,"lineHeight",1,(0,ss.getNumberValidator)()),on.Factory.addGetterSetter(pt,"wrap","word"),on.Factory.addGetterSetter(pt,"ellipsis",!1,(0,ss.getBooleanValidator)()),on.Factory.addGetterSetter(pt,"letterSpacing",0,(0,ss.getNumberValidator)()),on.Factory.addGetterSetter(pt,"text","",(0,ss.getStringValidator)()),on.Factory.addGetterSetter(pt,"textDecoration","");var $f={};Object.defineProperty($f,"__esModule",{value:!0}),$f.TextPath=void 0;const E0=dt,xr=fe,qq=Rt,Ol=QA,F0=jo,Qx=ae,eee=me;var Mx="normal";function Lx(n){n.fillText(this.partialText,0,0)}function Nx(n){n.strokeText(this.partialText,0,0)}let kt=class extends qq.Shape{constructor(e){super(e),this.dummyCanvas=E0.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Ol.Path.getPathLength(this.dataArray)}_getPointAtLength(e){return this.attrs.data?e-1>this.pathLength?null:Ol.Path.getPointAtLengthOfDataArray(e,this.dataArray):null}_readDataAttribute(){this.dataArray=Ol.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo;t==="underline"&&e.beginPath();for(var o=0;o<s.length;o++){e.save();var a=s[o].p0;e.translate(a.x,a.y),e.rotate(s[o].rotation),this.partialText=s[o].text,e.fillStrokeShape(this),t==="underline"&&(o===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}t==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var t=this.glyphInfo;if(t.length>=1){var r=t[0].p0;e.moveTo(r.x,r.y)}for(var i=0;i<t.length;i++){var s=t[i].p1;e.lineTo(s.x,s.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return E0.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return F0.Text.prototype.setText.call(this,e)}_getContextFont(){return F0.Text.prototype._getContextFont.call(this)}_getTextSize(e){var t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();var r=t.measureText(e);return t.restore(),{width:r.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:t}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=t,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),i=this.align(),s=this.kerningFunc(),o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let a=0;i==="center"&&(a=Math.max(0,this.pathLength/2-o/2)),i==="right"&&(a=Math.max(0,this.pathLength-o));const A=(0,F0.stringToArray)(this.text());let c=a;for(var l=0;l<A.length;l++){const h=this._getPointAtLength(c);if(!h)return;let u=this._getTextSize(A[l]).width+r;if(A[l]===" "&&i==="justify"){const y=this.text().split(" ").length-1;u+=(this.pathLength-o)/y}const d=this._getPointAtLength(c+u);if(!d)return;const p=Ol.Path.getLineLength(h.x,h.y,d.x,d.y);let f=0;if(s)try{f=s(A[l-1],A[l])*this.fontSize()}catch{f=0}h.x+=f,d.x+=f,this.textWidth+=f;const v=Ol.Path.getPointOnLine(f+p/2,h.x,h.y,d.x,d.y),m=Math.atan2(d.y-h.y,d.x-h.x);this.glyphInfo.push({transposeX:v.x,transposeY:v.y,text:A[l],rotation:m,p0:h,p1:d}),c+=u}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(l){e.push(l.p0.x),e.push(l.p0.y),e.push(l.p1.x),e.push(l.p1.y)});for(var t,r,i=e[0]||0,s=e[0]||0,o=e[1]||0,a=e[1]||0,A=0;A<e.length/2;A++)t=e[2*A],r=e[2*A+1],i=Math.min(i,t),s=Math.max(s,t),o=Math.min(o,r),a=Math.max(a,r);var c=this.fontSize();return{x:i-c/2,y:o-c/2,width:s-i+c,height:a-o+c}}destroy(){return E0.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};$f.TextPath=kt,kt.prototype._fillFunc=Lx,kt.prototype._strokeFunc=Nx,kt.prototype._fillFuncHit=Lx,kt.prototype._strokeFuncHit=Nx,kt.prototype.className="TextPath",kt.prototype._attrsAffectingSize=["text","fontSize","data"],(0,eee._registerNode)(kt),xr.Factory.addGetterSetter(kt,"data"),xr.Factory.addGetterSetter(kt,"fontFamily","Arial"),xr.Factory.addGetterSetter(kt,"fontSize",12,(0,Qx.getNumberValidator)()),xr.Factory.addGetterSetter(kt,"fontStyle",Mx),xr.Factory.addGetterSetter(kt,"align","left"),xr.Factory.addGetterSetter(kt,"letterSpacing",0,(0,Qx.getNumberValidator)()),xr.Factory.addGetterSetter(kt,"textBaseline","middle"),xr.Factory.addGetterSetter(kt,"fontVariant",Mx),xr.Factory.addGetterSetter(kt,"text",""),xr.Factory.addGetterSetter(kt,"textDecoration",null),xr.Factory.addGetterSetter(kt,"kerningFunc",null);var jf={};Object.defineProperty(jf,"__esModule",{value:!0}),jf.Transformer=void 0;const $e=dt,Pe=fe,Rx=At,tee=Rt,nee=Xc,Hx=kA,Sr=me,os=ae,ree=me;var mP="tr-konva",iee=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(n=>n+`.${mP}`).join(" "),$x="nodesRect",see=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],oee={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const aee="ontouchstart"in Sr.Konva._global;var Pd=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function vP(n,e,t){const r=t.x+(n.x-t.x)*Math.cos(e)-(n.y-t.y)*Math.sin(e),i=t.y+(n.x-t.x)*Math.sin(e)+(n.y-t.y)*Math.cos(e);return{...n,rotation:n.rotation+e,x:r,y:i}}function Aee(n,e){const t=function(r){return{x:r.x+r.width/2*Math.cos(r.rotation)+r.height/2*Math.sin(-r.rotation),y:r.y+r.height/2*Math.cos(r.rotation)+r.width/2*Math.sin(r.rotation)}}(n);return vP(n,e,t)}let Jy=0,Be=class extends Hx.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(iee,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return $e.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return mP+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const t=e.filter(r=>!r.isAncestorOf(this)||($e.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1));return this._nodes=e=t,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(r=>{const i=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},s=r._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");r.on(s,i),r.on(see.map(o=>o+`.${this._getEventNamespace()}`).join(" "),i),r.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(r)}),this._resetTransformCache(),this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,r=>{t=e.getAbsolutePosition(),this.isDragging()||e===this.findOne(".back")||this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!t)return;const i=e.getAbsolutePosition(),s=i.x-t.x,o=i.y-t.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;const A=a.getAbsolutePosition();a.setAbsolutePosition({x:A.x+s,y:A.y+o}),a.startDrag(r)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache($x),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache($x,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),r){var i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),o=e.getAbsolutePosition(r),a=i.x*s.x-e.offsetX()*s.x,A=i.y*s.y-e.offsetY()*s.y;const c=(Sr.Konva.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return vP({x:o.x+a*Math.cos(c)+A*Math.sin(-c),y:o.y+A*Math.cos(c)+a*Math.sin(c),width:i.width*s.x,height:i.height*s.y,rotation:c},-Sr.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const e=[];this.nodes().map(A=>{const c=A.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var l=[{x:c.x,y:c.y},{x:c.x+c.width,y:c.y},{x:c.x+c.width,y:c.y+c.height},{x:c.x,y:c.y+c.height}],h=A.getAbsoluteTransform();l.forEach(function(u){var d=h.point(u);e.push(d)})});const t=new $e.Transform;t.rotate(-Sr.Konva.getAngle(this.rotation()));var r=1/0,i=1/0,s=-1/0,o=-1/0;e.forEach(function(A){var c=t.point(A);r===void 0&&(r=s=c.x,i=o=c.y),r=Math.min(r,c.x),i=Math.min(i,c.y),s=Math.max(s,c.x),o=Math.max(o,c.y)}),t.invert();const a=t.point({x:r,y:i});return{x:a.x,y:a.y,width:s-r,height:o-i,rotation:Sr.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Pd.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){var t=new nee.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:aee?10:"auto"}),r=this;t.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),t.on("dragstart",i=>{t.stopDrag(),i.cancelBubble=!0}),t.on("dragend",i=>{i.cancelBubble=!0}),t.on("mouseenter",()=>{var i=Sr.Konva.getAngle(this.rotation()),s=this.rotateAnchorCursor(),o=function(a,A,c){if(a==="rotater")return c;A+=$e.Util.degToRad(oee[a]||0);var l=($e.Util.radToDeg(A)%360+360)%360;return $e.Util._inRange(l,337.5,360)||$e.Util._inRange(l,0,22.5)?"ns-resize":$e.Util._inRange(l,22.5,67.5)?"nesw-resize":$e.Util._inRange(l,67.5,112.5)?"ew-resize":$e.Util._inRange(l,112.5,157.5)?"nwse-resize":$e.Util._inRange(l,157.5,202.5)?"ns-resize":$e.Util._inRange(l,202.5,247.5)?"nesw-resize":$e.Util._inRange(l,247.5,292.5)?"ew-resize":$e.Util._inRange(l,292.5,337.5)?"nwse-resize":($e.Util.error("Transformer has unknown angle for cursor detection: "+l),"pointer")}(e,i,s);t.getStage().content&&(t.getStage().content.style.cursor=o),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){var e=new tee.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(t,r){var i=r.getParent(),s=i.padding();t.beginPath(),t.rect(-s,-s,r.width()+2*s,r.height()+2*s),t.moveTo(r.width()/2,-s),i.rotateEnabled()&&i.rotateLineVisible()&&t.lineTo(r.width()/2,-i.rotateAnchorOffset()*$e.Util._sign(r.height())-s),t.fillStrokeShape(r)},hitFunc:(t,r)=>{if(this.shouldOverdrawWholeArea()){var i=this.padding();t.beginPath(),t.rect(-i,-i,r.width()+2*i,r.height()+2*i),t.fillStrokeShape(r)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",t=>{t.cancelBubble=!0}),e.on("dragmove",t=>{t.cancelBubble=!0}),e.on("dragend",t=>{t.cancelBubble=!0}),this.on("dragmove",t=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var t=this._getNodeRect(),r=t.width,i=t.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},Jy++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(A=>{A._fire("transformstart",{evt:e.evt,target:A})})}_handleMouseMove(e){var t,r,i,s=this.findOne("."+this._movingAnchorName),o=s.getStage();o.setPointersPositions(e);const a=o.getPointerPosition();let A={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(A=this.anchorDragBoundFunc()(c,A,e)),s.setAbsolutePosition(A);const l=s.getAbsolutePosition();if(c.x!==l.x||c.y!==l.y)if(this._movingAnchorName!=="rotater"){var h,u=this.shiftBehavior();h=u==="inverted"?this.keepRatio()&&!e.shiftKey:u==="none"?this.keepRatio():this.keepRatio()||e.shiftKey;var d=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(h){var p=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(p.x-s.x(),2)+Math.pow(p.y-s.y(),2));var f=this.findOne(".top-left").x()>p.x?-1:1,v=this.findOne(".top-left").y()>p.y?-1:1;t=i*this.cos*f,r=i*this.sin*v,this.findOne(".top-left").x(p.x-t),this.findOne(".top-left").y(p.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){h&&(p=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},i=Math.sqrt(Math.pow(s.x()-p.x,2)+Math.pow(p.y-s.y(),2)),f=this.findOne(".top-right").x()<p.x?-1:1,v=this.findOne(".top-right").y()>p.y?-1:1,t=i*this.cos*f,r=i*this.sin*v,this.findOne(".top-right").x(p.x+t),this.findOne(".top-right").y(p.y-r));var m=s.position();this.findOne(".top-left").y(m.y),this.findOne(".bottom-right").x(m.x)}else this._movingAnchorName==="middle-left"?this.findOne(".top-left").x(s.x()):this._movingAnchorName==="middle-right"?this.findOne(".bottom-right").x(s.x()):this._movingAnchorName==="bottom-left"?(h&&(p=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},i=Math.sqrt(Math.pow(p.x-s.x(),2)+Math.pow(s.y()-p.y,2)),f=p.x<s.x()?-1:1,v=s.y()<p.y?-1:1,t=i*this.cos*f,r=i*this.sin*v,s.x(p.x-t),s.y(p.y+r)),m=s.position(),this.findOne(".top-left").x(m.x),this.findOne(".bottom-right").y(m.y)):this._movingAnchorName==="bottom-center"?this.findOne(".bottom-right").y(s.y()):this._movingAnchorName==="bottom-right"?h&&(p=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},i=Math.sqrt(Math.pow(s.x()-p.x,2)+Math.pow(s.y()-p.y,2)),f=this.findOne(".bottom-right").x()<p.x?-1:1,v=this.findOne(".bottom-right").y()<p.y?-1:1,t=i*this.cos*f,r=i*this.sin*v,this.findOne(".bottom-right").x(p.x+t),this.findOne(".bottom-right").y(p.y+r)):console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(d=this.centeredScaling()||e.altKey){var y=this.findOne(".top-left"),w=this.findOne(".bottom-right"),C=y.x(),S=y.y(),x=this.getWidth()-w.x(),E=this.getHeight()-w.y();w.move({x:-C,y:-S}),y.move({x,y:E})}var T=this.findOne(".top-left").getAbsolutePosition();t=T.x,r=T.y;var P=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),F=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:r,width:P,height:F,rotation:Sr.Konva.getAngle(this.rotation())},e)}else{var U=this._getNodeRect();t=s.x()-U.width/2,r=-s.y()+U.height/2;let I=Math.atan2(-r,t)+Math.PI/2;U.height<0&&(I-=Math.PI);const D=Sr.Konva.getAngle(this.rotation())+I,$=Sr.Konva.getAngle(this.rotationSnapTolerance()),M=Aee(U,function(G,V,Q){let R=V;for(let B=0;B<G.length;B++){const O=Sr.Konva.getAngle(G[B]),k=Math.abs(O-V)%(2*Math.PI);Math.min(k,2*Math.PI-k)<Q&&(R=O)}return R}(this.rotationSnaps(),D,$)-U.rotation);this._fitNodesInto(M,e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var r=this.getNode();Jy--,this._fire("transformend",{evt:e,target:r}),(t=this.getLayer())===null||t===void 0||t.batchDraw(),r&&this._nodes.forEach(i=>{var s;i._fire("transformend",{evt:e,target:i}),(s=i.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,t){var r=this._getNodeRect();if($e.Util._inRange(e.width,2*-this.padding()-1,1))return void this.update();if($e.Util._inRange(e.height,2*-this.padding()-1,1))return void this.update();var i=new $e.Transform;if(i.rotate(Sr.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const h=i.point({x:2*-this.padding(),y:0});e.x+=h.x,e.y+=h.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const h=i.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.width+=2*this.padding()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const h=i.point({x:0,y:2*-this.padding()});e.x+=h.x,e.y+=h.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.height+=2*this.padding()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const h=i.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,e.height+=2*this.padding()}if(this.boundBoxFunc()){const h=this.boundBoxFunc()(r,e);h?e=h:$e.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,o=new $e.Transform;o.translate(r.x,r.y),o.rotate(r.rotation),o.scale(r.width/s,r.height/s);const a=new $e.Transform,A=e.width/s,c=e.height/s;this.flipEnabled()===!1?(a.translate(e.x,e.y),a.rotate(e.rotation),a.translate(e.width<0?e.width:0,e.height<0?e.height:0),a.scale(Math.abs(A),Math.abs(c))):(a.translate(e.x,e.y),a.rotate(e.rotation),a.scale(A,c));const l=a.multiply(o.invert());this._nodes.forEach(h=>{var u;const d=h.getParent().getAbsoluteTransform(),p=h.getTransform().copy();p.translate(h.offsetX(),h.offsetY());const f=new $e.Transform;f.multiply(d.copy().invert()).multiply(l).multiply(d).multiply(p);const v=f.decompose();h.setAttrs(v),(u=h.getLayer())===null||u===void 0||u.batchDraw()}),this.rotation($e.Util._getRotation(e.rotation)),this._nodes.forEach(h=>{this._fire("transform",{evt:t,target:h}),h._fire("transform",{evt:t,target:h})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e,t=this._getNodeRect();this.rotation($e.Util._getRotation(t.rotation));var r=t.width,i=t.height,s=this.enabledAnchors(),o=this.resizeEnabled(),a=this.padding(),A=this.anchorSize();const c=this.find("._anchor");c.forEach(h=>{h.setAttrs({width:A,height:A,offsetX:A/2,offsetY:A/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:A/2+a,offsetY:A/2+a,visible:o&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:A/2+a,visible:o&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:A/2-a,offsetY:A/2+a,visible:o&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:A/2+a,visible:o&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:A/2-a,visible:o&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:A/2+a,offsetY:A/2-a,visible:o&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:A/2-a,visible:o&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:A/2-a,offsetY:A/2-a,visible:o&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*$e.Util._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const l=this.anchorStyleFunc();l&&c.forEach(h=>{l(h)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Hx.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Rx.Node.prototype.toObject.call(this)}clone(e){return Rx.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};jf.Transformer=Be,Be.isTransforming=()=>Jy>0,Be.prototype.className="Transformer",(0,ree._registerNode)(Be),Pe.Factory.addGetterSetter(Be,"enabledAnchors",Pd,function(n){return n instanceof Array||$e.Util.warn("enabledAnchors value should be an array"),n instanceof Array&&n.forEach(function(e){Pd.indexOf(e)===-1&&$e.Util.warn("Unknown anchor name: "+e+". Available names are: "+Pd.join(", "))}),n||[]}),Pe.Factory.addGetterSetter(Be,"flipEnabled",!0,(0,os.getBooleanValidator)()),Pe.Factory.addGetterSetter(Be,"resizeEnabled",!0),Pe.Factory.addGetterSetter(Be,"anchorSize",10,(0,os.getNumberValidator)()),Pe.Factory.addGetterSetter(Be,"rotateEnabled",!0),Pe.Factory.addGetterSetter(Be,"rotateLineVisible",!0),Pe.Factory.addGetterSetter(Be,"rotationSnaps",[]),Pe.Factory.addGetterSetter(Be,"rotateAnchorOffset",50,(0,os.getNumberValidator)()),Pe.Factory.addGetterSetter(Be,"rotateAnchorCursor","crosshair"),Pe.Factory.addGetterSetter(Be,"rotationSnapTolerance",5,(0,os.getNumberValidator)()),Pe.Factory.addGetterSetter(Be,"borderEnabled",!0),Pe.Factory.addGetterSetter(Be,"anchorStroke","rgb(0, 161, 255)"),Pe.Factory.addGetterSetter(Be,"anchorStrokeWidth",1,(0,os.getNumberValidator)()),Pe.Factory.addGetterSetter(Be,"anchorFill","white"),Pe.Factory.addGetterSetter(Be,"anchorCornerRadius",0,(0,os.getNumberValidator)()),Pe.Factory.addGetterSetter(Be,"borderStroke","rgb(0, 161, 255)"),Pe.Factory.addGetterSetter(Be,"borderStrokeWidth",1,(0,os.getNumberValidator)()),Pe.Factory.addGetterSetter(Be,"borderDash"),Pe.Factory.addGetterSetter(Be,"keepRatio",!0),Pe.Factory.addGetterSetter(Be,"shiftBehavior","default"),Pe.Factory.addGetterSetter(Be,"centeredScaling",!1),Pe.Factory.addGetterSetter(Be,"ignoreStroke",!1),Pe.Factory.addGetterSetter(Be,"padding",0,(0,os.getNumberValidator)()),Pe.Factory.addGetterSetter(Be,"node"),Pe.Factory.addGetterSetter(Be,"nodes"),Pe.Factory.addGetterSetter(Be,"boundBoxFunc"),Pe.Factory.addGetterSetter(Be,"anchorDragBoundFunc"),Pe.Factory.addGetterSetter(Be,"anchorStyleFunc"),Pe.Factory.addGetterSetter(Be,"shouldOverdrawWholeArea",!1),Pe.Factory.addGetterSetter(Be,"useSingleNodeRotation",!0),Pe.Factory.backCompat(Be,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Kf={};Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.Wedge=void 0;const pu=fe,lee=Rt,cee=me,jx=ae,hee=me;let Ci=class extends lee.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,cee.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}};Kf.Wedge=Ci,Ci.prototype.className="Wedge",Ci.prototype._centroid=!0,Ci.prototype._attrsAffectingSize=["radius"],(0,hee._registerNode)(Ci),pu.Factory.addGetterSetter(Ci,"radius",0,(0,jx.getNumberValidator)()),pu.Factory.addGetterSetter(Ci,"angle",0,(0,jx.getNumberValidator)()),pu.Factory.addGetterSetter(Ci,"clockwise",!1),pu.Factory.backCompat(Ci,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Gf={};Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.Blur=void 0;const Kx=fe,uee=At,dee=ae;function Gx(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var fee=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],pee=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Gf.Blur=function(n){var e=Math.round(this.blurRadius());e>0&&function(t,r){var i,s,o,a,A,c,l,h,u,d,p,f,v,m,y,w,C,S,x,E,T,P,F,U,I=t.data,D=t.width,$=t.height,M=r+r+1,G=D-1,V=$-1,Q=r+1,R=Q*(Q+1)/2,B=new Gx,O=null,k=B,L=null,j=null,K=fee[r],J=pee[r];for(o=1;o<M;o++)k=k.next=new Gx,o===Q&&(O=k);for(k.next=B,l=c=0,s=0;s<$;s++){for(w=C=S=x=h=u=d=p=0,f=Q*(E=I[c]),v=Q*(T=I[c+1]),m=Q*(P=I[c+2]),y=Q*(F=I[c+3]),h+=R*E,u+=R*T,d+=R*P,p+=R*F,k=B,o=0;o<Q;o++)k.r=E,k.g=T,k.b=P,k.a=F,k=k.next;for(o=1;o<Q;o++)a=c+((G<o?G:o)<<2),h+=(k.r=E=I[a])*(U=Q-o),u+=(k.g=T=I[a+1])*U,d+=(k.b=P=I[a+2])*U,p+=(k.a=F=I[a+3])*U,w+=E,C+=T,S+=P,x+=F,k=k.next;for(L=B,j=O,i=0;i<D;i++)I[c+3]=F=p*K>>J,F!==0?(F=255/F,I[c]=(h*K>>J)*F,I[c+1]=(u*K>>J)*F,I[c+2]=(d*K>>J)*F):I[c]=I[c+1]=I[c+2]=0,h-=f,u-=v,d-=m,p-=y,f-=L.r,v-=L.g,m-=L.b,y-=L.a,a=l+((a=i+r+1)<G?a:G)<<2,h+=w+=L.r=I[a],u+=C+=L.g=I[a+1],d+=S+=L.b=I[a+2],p+=x+=L.a=I[a+3],L=L.next,f+=E=j.r,v+=T=j.g,m+=P=j.b,y+=F=j.a,w-=E,C-=T,S-=P,x-=F,j=j.next,c+=4;l+=D}for(i=0;i<D;i++){for(C=S=x=w=u=d=p=h=0,f=Q*(E=I[c=i<<2]),v=Q*(T=I[c+1]),m=Q*(P=I[c+2]),y=Q*(F=I[c+3]),h+=R*E,u+=R*T,d+=R*P,p+=R*F,k=B,o=0;o<Q;o++)k.r=E,k.g=T,k.b=P,k.a=F,k=k.next;for(A=D,o=1;o<=r;o++)c=A+i<<2,h+=(k.r=E=I[c])*(U=Q-o),u+=(k.g=T=I[c+1])*U,d+=(k.b=P=I[c+2])*U,p+=(k.a=F=I[c+3])*U,w+=E,C+=T,S+=P,x+=F,k=k.next,o<V&&(A+=D);for(c=i,L=B,j=O,s=0;s<$;s++)I[3+(a=c<<2)]=F=p*K>>J,F>0?(F=255/F,I[a]=(h*K>>J)*F,I[a+1]=(u*K>>J)*F,I[a+2]=(d*K>>J)*F):I[a]=I[a+1]=I[a+2]=0,h-=f,u-=v,d-=m,p-=y,f-=L.r,v-=L.g,m-=L.b,y-=L.a,a=i+((a=s+Q)<V?a:V)*D<<2,h+=w+=L.r=I[a],u+=C+=L.g=I[a+1],d+=S+=L.b=I[a+2],p+=x+=L.a=I[a+3],L=L.next,f+=E=j.r,v+=T=j.g,m+=P=j.b,y+=F=j.a,w-=E,C-=T,S-=P,x-=F,j=j.next,c+=D}}(n,e)},Kx.Factory.addGetterSetter(uee.Node,"blurRadius",0,(0,dee.getNumberValidator)(),Kx.Factory.afterSetFilter);var Vf={};Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.Brighten=void 0;const Vx=fe,gee=At,mee=ae;Vf.Brighten=function(n){var e,t=255*this.brightness(),r=n.data,i=r.length;for(e=0;e<i;e+=4)r[e]+=t,r[e+1]+=t,r[e+2]+=t},Vx.Factory.addGetterSetter(gee.Node,"brightness",0,(0,mee.getNumberValidator)(),Vx.Factory.afterSetFilter);var zf={};Object.defineProperty(zf,"__esModule",{value:!0}),zf.Contrast=void 0;const zx=fe,vee=At,yee=ae;zf.Contrast=function(n){var e,t=Math.pow((this.contrast()+100)/100,2),r=n.data,i=r.length,s=150,o=150,a=150;for(e=0;e<i;e+=4)s=r[e],o=r[e+1],a=r[e+2],s/=255,s-=.5,s*=t,s+=.5,o/=255,o-=.5,o*=t,o+=.5,a/=255,a-=.5,a*=t,a+=.5,s=(s*=255)<0?0:s>255?255:s,o=(o*=255)<0?0:o>255?255:o,a=(a*=255)<0?0:a>255?255:a,r[e]=s,r[e+1]=o,r[e+2]=a},zx.Factory.addGetterSetter(vee.Node,"contrast",0,(0,yee.getNumberValidator)(),zx.Factory.afterSetFilter);var Wf={};Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.Emboss=void 0;const as=fe,gu=At,bee=dt,Wx=ae;Wf.Emboss=function(n){var e=10*this.embossStrength(),t=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),s=0,o=0,a=n.data,A=n.width,c=n.height,l=4*A,h=c;switch(r){case"top-left":s=-1,o=-1;break;case"top":s=-1,o=0;break;case"top-right":s=-1,o=1;break;case"right":s=0,o=1;break;case"bottom-right":s=1,o=1;break;case"bottom":s=1,o=0;break;case"bottom-left":s=1,o=-1;break;case"left":s=0,o=-1;break;default:bee.Util.error("Unknown emboss direction: "+r)}do{var u=(h-1)*l,d=s;h+d<1&&(d=0),h+d>c&&(d=0);var p=(h-1+d)*A*4,f=A;do{var v=u+4*(f-1),m=o;f+m<1&&(m=0),f+m>A&&(m=0);var y=p+4*(f-1+m),w=a[v]-a[y],C=a[v+1]-a[y+1],S=a[v+2]-a[y+2],x=w,E=x>0?x:-x;if((C>0?C:-C)>E&&(x=C),(S>0?S:-S)>E&&(x=S),x*=e,i){var T=a[v]+x,P=a[v+1]+x,F=a[v+2]+x;a[v]=T>255?255:T<0?0:T,a[v+1]=P>255?255:P<0?0:P,a[v+2]=F>255?255:F<0?0:F}else{var U=t-x;U<0?U=0:U>255&&(U=255),a[v]=a[v+1]=a[v+2]=U}}while(--f)}while(--h)},as.Factory.addGetterSetter(gu.Node,"embossStrength",.5,(0,Wx.getNumberValidator)(),as.Factory.afterSetFilter),as.Factory.addGetterSetter(gu.Node,"embossWhiteLevel",.5,(0,Wx.getNumberValidator)(),as.Factory.afterSetFilter),as.Factory.addGetterSetter(gu.Node,"embossDirection","top-left",null,as.Factory.afterSetFilter),as.Factory.addGetterSetter(gu.Node,"embossBlend",!1,null,as.Factory.afterSetFilter);var Xf={};Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.Enhance=void 0;const Xx=fe,wee=At,Cee=ae;function T0(n,e,t,r,i){var s=t-e,o=i-r;return s===0?r+o/2:o===0?r:o*((n-e)/s)+r}Xf.Enhance=function(n){var e,t,r,i,s=n.data,o=s.length,a=s[0],A=a,c=s[1],l=c,h=s[2],u=h,d=this.enhance();if(d!==0){for(i=0;i<o;i+=4)(e=s[i+0])<a?a=e:e>A&&(A=e),(t=s[i+1])<c?c=t:t>l&&(l=t),(r=s[i+2])<h?h=r:r>u&&(u=r);var p,f,v,m,y,w,C,S,x;for(A===a&&(A=255,a=0),l===c&&(l=255,c=0),u===h&&(u=255,h=0),d>0?(f=A+d*(255-A),v=a-d*(a-0),y=l+d*(255-l),w=c-d*(c-0),S=u+d*(255-u),x=h-d*(h-0)):(f=A+d*(A-(p=.5*(A+a))),v=a+d*(a-p),y=l+d*(l-(m=.5*(l+c))),w=c+d*(c-m),S=u+d*(u-(C=.5*(u+h))),x=h+d*(h-C)),i=0;i<o;i+=4)s[i+0]=T0(s[i+0],a,A,v,f),s[i+1]=T0(s[i+1],c,l,w,y),s[i+2]=T0(s[i+2],h,u,x,S)}},Xx.Factory.addGetterSetter(wee.Node,"enhance",0,(0,Cee.getNumberValidator)(),Xx.Factory.afterSetFilter);var Yf={};Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.Grayscale=void 0;Yf.Grayscale=function(n){var e,t,r=n.data,i=r.length;for(e=0;e<i;e+=4)t=.34*r[e]+.5*r[e+1]+.16*r[e+2],r[e]=t,r[e+1]=t,r[e+2]=t};var Jf={};Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.HSL=void 0;const Pa=fe,P0=At,O0=ae;Pa.Factory.addGetterSetter(P0.Node,"hue",0,(0,O0.getNumberValidator)(),Pa.Factory.afterSetFilter),Pa.Factory.addGetterSetter(P0.Node,"saturation",0,(0,O0.getNumberValidator)(),Pa.Factory.afterSetFilter),Pa.Factory.addGetterSetter(P0.Node,"luminance",0,(0,O0.getNumberValidator)(),Pa.Factory.afterSetFilter);Jf.HSL=function(n){var e,t,r,i,s,o=n.data,a=o.length,A=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,l=127*this.luminance(),h=1*A*Math.cos(c*Math.PI/180),u=1*A*Math.sin(c*Math.PI/180),d=.299+.701*h+.167*u,p=.587-.587*h+.33*u,f=.114-.114*h-.497*u,v=.299-.299*h-.328*u,m=.587+.413*h+.035*u,y=.114-.114*h+.293*u,w=.299-.3*h+1.25*u,C=.587-.586*h-1.05*u,S=.114+.886*h-.2*u;for(e=0;e<a;e+=4)t=o[e+0],r=o[e+1],i=o[e+2],s=o[e+3],o[e+0]=d*t+p*r+f*i+l,o[e+1]=v*t+m*r+y*i+l,o[e+2]=w*t+C*r+S*i+l,o[e+3]=s};var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.HSV=void 0;const Oa=fe,I0=At,U0=ae;Zf.HSV=function(n){var e,t,r,i,s,o=n.data,a=o.length,A=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,h=A*c*Math.cos(l*Math.PI/180),u=A*c*Math.sin(l*Math.PI/180),d=.299*A+.701*h+.167*u,p=.587*A-.587*h+.33*u,f=.114*A-.114*h-.497*u,v=.299*A-.299*h-.328*u,m=.587*A+.413*h+.035*u,y=.114*A-.114*h+.293*u,w=.299*A-.3*h+1.25*u,C=.587*A-.586*h-1.05*u,S=.114*A+.886*h-.2*u;for(e=0;e<a;e+=4)t=o[e+0],r=o[e+1],i=o[e+2],s=o[e+3],o[e+0]=d*t+p*r+f*i,o[e+1]=v*t+m*r+y*i,o[e+2]=w*t+C*r+S*i,o[e+3]=s},Oa.Factory.addGetterSetter(I0.Node,"hue",0,(0,U0.getNumberValidator)(),Oa.Factory.afterSetFilter),Oa.Factory.addGetterSetter(I0.Node,"saturation",0,(0,U0.getNumberValidator)(),Oa.Factory.afterSetFilter),Oa.Factory.addGetterSetter(I0.Node,"value",0,(0,U0.getNumberValidator)(),Oa.Factory.afterSetFilter);var qf={};Object.defineProperty(qf,"__esModule",{value:!0}),qf.Invert=void 0;qf.Invert=function(n){var e,t=n.data,r=t.length;for(e=0;e<r;e+=4)t[e]=255-t[e],t[e+1]=255-t[e+1],t[e+2]=255-t[e+2]};var ep={};Object.defineProperty(ep,"__esModule",{value:!0}),ep.Kaleidoscope=void 0;const mu=fe,Yx=At,Jx=dt,Zx=ae;ep.Kaleidoscope=function(n){var e,t,r,i,s,o,a,A,c,l=n.width,h=n.height,u=Math.round(this.kaleidoscopePower()),d=Math.round(this.kaleidoscopeAngle()),p=Math.floor(l*(d%360)/360);if(!(u<1)){var f=Jx.Util.createCanvasElement();f.width=l,f.height=h;var v=f.getContext("2d").getImageData(0,0,l,h);Jx.Util.releaseCanvas(f),function(x,E,T){var P,F,U,I,D=x.data,$=E.data,M=x.width,G=x.height,V=T.polarCenterX||M/2,Q=T.polarCenterY||G/2,R=0,B=0,O=0,k=0,L=Math.sqrt(V*V+Q*Q);F=M-V,U=G-Q,L=(I=Math.sqrt(F*F+U*U))>L?I:L;var j,K,J,Y,ie=G,Z=M,Te=360/Z*Math.PI/180;for(K=0;K<Z;K+=1)for(J=Math.sin(K*Te),Y=Math.cos(K*Te),j=0;j<ie;j+=1)F=Math.floor(V+L*j/ie*Y),R=D[0+(P=4*((U=Math.floor(Q+L*j/ie*J))*M+F))],B=D[P+1],O=D[P+2],k=D[P+3],$[0+(P=4*(K+j*M))]=R,$[P+1]=B,$[P+2]=O,$[P+3]=k}(n,v,{polarCenterX:l/2,polarCenterY:h/2});for(var m=l/Math.pow(2,u);m<=8;)m*=2,u-=1;var y=m=Math.ceil(m),w=0,C=y,S=1;for(p+m>l&&(w=y,C=0,S=-1),t=0;t<h;t+=1)for(e=w;e!==C;e+=S)A=4*(l*t+Math.round(e+p)%l),i=v.data[A+0],s=v.data[A+1],o=v.data[A+2],a=v.data[A+3],c=4*(l*t+e),v.data[c+0]=i,v.data[c+1]=s,v.data[c+2]=o,v.data[c+3]=a;for(t=0;t<h;t+=1)for(y=Math.floor(m),r=0;r<u;r+=1){for(e=0;e<y+1;e+=1)A=4*(l*t+e),i=v.data[A+0],s=v.data[A+1],o=v.data[A+2],a=v.data[A+3],c=4*(l*t+2*y-e-1),v.data[c+0]=i,v.data[c+1]=s,v.data[c+2]=o,v.data[c+3]=a;y*=2}(function(x,E,T){var P,F,U,I,D,$,M=x.data,G=E.data,V=x.width,Q=x.height,R=T.polarCenterX||V/2,B=T.polarCenterY||Q/2,O=0,k=0,L=0,j=0,K=Math.sqrt(R*R+B*B);F=V-R,U=Q-B,K=($=Math.sqrt(F*F+U*U))>K?$:K;var J,Y,ie,Z=Q,Te=V;for(F=0;F<V;F+=1)for(U=0;U<Q;U+=1)I=F-R,D=U-B,J=Math.sqrt(I*I+D*D)*Z/K,Y=(Y=(180*Math.atan2(D,I)/Math.PI+360+0)%360)*Te/360,ie=Math.floor(Y),O=M[0+(P=4*(Math.floor(J)*V+ie))],k=M[P+1],L=M[P+2],j=M[P+3],G[0+(P=4*(U*V+F))]=O,G[P+1]=k,G[P+2]=L,G[P+3]=j})(v,n,{polarRotation:0})}},mu.Factory.addGetterSetter(Yx.Node,"kaleidoscopePower",2,(0,Zx.getNumberValidator)(),mu.Factory.afterSetFilter),mu.Factory.addGetterSetter(Yx.Node,"kaleidoscopeAngle",0,(0,Zx.getNumberValidator)(),mu.Factory.afterSetFilter);var tp={};Object.defineProperty(tp,"__esModule",{value:!0}),tp.Mask=void 0;const qx=fe,Bee=At,xee=ae;function vu(n,e,t){var r=4*(t*n.width+e),i=[];return i.push(n.data[r++],n.data[r++],n.data[r++],n.data[r++]),i}function Il(n,e){return Math.sqrt(Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2))}tp.Mask=function(n){var e=function(t,r){var i=vu(t,0,0),s=vu(t,t.width-1,0),o=vu(t,0,t.height-1),a=vu(t,t.width-1,t.height-1),A=r||10;if(Il(i,s)<A&&Il(s,a)<A&&Il(a,o)<A&&Il(o,i)<A){for(var c=function(d){for(var p=[0,0,0],f=0;f<d.length;f++)p[0]+=d[f][0],p[1]+=d[f][1],p[2]+=d[f][2];return p[0]/=d.length,p[1]/=d.length,p[2]/=d.length,p}([s,i,a,o]),l=[],h=0;h<t.width*t.height;h++){var u=Il(c,[t.data[4*h],t.data[4*h+1],t.data[4*h+2]]);l[h]=u<A?0:255}return l}}(n,this.threshold());return e&&function(t,r){for(var i=0;i<t.width*t.height;i++)t.data[4*i+3]=r[i]}(n,e=function(t,r,i){for(var s=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],o=Math.round(Math.sqrt(s.length)),a=Math.floor(o/2),A=[],c=0;c<i;c++)for(var l=0;l<r;l++){for(var h=c*r+l,u=0,d=0;d<o;d++)for(var p=0;p<o;p++){var f=c+d-a,v=l+p-a;if(f>=0&&f<i&&v>=0&&v<r){var m=s[d*o+p];u+=t[f*r+v]*m}}A[h]=u}return A}(e=function(t,r,i){for(var s=[1,1,1,1,1,1,1,1,1],o=Math.round(Math.sqrt(s.length)),a=Math.floor(o/2),A=[],c=0;c<i;c++)for(var l=0;l<r;l++){for(var h=c*r+l,u=0,d=0;d<o;d++)for(var p=0;p<o;p++){var f=c+d-a,v=l+p-a;if(f>=0&&f<i&&v>=0&&v<r){var m=s[d*o+p];u+=t[f*r+v]*m}}A[h]=u>=1020?255:0}return A}(e=function(t,r,i){for(var s=[1,1,1,1,0,1,1,1,1],o=Math.round(Math.sqrt(s.length)),a=Math.floor(o/2),A=[],c=0;c<i;c++)for(var l=0;l<r;l++){for(var h=c*r+l,u=0,d=0;d<o;d++)for(var p=0;p<o;p++){var f=c+d-a,v=l+p-a;if(f>=0&&f<i&&v>=0&&v<r){var m=s[d*o+p];u+=t[f*r+v]*m}}A[h]=u===2040?255:0}return A}(e,n.width,n.height),n.width,n.height),n.width,n.height)),n},qx.Factory.addGetterSetter(Bee.Node,"threshold",0,(0,xee.getNumberValidator)(),qx.Factory.afterSetFilter);var np={};Object.defineProperty(np,"__esModule",{value:!0}),np.Noise=void 0;const e_=fe,_ee=At,See=ae;np.Noise=function(n){var e,t=255*this.noise(),r=n.data,i=r.length,s=t/2;for(e=0;e<i;e+=4)r[e+0]+=s-2*s*Math.random(),r[e+1]+=s-2*s*Math.random(),r[e+2]+=s-2*s*Math.random()},e_.Factory.addGetterSetter(_ee.Node,"noise",.2,(0,See.getNumberValidator)(),e_.Factory.afterSetFilter);var rp={};Object.defineProperty(rp,"__esModule",{value:!0}),rp.Pixelate=void 0;const t_=fe,Eee=dt,Fee=At,Tee=ae;rp.Pixelate=function(n){var e,t,r,i,s,o,a,A,c,l,h,u,d,p,f=Math.ceil(this.pixelSize()),v=n.width,m=n.height,y=Math.ceil(v/f),w=Math.ceil(m/f),C=n.data;if(f<=0)Eee.Util.error("pixelSize value can not be <= 0");else for(u=0;u<y;u+=1)for(d=0;d<w;d+=1){for(i=0,s=0,o=0,a=0,c=(A=u*f)+f,h=(l=d*f)+f,p=0,e=A;e<c;e+=1)if(!(e>=v))for(t=l;t<h;t+=1)t>=m||(i+=C[(r=4*(v*t+e))+0],s+=C[r+1],o+=C[r+2],a+=C[r+3],p+=1);for(i/=p,s/=p,o/=p,a/=p,e=A;e<c;e+=1)if(!(e>=v))for(t=l;t<h;t+=1)t>=m||(C[(r=4*(v*t+e))+0]=i,C[r+1]=s,C[r+2]=o,C[r+3]=a)}},t_.Factory.addGetterSetter(Fee.Node,"pixelSize",8,(0,Tee.getNumberValidator)(),t_.Factory.afterSetFilter);var ip={};Object.defineProperty(ip,"__esModule",{value:!0}),ip.Posterize=void 0;const n_=fe,Pee=At,Oee=ae;ip.Posterize=function(n){var e,t=Math.round(254*this.levels())+1,r=n.data,i=r.length,s=255/t;for(e=0;e<i;e+=1)r[e]=Math.floor(r[e]/s)*s},n_.Factory.addGetterSetter(Pee.Node,"levels",.5,(0,Oee.getNumberValidator)(),n_.Factory.afterSetFilter);var sp={};Object.defineProperty(sp,"__esModule",{value:!0}),sp.RGB=void 0;const yu=fe,k0=At,Iee=ae;sp.RGB=function(n){var e,t,r=n.data,i=r.length,s=this.red(),o=this.green(),a=this.blue();for(e=0;e<i;e+=4)t=(.34*r[e]+.5*r[e+1]+.16*r[e+2])/255,r[e]=t*s,r[e+1]=t*o,r[e+2]=t*a,r[e+3]=r[e+3]},yu.Factory.addGetterSetter(k0.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),yu.Factory.addGetterSetter(k0.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),yu.Factory.addGetterSetter(k0.Node,"blue",0,Iee.RGBComponent,yu.Factory.afterSetFilter);var op={};Object.defineProperty(op,"__esModule",{value:!0}),op.RGBA=void 0;const Ul=fe,bu=At,Uee=ae;op.RGBA=function(n){var e,t,r=n.data,i=r.length,s=this.red(),o=this.green(),a=this.blue(),A=this.alpha();for(e=0;e<i;e+=4)t=1-A,r[e]=s*A+r[e]*t,r[e+1]=o*A+r[e+1]*t,r[e+2]=a*A+r[e+2]*t},Ul.Factory.addGetterSetter(bu.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),Ul.Factory.addGetterSetter(bu.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),Ul.Factory.addGetterSetter(bu.Node,"blue",0,Uee.RGBComponent,Ul.Factory.afterSetFilter),Ul.Factory.addGetterSetter(bu.Node,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n});var ap={};Object.defineProperty(ap,"__esModule",{value:!0}),ap.Sepia=void 0;ap.Sepia=function(n){var e,t,r,i,s=n.data,o=s.length;for(e=0;e<o;e+=4)t=s[e+0],r=s[e+1],i=s[e+2],s[e+0]=Math.min(255,.393*t+.769*r+.189*i),s[e+1]=Math.min(255,.349*t+.686*r+.168*i),s[e+2]=Math.min(255,.272*t+.534*r+.131*i)};var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.Solarize=void 0;Ap.Solarize=function(n){var e=n.data,t=n.width,r=4*t,i=n.height;do{var s=(i-1)*r,o=t;do{var a=s+4*(o-1),A=e[a],c=e[a+1],l=e[a+2];A>127&&(A=255-A),c>127&&(c=255-c),l>127&&(l=255-l),e[a]=A,e[a+1]=c,e[a+2]=l}while(--o)}while(--i)};var lp={};Object.defineProperty(lp,"__esModule",{value:!0}),lp.Threshold=void 0;const r_=fe,kee=At,Dee=ae;lp.Threshold=function(n){var e,t=255*this.threshold(),r=n.data,i=r.length;for(e=0;e<i;e+=1)r[e]=r[e]<t?0:255},r_.Factory.addGetterSetter(kee.Node,"threshold",.5,(0,Dee.getNumberValidator)(),r_.Factory.afterSetFilter),Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.Konva=void 0;const i_=iP,Qee=Uf,Mee=kf,Lee=Df,Nee=Qf,Ree=Mf,s_=yA,Hee=Wc,$ee=QA,jee=Xc,Kee=Lf,Gee=Nf,Vee=Rf,zee=Hf,Wee=jo,Xee=$f,Yee=jf,Jee=Kf,Zee=Gf,qee=Vf,ete=zf,tte=Wf,nte=Xf,rte=Yf,ite=Jf,ste=Zf,ote=qf,ate=ep,Ate=tp,lte=np,cte=rp,hte=ip,ute=sp,dte=op,fte=ap,pte=Ap,gte=lp;Tf.Konva=i_.Konva.Util._assign(i_.Konva,{Arc:Qee.Arc,Arrow:Mee.Arrow,Circle:Lee.Circle,Ellipse:Nee.Ellipse,Image:Ree.Image,Label:s_.Label,Tag:s_.Tag,Line:Hee.Line,Path:$ee.Path,Rect:jee.Rect,RegularPolygon:Kee.RegularPolygon,Ring:Gee.Ring,Sprite:Vee.Sprite,Star:zee.Star,Text:Wee.Text,TextPath:Xee.TextPath,Transformer:Yee.Transformer,Wedge:Jee.Wedge,Filters:{Blur:Zee.Blur,Brighten:qee.Brighten,Contrast:ete.Contrast,Emboss:tte.Emboss,Enhance:nte.Enhance,Grayscale:rte.Grayscale,HSL:ite.HSL,HSV:ste.HSV,Invert:ote.Invert,Kaleidoscope:ate.Kaleidoscope,Mask:Ate.Mask,Noise:lte.Noise,Pixelate:cte.Pixelate,Posterize:hte.Posterize,RGB:ute.RGB,RGBA:dte.RGBA,Sepia:fte.Sepia,Solarize:pte.Solarize,Threshold:gte.Threshold}});var mte=qZ(Object.freeze({__proto__:null,default:{}})),vte=Mw.exports;Object.defineProperty(vte,"__esModule",{value:!0});const D0=Tf,o_=mte,Zy=o_.default||o_;Ff.DOMMatrix=Zy.DOMMatrix;Ff.document===void 0&&(D0.Konva.Util.createCanvasElement=()=>{const n=Zy.createCanvas(300,300);return n.style||(n.style={}),n},D0.Konva.Util.createImageElement=()=>new Zy.Image),Mw.exports=D0.Konva;var Ce=rP(Mw.exports),qy=function(n,e){return qy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},qy(n,e)};function Re(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}qy(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var oe=function(){return oe=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},oe.apply(this,arguments)};function ra(n,e,t,r){return new(t||(t=Promise))(function(i,s){function o(c){try{A(r.next(c))}catch(l){s(l)}}function a(c){try{A(r.throw(c))}catch(l){s(l)}}function A(c){var l;c.done?i(c.value):(l=c.value,l instanceof t?l:new t(function(h){h(l)})).then(o,a)}A((r=r.apply(n,e||[])).next())})}function ia(n,e){var t,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(A){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(o=0)),o;)try{if(t=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||l[0]!==6&&l[0]!==2)){o=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(l[0]===6&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=e.call(n,o)}catch(h){l=[6,h],r=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([A,c])}}}function Nt(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r,i,s=t.call(n),o=[];try{for(;(e===void 0||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(t=s.return)&&t.call(s)}finally{if(i)throw i.error}}return o}function Me(n,e,t){if(arguments.length===2)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}var yte=function(n){return function(e){return!!e&&typeof e=="object"}(n)&&!function(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||function(r){return r.$$typeof===bte}(e)}(n)},bte=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function Yc(n,e){return e.clone!==!1&&e.isMergeableObject(n)?MA((t=n,Array.isArray(t)?[]:{}),n,e):n;var t}function wte(n,e,t){return n.concat(e).map(function(r){return Yc(r,t)})}function a_(n){return Object.keys(n).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}(n))}function A_(n,e){try{return e in n}catch{return!1}}function Cte(n,e,t){var r={};return t.isMergeableObject(n)&&a_(n).forEach(function(i){r[i]=Yc(n[i],t)}),a_(e).forEach(function(i){(function(s,o){return A_(s,o)&&!(Object.hasOwnProperty.call(s,o)&&Object.propertyIsEnumerable.call(s,o))})(n,i)||(A_(n,i)&&t.isMergeableObject(e[i])?r[i]=function(s,o){if(!o.customMerge)return MA;var a=o.customMerge(s);return typeof a=="function"?a:MA}(i,t)(n[i],e[i],t):r[i]=Yc(e[i],t))}),r}function MA(n,e,t){(t=t||{}).arrayMerge=t.arrayMerge||wte,t.isMergeableObject=t.isMergeableObject||yte,t.cloneUnlessOtherwiseSpecified=Yc;var r=Array.isArray(e);return r===Array.isArray(n)?r?t.arrayMerge(n,e,t):Cte(n,e,t):Yc(e,t)}MA.all=function(n,e){if(!Array.isArray(n))throw new Error("first argument should be an array");return n.reduce(function(t,r){return MA(t,r,e)},{})};var Bte=rP(MA),Od={borderDash:[15,10],borderStroke:"#fff",borderStrokeWidth:3,anchorSize:15,anchorFill:"#fff",anchorStroke:"#fff",anchorStrokeWidth:1,anchorCornerRadius:30},yP={disableCanvasContextMenu:!0,containerClassName:"pikaso",transformer:Od,snapToGrid:null,cropper:{transformer:Od,circular:!1,fixed:!1,keepRatio:!0,aspectRatio:1,minWidth:100,minHeight:100,marginRatio:1.1,overlay:{color:"#262626",opacity:.5},guides:{show:!0,count:3,color:"#fff",width:1,dash:[15,10]}},drawing:{autoSelect:!1,keyboard:{cancelOnEscape:!0}},selection:{interactive:!0,keyboard:{enabled:!0,movingSpaces:5,map:{delete:["Backspace","Delete"],moveLeft:["ArrowLeft"],moveRight:["ArrowRight"],moveUp:["ArrowUp"],moveDown:["ArrowDown"],deselect:["Escape"]}},transformer:oe(oe({},Od),{borderDash:[0,0]}),zone:{fill:"rgba(105, 105, 105, 0.7)",stroke:"#dbdbdb"}},history:{keyboard:{enabled:!0}},measurement:null};function qs(n,e){var t=n.getClientRect(),r=t.x+t.width/2,i=t.y+t.height/2;n.rotation(e);var s=n.getClientRect(),o=r-(s.x+s.width/2),a=i-(s.y+s.height/2);n.setAttrs({x:n.x()+o,y:n.y()+a})}var rt,bP=function(){function n(e){this.board=e}return n.prototype.apply=function(e,t){var r=this;this.board.history.create(this.board.layer,e.map(function(i){return i.node}),{undo:function(i){return r.clearCache(i)},redo:function(i){return r.addCache(i)}}),e.forEach(function(i){i.node.cache(),(Array.isArray(t)?t:[t]).forEach(function(s){"options"in s&&i.node.setAttrs(s.options);var o=i.node.filters()||[],a=r.getFilterFunction(s);o.includes(a)===!1&&i.node.filters(Me(Me([],Nt(o),!1),[a],!1))})}),this.board.events.emit("filter:add",{shapes:e,data:{filters:t}})},n.prototype.remove=function(e,t){var r=this;this.board.history.create(this.board.layer,e.map(function(i){return i.node}),{undo:function(i){return r.addCache(i)},redo:function(i){return r.clearCache(i)}}),e.forEach(function(i){if(i.node.filters()){var s=Array.isArray(t)?t.map(r.getFilterFunction):[r.getFilterFunction(t)],o=i.node.filters().filter(function(a){return!s.includes(a)});o.length===0&&i.node.clearCache(),i.node.filters(o)}}),this.board.events.emit("filter:remove",{shapes:e,data:{filters:t}})},n.prototype.addCache=function(e){e.forEach(function(t){return t.nodes.forEach(function(r){var i;!r.isCached()&&(!((i=r.filters())===null||i===void 0)&&i.length)&&r.cache()})}),this.board.selection.reselect()},n.prototype.clearCache=function(e){e.forEach(function(t){return t.nodes.forEach(function(r){var i;r.isCached()&&!(!((i=r.filters())===null||i===void 0)&&i.length)&&r.clearCache()})}),this.board.selection.reselect()},n.prototype.getFilterFunction=function(e){return"customFn"in e?e.customFn:Ce.Filters[e.name]},n}(),xte=function(){function n(e){this.board=e}return n.prototype.horizontal=function(e){var t=(e??Me(Me([],Nt(this.board.activeShapes),!1),[this.board.background.image],!1)).filter(function(r){return!r.hasGroup()});this.board.history.create(this.board.layer,t.map(function(r){return r.node})),t.forEach(function(r){var i=r.node,s=i.getClientRect();i.scaleX(-1*i.scaleX());var o=i.getClientRect();i.setAttrs({x:i.x()+(s.x-o.x),y:i.y()+(s.y-o.y)})}),this.board.events.emit("flip:x",{shapes:t})},n.prototype.vertical=function(e){var t=(e??Me(Me([],Nt(this.board.activeShapes),!1),[this.board.background.image],!1)).filter(function(r){return!r.hasGroup()});this.board.history.create(this.board.layer,t.map(function(r){return r.node})),t.forEach(function(r){var i=r.node,s=i.getClientRect();i.scaleY(-1*i.scaleY());var o=i.getClientRect();i.setAttrs({x:i.x()+(s.x-o.x),y:i.y()+(s.y-o.y)})}),this.board.events.emit("flip:y",{shapes:t})},n}(),e1="__group__",vr=function(){function n(e,t,r){r===void 0&&(r={});var i,s,o,a=this;this.deleted=!1,this.selectable=!1,this.filtersList=[],this.board=e,this.node=t,this.flip=new xte(e),this.filter=new bP(e),this.selectable=(o=(i=r.selectable)!==null&&i!==void 0?i:(s=this.board.settings.selection)===null||s===void 0?void 0:s.interactive)===null||o===void 0||o,this.config=oe({transformer:{},internal:!1,history:!0,selectable:!0},r),this.config.history&&this.board.history.create(this.board.layer,[],{undo:function(){return a.delete()},redo:function(){return a.undelete()}}),this.config.internal===!1&&this.board.addShape(this),this.board.events.emit("shape:create",{shapes:[this]}),this.selectable&&this.node.draggable(!0),this.board.layer.add(this.node),this.registerEvents()}return Object.defineProperty(n.prototype,"isActive",{get:function(){return!this.isDeleted&&!this.isInvisible},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isDeleted",{get:function(){return this.deleted},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){return this.node.isVisible()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isInvisible",{get:function(){return this.isVisible===!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSelectable",{get:function(){return this.selectable},set:function(e){this.selectable=e,this.node.draggable(e),e?this.board.addShape(this):(this.deselect(),this.board.removeShape(this)),this.board.events.emit("shape:selectable",{shapes:[this],data:{selectable:e}})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"group",{get:function(){return this.node.getAttr(e1)},set:function(e){this.group&&e!==this.group&&this.board.groups.detach([this],this.group),e&&e.length>0&&this.board.groups.attach([this],e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this.node.name()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this.filtersList},enumerable:!1,configurable:!0}),n.prototype.hasGroup=function(){return!!this.group},n.prototype.flipX=function(){this.flip.horizontal([this])},n.prototype.flipY=function(){this.flip.vertical([this])},n.prototype.select=function(){this.board.selection.add(this)},n.prototype.deselect=function(){this.board.selection.deselect(this)},n.prototype.addFilter=function(e){this.filter.apply([this],e),this.filtersList=Me(Me([],Nt(this.getFiltersDiff(e)),!1),Nt(Array.isArray(e)?e:[e]),!1)},n.prototype.removeFilter=function(e){this.filter.remove([this],e),this.filtersList=this.getFiltersDiff(e)},n.prototype.delete=function(){this.deleted||(this.deselect(),this.node.hide(),!this.node.isCached&&this.node.width()&&this.node.height()&&this.node.cache(),this.deleted=!0,this.board.events.emit("shape:delete",{shapes:[this]}))},n.prototype.undelete=function(){this.deleted&&(this.node.show(),this.node.isCached()&&this.node.clearCache(),this.deleted=!1,this.board.events.emit("shape:undelete",{shapes:[this]}))},n.prototype.destroy=function(){var e=this;this.node.destroy();var t=this.board.activeShapes.filter(function(r){return r.node!==e.node});this.board.setShapes(t),this.board.events.emit("shape:destroy",{shapes:[this]})},n.prototype.rotate=function(e){this.node.rotation(e),this.board.events.emit("shape:rotate",{shapes:[this]})},n.prototype.x=function(){return this.node.x()},n.prototype.y=function(){return this.node.y()},n.prototype.width=function(){return this.node.width()},n.prototype.height=function(){return this.node.height()},n.prototype.scale=function(){return this.node.scale()},n.prototype.scaleX=function(){return this.node.scaleX()},n.prototype.scaleY=function(){return this.node.scaleY()},n.prototype.show=function(){return this.node.show()},n.prototype.hide=function(){return this.node.hide()},n.prototype.update=function(e){this.board.history.create(this.board.layer,this.node),this.node.setAttrs(e)},n.prototype.to=function(e){this.board.history.create(this.board.layer,this.node),this.node.to(e)},n.prototype.registerEvents=function(){var e=this;this.node.addEventListener("mouseover",function(){e.selectable&&!e.board.activeDrawing&&(e.board.stage.getContent().style.cursor="move")}),this.node.addEventListener("mouseout",function(){e.board.stage.getContent().style.cursor="inherit"}),this.node.addEventListener("dragstart",function(){(e.selectable===!1||e.board.selection.isDisabled)&&e.node.stopDrag()}),this.node.on("dragend",function(t){return t.currentTarget.setAttrs({originalX:void 0,originalY:void 0})}),this.node.on("transformend",function(t){return t.currentTarget.setAttrs({originalScaleX:void 0,originalScaleY:void 0})})},n.prototype.getFiltersDiff=function(e){var t=Array.isArray(e)?e:[e];return this.filters.filter(function(r){return!t.find(function(i){return"name"in r&&"name"in i?i.name===r.name:"customFn"in r&&"customFn"in i&&r.customFn===i.customFn})})},n}(),_te=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Re(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"group"},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){qs(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(vr),Ste=function(){function n(e){this.groups=[],this.board=e}return Object.defineProperty(n.prototype,"list",{get:function(){return this.groups},enumerable:!1,configurable:!0}),n.prototype.findGroup=function(e){return this.groups.find(function(t){var r=t.container;return r.name===e&&r.isActive})},n.prototype.createGroup=function(e,t,r){var i=this;t===void 0&&(t={}),r===void 0&&(r=!0);var s={container:new _te(this.board,new Ce.Group(oe({name:e,draggable:this.isDraggable()},t)),{history:r}),children:[]};return this.groups=Me(Me([],Nt(this.groups),!1),[s],!1),r&&this.board.history.create(this.board.layer,[],{undo:function(){return i.destroyGroup(e)},redo:function(){return i.createGroup(e,t,!1)}}),this.board.events.emit("group:create",{data:{groupName:e}}),s},n.prototype.findOrCreateGroup=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r=!0);var i=this.findGroup(e);return i??this.createGroup(e,t,r)},n.prototype.deleteGroup=function(e,t){var r=this;t===void 0&&(t=!0);var i=this.findGroup(e);i&&(i.container.delete(),i.children.forEach(function(s){return s.delete()}),t&&this.board.history.create(this.board.layer,[],{undo:function(){return r.undeleteGroup(e,!1)},redo:function(){return r.deleteGroup(e,!1)}}),this.board.events.emit("group:delete",{data:{groupName:e}}))},n.prototype.undeleteGroup=function(e,t){var r=this;t===void 0&&(t=!0);var i=this.groups.find(function(s){return s.container.name===e});i&&(i.container.undelete(),i.children.forEach(function(s){return s.undelete()}),t&&this.board.history.create(this.board.layer,[],{undo:function(){return r.deleteGroup(e,!1)},redo:function(){return r.undeleteGroup(e,!1)}}),this.board.events.emit("group:undelete",{data:{groupName:e}}))},n.prototype.destroyGroup=function(e){var t=this.findGroup(e);t&&(t.container.destroy(),t.children.forEach(function(r){return r.destroy()}),this.groups=this.groups.filter(function(r){var i=r.container;return t.container.name!==i.name}),this.board.events.emit("group:destroy",{data:{groupName:e}}))},n.prototype.splitGroup=function(e,t){var r=this;t===void 0&&(t=!0);var i=this.findGroup(e);i&&!i.container.node.isCached()&&(this.removeFromGroup(i.children,e,!1),i.container.delete(),this.groups=this.groups.filter(function(s){var o=s.container;return i.container.name!==o.name}),t&&this.board.history.create(this.board.layer,[],{undo:function(){return r.addToGroup(i.children,e,!1)},redo:function(){return r.splitGroup(e,!1)}}),this.board.events.emit("group:ungroup",{data:{groupName:e}}))},n.prototype.addToGroup=function(e,t,r){var i=this;r===void 0&&(r=!0);var s=this.findOrCreateGroup(t,{},r);return e.forEach(function(o){s.children.includes(o)||(i.groups=i.groups.map(function(a){var A=a.container,c=a.children;return A.name===t?{container:A,children:Me(Me([],Nt(c),!1),[o],!1)}:{container:A,children:c}}),s.container.node.add(o.node),o.node.draggable(!1),o.node.setAttr(e1,t))}),r&&this.board.history.create(this.board.layer,[],{undo:function(){i.removeFromGroup(e,t,!1),i.deleteEmpty(t,!1)},redo:function(){return i.addToGroup(e,t,!1)}}),this.board.events.emit("group:attach",{shapes:e,data:{groupName:t}}),s},n.prototype.removeFromGroup=function(e,t,r){var i=this;r===void 0&&(r=!0);var s=this.findGroup(t);s&&(e.forEach(function(o){var a;if(s.children.includes(o)!==!1){i.groups=i.groups.map(function(u){var d=u.container,p=u.children;return d.name===t?{container:d,children:p.filter(function(f){return o.node!==f.node})}:{container:d,children:p}});var A=o.node.getAbsolutePosition(),c=o.node.getAbsoluteScale(),l=o.node.getAbsoluteRotation();o.node.moveTo(s.container.node.parent),o.node.x(A.x),o.node.y(A.y),o.node.scale({x:c.x,y:c.y}),o.node.rotation(l),o.node.draggable(i.isDraggable());var h=s.container.node;h.children=(a=h.children)===null||a===void 0?void 0:a.filter(function(u){return u!==o.node}),o.node.setAttr(e1,null)}}),r&&this.board.history.create(this.board.layer,[],{undo:function(){return i.addToGroup(e,t,!1)},redo:function(){i.removeFromGroup(e,t,!1),i.deleteEmpty(t,!1)}}),this.board.events.emit("group:detach",{shapes:e,data:{groupName:t}}))},n.prototype.isDraggable=function(){var e,t;return(t=(e=this.board.settings.selection)===null||e===void 0?void 0:e.interactive)===null||t===void 0||t},n.prototype.deleteEmpty=function(e,t){var r,i;t===void 0&&(t=!0),((i=(r=this.findGroup(e))===null||r===void 0?void 0:r.children)===null||i===void 0?void 0:i.length)===0&&this.deleteGroup(e,t)},n}(),Ete=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Re(e,n),e.prototype.create=function(t,r){return r===void 0&&(r={}),this.createGroup(t,r)},e.prototype.find=function(t){return this.findGroup(t)},e.prototype.findOrCreate=function(t,r){return r===void 0&&(r={}),this.findOrCreateGroup(t,r)},e.prototype.delete=function(t){this.deleteGroup(t)},e.prototype.undelete=function(t){this.undeleteGroup(t)},e.prototype.destroy=function(t){this.destroyGroup(t)},e.prototype.ungroup=function(t){this.splitGroup(t)},e.prototype.attach=function(t,r){return this.addToGroup(t,r)},e.prototype.detach=function(t,r){this.removeFromGroup(t,r)},e}(Ste),wP=function(){function n(e,t){var r,i;t===void 0&&(t=!1),this.board=e,this.node=new Ce.Label,this.backgroundNode=new Ce.Tag((r=this.board.settings.measurement)===null||r===void 0?void 0:r.background),this.textNode=new Ce.Text(oe({text:" "},(i=this.board.settings.measurement)===null||i===void 0?void 0:i.text)),this.node.add(this.backgroundNode,this.textNode),t===!1&&this.hide(),this.board.layer.add(this.node)}return Object.defineProperty(n.prototype,"position",{set:function(e){this.node.setAttrs({x:e.x,y:e.y}),this.node.moveToTop()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"text",{set:function(e){this.textNode.setAttr("text",e)},enumerable:!1,configurable:!0}),n.prototype.show=function(){this.node.isVisible()||(this.node.clearCache(),this.node.show())},n.prototype.hide=function(){this.node.isVisible()!==!1&&(this.node.hide(),this.node.cache())},n.prototype.measure=function(e,t){var r,i,s,o;if(e&&this.board.settings.measurement){var a=Math.max((r=this.board.settings.measurement.margin)!==null&&r!==void 0?r:0,(s=(i=this.board.settings.transformer)===null||i===void 0?void 0:i.anchorSize)!==null&&s!==void 0?s:0,(o=Od.anchorSize)!==null&&o!==void 0?o:0),A=t??e.getClientRect();this.text="".concat(A.width.toFixed(0)," × ").concat(A.height.toFixed(0));var c=A.x+A.width/2-this.node.width()/2,l=A.y+A.height+a;l+this.node.height()>this.board.getDimensions().height&&(l=A.y+e.height()-2*this.node.height()-a),this.position={x:c,y:l},this.node.isVisible()===!1&&this.show()}},n}();function Fte(n){n===void 0&&(n="");var e=String(n);return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/&nbsp;/gi," ")).replace(/&amp;/gi,"&")).replace(/<br>/gi,`
`)).replace(/<br\/>/gi,`
`)).replace(/<div>/gi,`
`)).replace(/<p>/gi,`
`)).replace(/<(.*?)>/g,"")).split(`
`).map(function(t){return t===void 0&&(t=""),t.trim()}).join(`
`)).replace(/\n\n+/g,`

`)).replace(/[ ]+/g," ")).trim()}function fa(){return typeof window<"u"&&window.document!==void 0}function Vl(){var n;return!fa()&&typeof process<"u"&&!!(!((n=process.versions)===null||n===void 0)&&n.node)}(function(n){n.Svg="Svg",n.Text="Text",n.Pencil="Pencil",n.Line="Line",n.Arrow="Arrow",n.Circle="Circle",n.Rect="Rect",n.Ellipse="Ellipse",n.Polygon="Polygon",n.Triangle="Triangle"})(rt||(rt={}));var Tte=function(n){function e(t,r,i){i===void 0&&(i={});var s=n.call(this,t,r,i)||this;return s.isEditingEnabled=!1,s.config=i,r.on("transform",s.transform.bind(s)),r.on("dblclick",s.inlineEdit.bind(s)),s}return Re(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"label"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEditing",{get:function(){return this.isEditingEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textNode",{get:function(){return this.node.getText()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagNode",{get:function(){return this.node.getTag()},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){qs(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e.prototype.updateTag=function(t){this.board.history.create(this.board.layer,this.tagNode),this.tagNode.setAttrs(t)},e.prototype.updateText=function(t){this.board.history.create(this.board.layer,this.textNode),this.textNode.setAttrs(t),this.updateTransformer()},e.prototype.transform=function(){this.config.keepScale!==!1&&this.board.selection.transformer.getActiveAnchor()!=="rotater"&&(this.textNode.setAttrs({width:this.node.width()*this.node.scaleX(),scaleX:this.node.scaleY()}),this.node.scaleX(this.textNode.scaleY()),this.tagNode.scaleX(this.node.scaleY()))},e.prototype.inlineEdit=function(t){var r,i,s,o=this;if(!Vl()&&!this.node.isCached()){t.cancelBubble=!0,this.isEditingEnabled=!0,this.board.setActiveDrawing(rt.Text);var a=t.target.absolutePosition(),A=this.textNode.getAttr("text");this.node.hide(),(r=this.node)===null||r===void 0||r.draggable(!1),this.board.selection.deselectAll();var c=document.createElement("span");(s=(i=this.board.container)===null||i===void 0?void 0:i.getElementsByClassName(this.board.settings.containerClassName)[0])===null||s===void 0||s.append(c),fa()&&this.setInputFocus(c),c.setAttribute("contenteditable",""),c.setAttribute("role","textbox"),c.innerText=this.textNode.getAttr("text"),Object.assign(c.style,{position:"absolute",display:"inline-block",left:"".concat(a.x-this.textNode.padding(),"px"),top:"".concat(a.y-this.textNode.padding(),"px"),width:"".concat(this.textNode.width()*this.node.scaleX(),"px"),minWidth:"".concat(2*this.textNode.padding(),"px"),maxWidth:"".concat(this.textNode.width()*this.node.scaleX(),"px"),minHeight:"".concat(this.textNode.height()*this.node.scaleY(),"px"),fontSize:"".concat(this.textNode.fontSize()*this.node.scaleY(),"px"),border:"none",padding:"".concat(this.textNode.padding(),"px"),margin:"".concat(this.textNode.padding(),"px"),overflow:"hidden",background:this.tagNode.fill(),borderRadius:"".concat(this.tagNode.cornerRadius(),"px"),outline:"none",resize:"none",lineHeight:this.textNode.lineHeight(),fontFamily:this.textNode.fontFamily(),transformOrigin:"left top",textAlign:this.textNode.align(),color:this.textNode.fill(),transform:"".concat(c.style.transform," rotateZ(").concat(this.node.rotation(),"deg)")}),c.addEventListener("blur",function(l){var h,u;o.isEditingEnabled=!1,(h=c.parentNode)===null||h===void 0||h.removeChild(c),o.board.setActiveDrawing(null);var d=Fte(l.target.innerHTML);d!==A&&o.board.history.create(o.board.layer,[],{undo:function(){return o.changeText(A)},redo:function(){return o.changeText(d)}}),o.textNode.setText(d),o.node.show(),o.node.setAttrs({draggable:(u=o.board.settings.selection)===null||u===void 0?void 0:u.interactive,width:o.textNode.width()}),o.board.selection.add(o)})}},e.prototype.changeText=function(t){this.textNode.setAttrs({text:t}),this.updateTransformer(),this.board.events.emit("label:update-text",{shapes:[this],data:{text:t}})},e.prototype.updateTransformer=function(){this.board.selection.isVisible&&this.board.selection.transformer.forceUpdate()},e.prototype.setInputFocus=function(t){return ra(this,void 0,void 0,function(){var r,i;return ia(this,function(s){switch(s.label){case 0:return[4,new Promise(function(o){return setTimeout(o,50)})];case 1:return s.sent(),(r=document.createRange()).selectNodeContents(t),r.collapse(!1),(i=window.getSelection()).removeAllRanges(),i.addRange(r),[2]}})})},e}(vr),Pte=function(){function n(e){this.list=[],this.board=e,this.filter=new bP(e),this.createZone(),this.createTransformer(),this.board.settings.measurement&&(this.dimensionsTag=new wP(this.board)),this.board.stage.on("mousedown touchstart",this.onDragZoneStart.bind(this)),this.board.stage.on("mousemove touchmove",this.onDragZoneMove.bind(this)),this.board.stage.on("mouseup touchend",this.onDragZoneEnd.bind(this)),fa()&&(window.addEventListener("mouseup",this.onWindowMouseUp.bind(this)),window.addEventListener("touchend",this.onWindowMouseUp.bind(this)),window.addEventListener("keydown",this.onKeyDown.bind(this)))}return Object.defineProperty(n.prototype,"shapes",{get:function(){return this.list},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){return this.list.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isDisabled",{get:function(){return!!this.board.activeDrawing||this.board.activeShapes.some(function(e){return e instanceof Tte&&e.isEditing})},enumerable:!1,configurable:!0}),n.prototype.getTransformer=function(){return this.transformer},n.prototype.find=function(e){var t=this.board.activeShapes.filter(function(r){return e(r)});this.multi(t)},n.prototype.selectAll=function(){this.multi(this.board.activeShapes)},n.prototype.deselectAll=function(){this.multi([])},n.prototype.reselect=function(){var e=this.list;this.deselectAll(),this.multi(e)},n.prototype.multi=function(e){var t,r,i;this.list=e;var s=oe(oe({visible:!0,centeredScaling:!0,rotationSnaps:[0,45,90,135,180,225,270,315],keepRatio:e.length>1,rotateEnabled:!0,enabledAnchors:["top-left","top-right","bottom-left","bottom-right","top-center","bottom-center","middle-left","middle-right"]},this.board.settings.transformer),(t=this.board.settings.selection)===null||t===void 0?void 0:t.transformer),o=e.reduce(function(a,A){var c,l=A.node.isCached()?[]:(c=A.config.transformer)===null||c===void 0?void 0:c.enabledAnchors;return oe(oe(oe({},a),A.config.transformer),{enabledAnchors:l})},s);this.transformer.setAttrs(o).nodes(e.map(function(a){return a.node})),(r=this.dimensionsTag)===null||r===void 0||r.measure(this.transformer,this.getTransformerRect()),this.transformer.show(),this.transformer.moveToTop(),e.length===0&&(this.transformer.hide(),(i=this.dimensionsTag)===null||i===void 0||i.hide()),this.board.events.emit("selection:change",{shapes:e})},n.prototype.add=function(e){this.list.some(function(t){return t.node===e.node})||this.multi(Me(Me([],Nt(this.list),!1),[e],!1))},n.prototype.toggle=function(e){this.list.some(function(t){return t.node===e.node})?this.deselect(e):this.multi(Me(Me([],Nt(this.list),!1),[e],!1))},n.prototype.deselect=function(e){this.list=this.list.filter(function(t){return t!==e}),this.multi(this.list)},n.prototype.delete=function(){if(this.list.length!==0){var e=this.list;this.list=[],this.board.stage.getContent().style.cursor="inherit",this.transformer.nodes([]),this.board.history.create(this.board.layer,[],{undo:function(){return e.forEach(function(t){return t.undelete()})},redo:function(){return e.forEach(function(t){return t.delete()})}}),e.forEach(function(t){return t.delete()}),this.board.events.emit("selection:delete",{shapes:e})}},n.prototype.moveX=function(e){return ra(this,void 0,void 0,function(){var t=this;return ia(this,function(r){return[2,new Promise(function(i){t.board.history.create(t.board.layer,t.transformer.nodes()),t.list.forEach(function(s){s.node.to({x:s.node.x()+e,onFinish:i})}),t.board.events.emit("selection:move",{shapes:t.list,data:{axis:"x",value:e}})})]})})},n.prototype.moveY=function(e){return ra(this,void 0,void 0,function(){var t=this;return ia(this,function(r){return[2,new Promise(function(i){t.board.history.create(t.board.layer,t.transformer.nodes()),t.list.forEach(function(s){s.node.to({y:s.node.y()+e,onFinish:i})}),t.board.events.emit("selection:move",{shapes:t.list,data:{axis:"y",value:e}})})]})})},n.prototype.addFilter=function(e){this.filter.apply(this.list,e),this.reselect()},n.prototype.removeFilter=function(e){this.filter.remove(this.list,e),this.reselect()},n.prototype.group=function(e){this.board.groups.attach(this.list,e)},n.prototype.createZone=function(){var e;this.zone=new Ce.Rect(oe({visible:!1},(e=this.board.settings.selection)===null||e===void 0?void 0:e.zone)),this.board.layer.add(this.zone)},n.prototype.createTransformer=function(){var e=this;this.transformer=new Ce.Transformer,this.transformer.on("dragstart",function(){var t;e.transformer.hide(),(t=e.dimensionsTag)===null||t===void 0||t.hide(),e.board.history.create(e.board.layer,e.list.map(function(r){return r.node})),e.board.events.emit("selection:dragstart",{shapes:e.list})}),this.transformer.on("dragmove",function(){e.board.events.emit("selection:dragmove",{shapes:e.list})}),this.transformer.on("dragend",function(){var t;e.transformer.show(),(t=e.dimensionsTag)===null||t===void 0||t.measure(e.transformer,e.getTransformerRect()),e.board.events.emit("selection:dragend",{shapes:e.list})}),this.transformer.on("transformstart",function(){e.board.history.create(e.board.layer,e.list.map(function(t){return t.node}),{execute:function(){return e.board.selection.transformer.forceUpdate()}}),e.board.events.emit("selection:transformstart",{shapes:e.list})}),this.transformer.on("transform",function(){var t;(t=e.dimensionsTag)===null||t===void 0||t.measure(e.transformer,e.getTransformerRect()),e.board.events.emit("selection:transform",{shapes:e.list})}),this.transformer.on("transformend",function(){e.board.events.emit("selection:transformend",{shapes:e.list})}),this.board.layer.add(this.transformer)},n.prototype.onDragZoneStart=function(e){var t,r=this;if(((t=this.board.settings.selection)===null||t===void 0?void 0:t.interactive)!==!1&&!this.isDisabled){var i=this.board.activeShapes.find(function(a){return a.node===r.getParentNode(e.target)});if(i&&!this.list.includes(i)){var s=e.evt.shiftKey===!0,o=e.evt.ctrlKey===!0;return s||o?s&&!o?this.add(i):o&&!s&&this.toggle(i):this.multi([i]),void this.board.setActiveDrawing(null)}this.board.activeDrawing===null&&this.isBackgroundNode(e.target)!==!1&&(this.startPointerPosition=this.board.stage.getPointerPosition(),this.zone.setAttrs({width:0,height:0,visible:!0}).moveToTop())}},n.prototype.onDragZoneMove=function(){if(this.zone.visible()){var e=this.board.stage.getPointerPosition(),t=e.x,r=e.y;this.zone.setAttrs({x:Math.min(this.startPointerPosition.x,t),y:Math.min(this.startPointerPosition.y,r),width:Math.abs(t-this.startPointerPosition.x),height:Math.abs(r-this.startPointerPosition.y)})}},n.prototype.onDragZoneEnd=function(){var e=this;if(this.zone.visible()){setTimeout(function(){e.zone.visible(!1)},10);var t=this.zone.getClientRect(),r=this.board.activeShapes.filter(function(i){return Ce.Util.haveIntersection(t,i.node.getClientRect())});this.multi(r)}},n.prototype.onWindowMouseUp=function(e){e.target instanceof HTMLCanvasElement||this.onDragZoneEnd()},n.prototype.onKeyDown=function(e){var t,r,i,s,o,a,A,c,l,h,u,d,p,f,v=(t=this.board.settings.selection)===null||t===void 0?void 0:t.keyboard;if((v==null?void 0:v.enabled)!==!1){var m=this.transformer.nodes(),y=(r=v==null?void 0:v.movingSpaces)!==null&&r!==void 0?r:5;this.transformer.getAttr("visible")!==!1&&m.length!==0&&(!((s=(i=v==null?void 0:v.map)===null||i===void 0?void 0:i.delete)===null||s===void 0)&&s.includes(e.key)&&this.delete(),!((a=(o=v==null?void 0:v.map)===null||o===void 0?void 0:o.moveLeft)===null||a===void 0)&&a.includes(e.key)&&this.moveX(-y),!((c=(A=v==null?void 0:v.map)===null||A===void 0?void 0:A.moveRight)===null||c===void 0)&&c.includes(e.key)&&this.moveX(y),!((h=(l=v==null?void 0:v.map)===null||l===void 0?void 0:l.moveUp)===null||h===void 0)&&h.includes(e.key)&&this.moveY(-y),!((d=(u=v==null?void 0:v.map)===null||u===void 0?void 0:u.moveDown)===null||d===void 0)&&d.includes(e.key)&&this.moveY(y),!((f=(p=v==null?void 0:v.map)===null||p===void 0?void 0:p.deselect)===null||f===void 0)&&f.includes(e.key)&&this.deselectAll())}},n.prototype.getParentNode=function(e){for(var t,r=e;r.parent&&((t=r.parent)===null||t===void 0?void 0:t.getType())!=="Layer";)r=r.parent;return r},n.prototype.isBackgroundNode=function(e){return e===this.board.stage||e===this.board.background.overlay.node},n.prototype.getTransformerRect=function(){return{x:this.transformer.x(),y:this.transformer.y(),width:this.transformer.width(),height:this.transformer.height()}},n}();function Ote(n){return ra(this,void 0,void 0,function(){return ia(this,function(e){return[2,new Promise(function(t,r){var i=new FileReader;i.addEventListener("load",function(){t(i.result)}),i.addEventListener("error",function(s){r(s)}),i.readAsDataURL(n)})]})})}function CP(n){return new Promise(function(e,t){Ce.Image.fromURL(n,function(r){r?e(r):t()})})}var Ite=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Re(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"image"},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){qs(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(vr),BP=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Re(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"rect"},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){qs(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(vr),Ute=function(){function n(e){this.board=e;var t=new Ce.Image({image:void 0}),r=new Ce.Rect;this.image=new Ite(e,t,{internal:!0,selectable:!1,history:!1}),this.overlay=new BP(e,r,{internal:!0,selectable:!1,history:!1})}return Object.defineProperty(n.prototype,"nodes",{get:function(){return[this.image.node,this.overlay.node]},enumerable:!1,configurable:!0}),n.prototype.getPosition=function(){return{x:this.image.node.x()||this.overlay.node.x(),y:this.image.node.y()||this.overlay.node.y()}},n.prototype.setImageFromFile=function(e,t){return ra(this,void 0,void 0,function(){var r;return ia(this,function(i){switch(i.label){case 0:return[4,Ote(e)];case 1:return r=i.sent(),this.setImageFromUrl(r,t),[2]}})})},n.prototype.setImageFromUrl=function(e){return ra(this,arguments,void 0,function(t,r){var i,s,o,a,A,c,l;return r===void 0&&(r={size:"resize"}),ia(this,function(h){switch(h.label){case 0:return this.board.history.create(this.board.layer,[this.board.stage,this.image.node,this.overlay.node],this.board.rescale.bind(this)),[4,CP(t)];case 1:return i=h.sent(),s=i.width(),o=i.height(),a={width:this.board.stage.width()/s,height:this.board.stage.height()/o},r.size==="cover"&&(A=Math.max(a.width,a.height),s*=A,o*=A),r.size==="contain"&&(A=Math.min(a.width,a.height),s*=A,o*=A),r.size==="resize"&&this.board.stage.setAttrs({width:s,height:o}),r.size==="stretch"&&(s=this.board.stage.width(),o=this.board.stage.height()),this.image.node.setAttrs({width:s,height:o,image:i.image(),x:(c=r.x)!==null&&c!==void 0?c:i.x(),y:(l=r.y)!==null&&l!==void 0?l:i.y()}),this.overlay.node.setAttrs({width:s,height:o}),[2]}})})},n.prototype.fill=function(e){this.board.history.create(this.board.layer,this.overlay.node),this.overlay.node.setAttrs({width:this.board.stage.width(),height:this.board.stage.height(),fill:e})},n}();(function(){function n(e,t,r){var i,s,o,a,A,c,l;this.activeDrawing=null,this.shapesList=[],this.settings=e,this.history=r,this.events=t;var h=(o=(i=this.settings.width)!==null&&i!==void 0?i:(s=this.settings.container)===null||s===void 0?void 0:s.clientWidth)!==null&&o!==void 0?o:0,u=(c=(a=this.settings.height)!==null&&a!==void 0?a:(A=this.settings.container)===null||A===void 0?void 0:A.clientHeight)!==null&&c!==void 0?c:0;this.stage=new Ce.Stage({width:h,height:u,container:this.settings.container}),this.stage.content&&(this.stage.content.className=this.settings.containerClassName,Object.assign(this.stage.content.style,{position:"relative",top:"50%",left:"50%",transform:"translate(-50%,-50%)"})),fa()&&(this.stage.on("widthChange",this.rescale.bind(this)),this.stage.on("heightChange",this.rescale.bind(this))),this.settings.disableCanvasContextMenu&&((l=this.settings.container)===null||l===void 0||l.addEventListener("contextmenu",function(d){return d.preventDefault()})),this.layer=new Ce.Layer,this.stage.add(this.layer),this.background=new Ute(this),this.selection=new Pte(this),this.groups=new Ete(this),this.container=this.settings.container}return Object.defineProperty(n.prototype,"shapes",{get:function(){return this.shapesList},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"activeShapes",{get:function(){return this.shapesList.filter(function(e){return e.isActive})},enumerable:!1,configurable:!0}),n.prototype.getDimensions=function(){return{width:this.background.image.node.width()||this.background.overlay.node.width()||this.stage.width()||this.settings.width,height:this.background.image.node.height()||this.background.overlay.node.height()||this.stage.height()||this.settings.height}},n.prototype.getNodes=function(){return Me(Me([],Nt(this.background.nodes),!1),Nt(this.shapesList.map(function(e){return e.node})),!1)},n.prototype.addShape=function(e){this.shapesList.some(function(t){return t.node===e.node})||this.shapesList.push(e)},n.prototype.removeShape=function(e){this.shapesList=this.shapesList.filter(function(t){return t.node!==e.node})},n.prototype.setShapes=function(e){this.shapesList=e},n.prototype.rescale=function(){var e=this.getContainerTransform();e&&this.stage.content.style.transform!==e&&(this.stage.content.style.transform=e,this.events.emit("board:rescale",{data:{transform:e}}))},n.prototype.setActiveDrawing=function(e){e&&(this.selection.transformer.hide(),this.draw()),e!==this.activeDrawing&&this.events.emit("board:change-active-drawing",{data:{type:e}}),this.activeDrawing=e},n.prototype.getContainerTransform=function(){if(this.container){var e=this.getDimensions(),t=this.container.clientWidth<this.container.clientHeight?this.stage.width()/e.width:this.stage.height()/e.height;return t*this.stage.width()>this.container.clientWidth&&(t=this.container.clientWidth/this.stage.width()),t*this.stage.height()>this.container.clientHeight&&(t=this.container.clientHeight/this.stage.height()),"translate(-50%, -50%) scale(".concat(t.toFixed(6),")")}},n.prototype.draw=function(){this.layer.batchDraw()},n.prototype.gc=function(){this.shapesList=this.shapesList.filter(function(e){return!e.isDeleted||(e.node.destroy(),!1)})},n})();function kte(n,e){return{x:n.x*Math.cos(e)+-n.y*Math.sin(e),y:n.x*Math.sin(e)- -n.y*Math.cos(e)}}function Dte(n){return Number(n)*Math.PI/180}var xP=function(){function n(e,t){this.board=e,this.options=this.createOptions(t),this.layer=new Ce.Layer;var r=new Ce.Rect({fill:this.options.overlay.color,opacity:this.options.overlay.opacity,width:this.board.stage.width(),height:this.board.stage.height()});this.overlay=this.createOverlay(),this.cropzone=this.createCropzone(),this.layer.add(r,this.overlay,this.cropzone)}return n.prototype.getCursorEvents=function(){return fa()?[{name:"mouseout",cursor:"default"},{name:"mouseover",cursor:"grab"},{name:"dragmove",cursor:"grabbing"},{name:"dragend",cursor:"default"}]:[]},n.prototype.createCropzone=function(){var e,t,r,i,s,o,a,A=this,c=new Ce.Group({x:this.options.x,y:this.options.y}),l={x:0,y:0,fill:"transparent",dash:this.options.transformer.borderDash};return this.options.circular?c.add(new Ce.Circle(oe(oe({},l),{radius:this.options.radius,stroke:(t=(e=this.options.circle)===null||e===void 0?void 0:e.borderStroke)!==null&&t!==void 0?t:this.options.transformer.borderStroke,strokeWidth:(i=(r=this.options.circle)===null||r===void 0?void 0:r.borderStrokeWidth)!==null&&i!==void 0?i:this.options.transformer.borderStrokeWidth,dash:(o=(s=this.options.circle)===null||s===void 0?void 0:s.borderDash)!==null&&o!==void 0?o:this.options.transformer.borderDash}))):c.add(new Ce.Rect(oe(oe({},l),{width:this.options.width,height:this.options.height,stroke:this.options.fixed?this.options.transformer.borderStroke:void 0,strokeWidth:this.options.fixed?this.options.transformer.borderStrokeWidth:void 0}))),!((a=this.options.guides)===null||a===void 0)&&a.show&&c.add.apply(c,Me([],Nt(this.createGuideLines()),!1)),this.getCursorEvents().forEach(function(h){var u=h.name,d=h.cursor;c.on(u,function(){A.board.stage.container().style.cursor=d})}),c},n.prototype.createGuideLines=function(){var e,t,r=this.options.guides,i={stroke:r.color,strokeWidth:r.width,dash:r.dash};if(this.options.circular)return[new Ce.Line(oe({points:[-this.options.radius,0,this.options.radius,0]},i)),new Ce.Line(oe({points:[0,-this.options.radius,0,this.options.radius]},i))];var s=this.options,o=s.width,a=s.height,A=r.count||((t=(e=yP.cropper)===null||e===void 0?void 0:e.guides)===null||t===void 0?void 0:t.count);return Array.from({length:A}).flatMap(function(c,l){var h=o/(A+1),u=h+l*h,d=a/(A+1),p=d+l*d;return[new Ce.Line(oe({points:[u,0,u,a]},i)),new Ce.Line(oe({points:[0,p,o,p]},i))]})},n.prototype.createOverlay=function(){return new Ce.Rect({x:0,y:0,width:this.board.stage.width(),height:this.board.stage.height()})},n.prototype.createOptions=function(e){var t,r=oe(oe(oe({},this.board.settings.cropper),{transformer:oe(oe(oe({},this.board.settings.transformer),(t=this.board.settings.cropper)===null||t===void 0?void 0:t.transformer),e.transformer)}),e);return e.circular?oe(oe({circular:!0},r),this.getCircularCropperOptions(r)):oe(oe({circular:!1},r),this.getRectangularCropperOptions(r))},n.prototype.getCircularCropperOptions=function(e){var t,r,i,s,o=(t=e.transformer)===null||t===void 0?void 0:t.borderStrokeWidth,a=(Math.min(this.board.stage.width(),this.board.stage.height())-2*o)/2,A=(r=e.x)!==null&&r!==void 0?r:-1,c=(i=e.y)!==null&&i!==void 0?i:-1;return{radius:(s=e.radius)!==null&&s!==void 0?s:a/e.marginRatio,x:A>=Math.max(A,o)?A:this.board.stage.width()/2,y:c>=Math.max(c,o)?c:this.board.stage.height()/2}},n.prototype.getRectangularCropperOptions=function(e){var t,r,i,s,o=(t=e.transformer)===null||t===void 0?void 0:t.borderStrokeWidth,a=e.fixed?2*o:2*((r=e.transformer)===null||r===void 0?void 0:r.anchorSize),A=e.aspectRatio||this.board.stage.width()/this.board.stage.height(),c=e.width||(this.board.stage.width()-a)/e.marginRatio,l=e.height||c/A;l>this.board.stage.height()-a&&(c=(l=this.board.stage.height()-a)*A);var h=(i=e.x)!==null&&i!==void 0?i:-1,u=(s=e.y)!==null&&s!==void 0?s:-1;return{aspectRatio:A,width:c,height:l,x:h>=0?Math.max(h,o):(this.board.stage.width()-c)/2,y:u>=0?Math.max(u,o):(this.board.stage.height()-l)/2}},n}(),_P=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.draggable=i.createDraggableOverlay(),i.layer.add(i.draggable),i.setupCropzone(),i.board.stage.add(i.layer),i}return Re(e,n),e.prototype.zoom=function(t){this.board.layer.scale({x:t,y:t});var r=this.board.layer.width()*t,i=this.board.layer.height()*t,s=[this.draggable.width()/2,this.draggable.height()/2],o=[r/2,i/2];this.draggable.width(r),this.draggable.height(i);var a=this.getDraggableOverlayBoundRect({x:this.draggable.x()+s[0]-o[0],y:this.draggable.y()+s[1]-o[1]}),A=a.x,c=a.y;this.draggable.x(A),this.draggable.y(c),this.board.layer.x(this.draggable.x()),this.board.layer.y(this.draggable.y()),this.board.draw()},e.prototype.setDraggableOverlayPosition=function(t){var r=t.x,i=t.y,s=this.getDraggableOverlayBoundRect({x:r,y:i}),o=s.x,a=s.y;this.draggable.x(o),this.board.layer.x(o),this.draggable.y(a),this.board.layer.y(a),this.board.draw()},e.prototype.setupCropzone=function(){this.cropzone.draggable(!1)},e.prototype.getDraggableOverlayBoundRect=function(t){var r=this.draggable,i=this.options.circular?2*this.options.radius:this.options.width,s=this.options.circular?2*this.options.radius:this.options.height,o=this.options.circular?this.options.x-this.options.radius:this.options.x,a=this.options.circular?this.options.y-this.options.radius:this.options.y,A=o+i-r.width(),c=a+s-r.height(),l=t.x,h=t.y;return l>=o?l=o:l<=A&&(l=A),h>=a?h=a:h<=c&&(h=c),{x:l,y:h}},e.prototype.createDraggableOverlay=function(){var t=this,r=new Ce.Rect({x:0,y:0,width:this.board.stage.width(),height:this.board.stage.height(),fill:"transparent",opacity:0,draggable:!0,dragBoundFunc:function(i){var s=t.getDraggableOverlayBoundRect(i),o=s.x,a=s.y;return t.board.layer.x(o),t.board.layer.y(a),t.board.draw(),{x:o,y:a}}});return this.getCursorEvents().forEach(function(i){var s=i.name,o=i.cursor;r.on(s,function(){t.board.stage.container().style.cursor=o})}),r},e}(xP),Qte=function(n){function e(t,r){var i=n.call(this,t,oe(oe({},r),{keepRatio:!0}))||this;return i.setupOverlay(),i}return Re(e,n),e.prototype.getRect=function(){var t=this.options,r=this.draggable.width()/this.layer.width(),i=this.draggable.height()/this.layer.height();return{x:(t.x-t.radius-this.draggable.x())/r,y:(t.y-t.radius-this.draggable.y())/i,width:2*t.radius/r,height:2*t.radius/i}},e.prototype.setupOverlay=function(){var t=this.options;this.overlay.sceneFunc(function(r,i){r.beginPath(),r.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),r.clip(),r.clearRect(t.x-t.radius,t.y-t.radius,2*t.radius,2*t.radius),r.closePath(),r.fillStrokeShape(i)})},e}(_P),Mte=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.setupOverlay(),i}return Re(e,n),e.prototype.getRect=function(){var t=this.options,r=this.draggable.width()/this.layer.width(),i=this.draggable.height()/this.layer.height();return{x:(t.x-this.draggable.x())/r,y:(t.y-this.draggable.y())/i,width:t.width/r,height:t.height/i}},e.prototype.setupOverlay=function(){var t=this.options;this.overlay.sceneFunc(function(r,i){r.beginPath(),r.clearRect(t.x,t.y,t.width,t.height),r.closePath(),r.fillStrokeShape(i)})},e}(_P),SP=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.transformer=i.createTransformer(),i.layer.add(i.transformer),i.setupCropzone(),i.board.stage.add(i.layer),i}return Re(e,n),e.prototype.setPosition=function(t){var r=t===void 0?{x:this.options.x,y:this.options.y}:t,i=r.x,s=r.y,o=this.getCropzoneBoundRect({x:i,y:s}),a=o.x,A=o.y;this.cropzone.x(a),this.cropzone.y(A),this.layer.batchDraw()},e.prototype.getRect=function(){return{x:this.transformer.x(),y:this.transformer.y(),width:this.transformer.width(),height:this.transformer.height()}},e.prototype.setupCropzone=function(){var t=this;this.cropzone.draggable(!0),this.cropzone.dragBoundFunc(function(r){return t.getCropzoneBoundRect(r)})},e.prototype.getCropzoneBoundRect=function(t){var r=this.options.transformer.borderStrokeWidth,i=(this.options.circular?this.transformer.width()/2:0)+r,s=(this.options.circular?this.transformer.height()/2:0)+r,o=(this.options.circular?this.board.stage.width()-this.transformer.width()/2:this.board.stage.width()-this.transformer.width())-r,a=(this.options.circular?this.board.stage.height()-this.transformer.height()/2:this.board.stage.height()-this.transformer.height())-r;return{x:t.x<=i?Math.max(t.x,i):Math.min(t.x,o),y:t.y<=s?Math.max(t.y,s):Math.min(t.y,a)}},e.prototype.createTransformer=function(){var t=this;return new Ce.Transformer(oe(oe({nodes:[this.cropzone],keepRatio:this.options.keepRatio,rotateEnabled:!1},this.options.transformer),{enabledAnchors:Me(["top-left","top-right","bottom-left","bottom-right"],Nt(this.options.keepRatio?[]:["top-center","bottom-center"]),!1),boundBoxFunc:function(r,i){return Math.ceil(i.x)<-1||Math.ceil(i.y)<-1||i.width<t.options.minWidth||i.height<t.options.minHeight||i.width>=t.board.stage.width()||i.height>=t.board.stage.height()||i.x+i.width>=t.board.stage.width()||i.y+i.height>=t.board.stage.height()?r:i}}))},e}(xP),Lte=function(n){function e(t,r){var i=n.call(this,t,oe(oe({},r),{circular:!0,keepRatio:!0}))||this;return i.setupOverlay(),i}return Re(e,n),e.prototype.setupOverlay=function(){var t=this;this.overlay.sceneFunc(function(r,i){r.beginPath();var s=t.transformer.width()/2;r.arc(t.cropzone.x(),t.cropzone.y(),s,0,2*Math.PI,!1),r.clip(),r.clearRect(t.cropzone.x()-s,t.cropzone.y()-s,2*s,2*s),r.closePath(),r.fillStrokeShape(i)})},e}(SP),Nte=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.setupOverlay(),i}return Re(e,n),e.prototype.setupOverlay=function(){var t=this;this.overlay.sceneFunc(function(r,i){r.beginPath(),r.clearRect(t.cropzone.x(),t.cropzone.y(),t.transformer.width(),t.transformer.height()),r.closePath(),r.fillStrokeShape(i)})},e}(SP);(function(){function n(e){this.board=e}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this.active},enumerable:!1,configurable:!0}),n.prototype.getInstance=function(){return this.instance},n.prototype.start=function(e){if(!this.active){var t=Bte(yP.cropper,e);this.active=!0,this.board.selection.deselectAll();var r=t.circular,i=t.fixed&&this.board.stage.rotation()===0;!i&&r&&(this.instance=new Lte(this.board,oe(oe({},t),{fixed:!1,circular:!0}))),i||r||(this.instance=new Nte(this.board,oe(oe({},t),{fixed:!1,circular:!1}))),i&&r&&(this.instance=new Qte(this.board,oe(oe({},t),{fixed:!0,circular:!0}))),i&&!r&&(this.instance=new Mte(this.board,oe(oe({},t),{fixed:!0,circular:!1})))}},n.prototype.stop=function(){this.active&&(this.active=!1,this.instance.layer.remove(),this.board.layer.setAttrs({x:0,y:0,scale:{x:1,y:1}}),fa()&&(this.board.stage.container().style.cursor="default"))},n.prototype.zoom=function(e){if(!this.instance.options.fixed)return!1;this.instance.zoom(e)},n.prototype.setPosition=function(e){this.instance.options.fixed?this.instance.setDraggableOverlayPosition(e):this.instance.setPosition(e)},n.prototype.getRect=function(){return this.isActive?this.instance.getRect():null},n.prototype.crop=function(){return ra(this,arguments,void 0,function(e){var t,r,i,s,o;return e===void 0&&(e={}),ia(this,function(a){switch(a.label){case 0:return(t=e.rect||this.getRect())?(this.board.history.create(this.board.stage,Me([this.board.stage],Nt(this.board.layer.children||[]),!1)),r=this.board.selection.isVisible,this.stop(),i=this.board.stage,s=Math.min(i.width()/t.width,i.height()/t.height),i.setAttrs({scale:{x:s*i.scaleX(),y:s*i.scaleY()},width:t.width*s,height:t.height*s,x:-t.x*s+i.x()*s,y:-t.y*s+i.y()*s,rotation:i.rotation()}),this.board.background.overlay.hide(),r&&this.board.selection.transformer.hide(),this.board.activeShapes.forEach(function(A){A.hasGroup()||A.node.hide()}),[4,CP(this.board.stage.toDataURL({pixelRatio:1}))]):[2,null];case 1:return o=a.sent(),this.board.background.nodes.forEach(function(A){A.setAttrs({width:o.width(),height:o.height(),rotation:0,x:0,y:0,scale:{x:1,y:1}})}),this.board.background.image.node.setAttrs({image:o.image()}),this.board.shapes.forEach(function(A){if(!A.isDeleted&&!A.hasGroup()){var c=A.node,l=kte({x:c.x(),y:c.y()},Dte(i.rotation()));c.setAttrs({rotation:c.rotation(),x:l.x*i.scaleX()+i.x(),y:l.y*i.scaleY()+i.y(),scaleX:c.scaleX()*i.scaleX(),scaleY:c.scaleY()*i.scaleY()}).show()}}),this.board.background.overlay.show(),r&&this.board.selection.transformer.show(),i.setAttrs({rotation:0,scaleX:1,scaleY:1,x:0,y:0}),i.batchDraw(),this.board.events.emit("crop",{data:{options:e,rect:t}}),[2,t]}})})},n})();(function(){function n(e){this.lines=[],this.offset=5,this.options={},this.active=!1;var t=e.settings.snapToGrid;this.board=e,this.options=t,this.active=t!==null,this.active&&this.registerEvents()}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this.active},enumerable:!1,configurable:!0}),n.prototype.setOptions=function(e){this.options=e},n.prototype.setOffset=function(e){this.offset=e},n.prototype.enable=function(){this.active||(this.active=!0,this.registerEvents())},n.prototype.disable=function(){this.active!==!1&&(this.active=!1,this.unregisterEvents())},n.prototype.getLineStops=function(e){var t={vertical:[0,this.board.stage.width()/2,this.board.stage.width()],horizontal:[0,this.board.stage.height()/2,this.board.stage.height()]};return this.board.activeShapes.forEach(function(r){if(r.node!==e&&!r.hasGroup()){var i=r.node.getClientRect();t={vertical:Me(Me([],Nt(t.vertical),!1),[i.x,i.x+i.width,i.x+i.width/2],!1),horizontal:Me(Me([],Nt(t.horizontal),!1),[i.y,i.y+i.height,i.y+i.height/2],!1)}}}),t},n.prototype.getNodeEdgeBounds=function(e){var t=e.getClientRect(),r=e.absolutePosition();return[{guide:Math.round(t.x),offset:Math.round(r.x-t.x),snap:"start",orientation:"vertical"},{guide:Math.round(t.x+t.width/2),offset:Math.round(r.x-t.x-t.width/2),snap:"center",orientation:"vertical"},{guide:Math.round(t.x+t.width),offset:Math.round(r.x-t.x-t.width),snap:"end",orientation:"vertical"},{guide:Math.round(t.y),offset:Math.round(r.y-t.y),snap:"start",orientation:"horizontal"},{guide:Math.round(t.y+t.height/2),offset:Math.round(r.y-t.y-t.height/2),snap:"center",orientation:"horizontal"},{guide:Math.round(t.y+t.height),offset:Math.round(r.y-t.y-t.height),snap:"end",orientation:"horizontal"}]},n.prototype.getGuideLines=function(e,t){var r=this,i=[];t.forEach(function(o){Object.entries(e).forEach(function(a){var A=Nt(a,2),c=A[0],l=A[1];c===o.orientation&&l.forEach(function(h){var u=Math.abs(h-o.guide);u>=r.offset||i.push({diff:u,stop:h,snap:o.snap,offset:o.offset,orientation:o.orientation})})})});var s=function(o){return i.filter(function(a){return a.orientation===o}).sort(function(a,A){return a.diff-A.diff})[0]};return[s("vertical"),s("horizontal")].filter(function(o){return!!o})},n.prototype.draw=function(e){var t=this;e.length&&e.forEach(function(r){var i=oe({stroke:"#000",strokeWidth:1,dash:[2,6]},t.options);r.orientation==="vertical"?i.points=[0,0,0,t.board.stage.height()]:r.orientation==="horizontal"&&(i.points=[0,0,t.board.stage.width(),0]);var s=new Ce.Line(i);r.orientation==="vertical"?s.absolutePosition({x:r.stop,y:0}):r.orientation==="horizontal"&&s.absolutePosition({x:0,y:r.stop}),t.board.layer.add(s),t.lines.push(s)})},n.prototype.setNodePosition=function(e,t){t.forEach(function(r){var i=r.orientation,s=r.stop,o=r.offset,a=e.absolutePosition();i==="vertical"?a.x=s+o:i==="horizontal"&&(a.y=s+o),e.absolutePosition(a)})},n.prototype.onDragMove=function(e){var t=e.target;if(this.board.activeShapes.find(function(i){return i.node===t})){this.destroy();var r=this.getGuideLines(this.getLineStops(t),this.getNodeEdgeBounds(t));this.draw(r),this.setNodePosition(t,r)}},n.prototype.onDragEnd=function(){this.destroy()},n.prototype.destroy=function(){this.lines.length>0&&(this.lines.forEach(function(e){return e.destroy()}),this.lines=[])},n.prototype.registerEvents=function(){this.board.layer.on("dragmove",this.onDragMove.bind(this)),this.board.layer.on("dragend",this.onDragEnd.bind(this))},n.prototype.unregisterEvents=function(){this.board.layer.removeEventListener("dragmove"),this.board.layer.removeEventListener("dragend")},n})();function zg(n,e){return Math.sqrt(Math.pow(Math.abs(n.x-e.x),2)+Math.pow(Math.abs(n.y-e.y),2))}var ui=function(){function n(e,t,r){this.board=e,this.drawType=t,this.board.settings.measurement&&(r==null?void 0:r.measurement)!==!1&&(this.dimensionsTag=new wP(this.board)),this.onStartDrawing=this.onStartDrawing.bind(this),this.onFinishDrawing=this.onFinishDrawing.bind(this),this.onDrawing=this.onDrawing.bind(this),this.onKeyDown=this.onKeyDown.bind(this)}return Object.defineProperty(n.prototype,"isDrawing",{get:function(){return this.board.activeDrawing===this.drawType},enumerable:!1,configurable:!0}),n.prototype.insert=function(e){return this.stopDrawing(),this.createShape(e)},n.prototype.draw=function(e){Vl()||(this.config=e,this.stopDrawing(),this.board.setActiveDrawing(this.drawType),this.board.stage.on("mousedown touchstart",this.onStartDrawing),this.board.stage.on("mousemove touchmove",this.onDrawing),this.board.stage.on("mouseup touchend",this.onFinishDrawing),fa()&&(window.addEventListener("mouseup",this.onFinishDrawing),window.addEventListener("touchend",this.onFinishDrawing),window.addEventListener("keydown",this.onKeyDown)))},n.prototype.stopDrawing=function(){var e;Vl()||(this.node=null,this.board.setActiveDrawing(null),this.board.stage.container().style.cursor="inherit",(e=this.dimensionsTag)===null||e===void 0||e.hide(),this.board.stage.off("mousedown touchstart",this.onStartDrawing),this.board.stage.off("mousemove touchmove",this.onDrawing),this.board.stage.off("mouseup touchend",this.onFinishDrawing),window.removeEventListener("mouseup",this.onFinishDrawing),window.removeEventListener("touchend",this.onFinishDrawing),window.removeEventListener("keydown",this.onKeyDown))},n.prototype.getShapePosition=function(){return{x:this.node.x(),y:this.node.y()}},n.prototype.onStartDrawing=function(){var e=this.board.stage.getPointerPosition(),t=e.x,r=e.y;this.startPoint={x:t,y:r}},n.prototype.onDrawing=function(e){Vl()||this.isDrawing&&(this.board.stage.container().style.cursor="crosshair",this.node&&this.dimensionsTag&&this.dimensionsTag.measure(this.node,this.node.getClientRect()))},n.prototype.onFinishDrawing=function(){var e,t=this;Vl()||(this.board.stage.container().style.cursor="inherit",this.node&&(!((e=this.board.settings.drawing)===null||e===void 0)&&e.autoSelect)&&this.board.selection.find(function(r){return r.node===t.node}),this.stopDrawing())},n.prototype.onKeyDown=function(e){var t,r;e.key==="Escape"&&!((r=(t=this.board.settings.drawing)===null||t===void 0?void 0:t.keyboard)===null||r===void 0)&&r.cancelOnEscape&&this.stopDrawing()},n}(),Rte=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Re(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"svg"},enumerable:!1,configurable:!0}),e.prototype.width=function(){return this.node.getClientRect().width},e.prototype.height=function(){return this.node.getClientRect().height},e.prototype.rotate=function(t){qs(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(vr);(function(n){function e(t){return n.call(this,t,rt.Svg)||this}return Re(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new Ce.Path(t),new Rte(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&(this.createShape(oe({x:this.startPoint.x,y:this.startPoint.y,scaleX:.001,scaleY:.001},this.config)),this.initialDimensions=this.node.getClientRect())},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.initialDimensions,i=this.board.stage.getPointerPosition(),s=zg(i,this.getShapePosition());s&&this.node.setAttrs({x:i.x,scaleX:s/r.width*.001,scaleY:s/r.height*.001})}},e.prototype.onFinishDrawing=function(){n.prototype.onFinishDrawing.call(this),this.initialDimensions=void 0},e})(ui);var Hte=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Re(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"text"},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){qs(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(vr);(function(n){function e(t){return n.call(this,t,rt.Text)||this}return Re(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new Ce.Text(t),new Hte(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(oe({x:this.startPoint.x,y:this.startPoint.y},this.config))},e.prototype.onDrawing=function(t){n.prototype.onDrawing.call(this,t)},e})(ui);var EP=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Re(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"line"},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){qs(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(vr);(function(n){function e(t){return n.call(this,t,rt.Line)||this}return Re(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new Ce.Line(oe({hitStrokeWidth:15},t)),new EP(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(oe({globalCompositeOperation:"source-over",points:[this.startPoint.x,this.startPoint.y]},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition();this.node.points(Me(Me([],Nt(this.node.points().slice(0,2)),!1),[r.x,r.y],!1))}},e})(ui);(function(n){function e(t){return n.call(this,t,rt.Rect)||this}return Re(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new Ce.Rect(t),new BP(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(oe({x:this.startPoint.x,y:this.startPoint.y},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition(),i=Math.abs(r.x-this.startPoint.x),s=Math.abs(r.y-this.startPoint.y);this.node.setAttrs({x:Math.min(this.startPoint.x,r.x),y:Math.min(this.startPoint.y,r.y),width:i,height:t.evt.shiftKey?i:s})}},e})(ui);var $te=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Re(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"arrow"},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){qs(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(vr);(function(n){function e(t){return n.call(this,t,rt.Arrow)||this}return Re(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new Ce.Arrow(t),new $te(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(oe({globalCompositeOperation:"source-over",points:[this.startPoint.x,this.startPoint.y]},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition();this.node.points(Me(Me([],Nt(this.node.points().slice(0,2)),!1),[r.x,r.y],!1))}},e})(ui);(function(n){function e(t){return n.call(this,t,rt.Pencil,{measurement:!1})||this}return Re(e,n),e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new Ce.Line(t),new EP(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(oe({globalCompositeOperation:"source-over",points:[this.startPoint.x,this.startPoint.y]},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition();this.node.points(this.node.points().concat([r.x,r.y]))}},e.prototype.onFinishDrawing=function(){n.prototype.onFinishDrawing.call(this),this.draw(this.config)},e})(ui);var jte=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Re(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"circle"},enumerable:!1,configurable:!0}),e}(vr);(function(n){function e(t){return n.call(this,t,rt.Circle)||this}return Re(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new Ce.Circle(t),new jte(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(oe({x:this.startPoint.x,y:this.startPoint.y,radius:0},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition();this.node.setAttrs({radius:zg(r,this.getShapePosition())})}},e})(ui);var Kte=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Re(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"ellipse"},enumerable:!1,configurable:!0}),e}(vr);(function(n){function e(t){return n.call(this,t,rt.Ellipse)||this}return Re(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new Ce.Ellipse(t),new Kte(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(oe({x:this.startPoint.x,y:this.startPoint.y,radiusX:0,radiusY:0},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition(),i=Math.abs(r.x-this.node.x()),s=Math.abs(r.y-this.node.y());this.node.setAttrs({radiusX:i,radiusY:t.evt.shiftKey?i:s})}},e})(ui);var Gte=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Re(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"polygon"},enumerable:!1,configurable:!0}),e}(vr);(function(n){function e(t){return n.call(this,t,rt.Polygon)||this}return Re(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new Ce.RegularPolygon(t),new Gte(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(oe({x:this.startPoint.x,y:this.startPoint.y,radius:0,sides:4},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition();this.node.setAttrs({radius:zg(r,this.getShapePosition())})}},e})(ui);var Vte=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Re(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"triangle"},enumerable:!1,configurable:!0}),e}(vr);(function(n){function e(t){return n.call(this,t,rt.Triangle)||this}return Re(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,oe(oe({},t),{sides:3}))},e.prototype.createShape=function(t){return this.node=new Ce.RegularPolygon(oe({radius:10,sides:3},t)),new Vte(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(oe({x:this.startPoint.x,y:this.startPoint.y,radius:0},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition();this.node.setAttrs({radius:zg(r,this.getShapePosition())})}},e})(ui);let FP;const TP=()=>FP,Di=n=>{FP=n};document.body.addEventListener("touchend",n=>{if(!TP())return;const r=document.elementsFromPoint(n.changedTouches[0].clientX,n.changedTouches[0].clientY)[1];if(r&&r.className=="pikaso"){const i=n.constructor,s=new i(n.type,n);r.dispatchEvent(s)}});const zte=({pikasoRef:n,pikasoEditor:e,currentMap:t,penColor:r,canvasTool:i,setTool:s,penWidth:o,lineWidth:a,fontSize:A,panelcollaps:c,load:l})=>{let h;const u=(v=0)=>{clearTimeout(h),h=setTimeout(()=>{requestAnimationFrame(()=>{if(!e)return;const m=1e3;e==null||e.board.stage.setSize({width:m,height:m}),e==null||e.board.rescale()})},v)};H.useLayoutEffect(()=>{switch(i){case rt.Arrow:e==null||e.shapes.arrow.draw({stroke:r,strokeWidth:a});break;case rt.Line:e==null||e.shapes.line.draw({stroke:r,strokeWidth:a});break;case rt.Pencil:e==null||e.shapes.pencil.draw({stroke:r,strokeWidth:o});break;case"SELECT":e==null||e.shapes.pencil.stopDrawing();break;case"TEXT":e==null||e.shapes.pencil.stopDrawing();break}},[t,r,i,s,o,a,A,e==null?void 0:e.board.background,e==null?void 0:e.board.stage,e==null?void 0:e.shapes.line,e==null?void 0:e.shapes.pencil,e==null?void 0:e.shapes.arrow]),H.useLayoutEffect(()=>(u(),window.addEventListener("resize",()=>u()),()=>{window.removeEventListener("resize",()=>u())}),[t,e==null?void 0:e.board.background]),H.useLayoutEffect(()=>{u(100)},[c]);const d=v=>{var m;switch(i){case rt.Line:e==null||e.shapes.line.stopDrawing(),e==null||e.shapes.line.draw({stroke:r,strokeWidth:a});break;case rt.Arrow:e==null||e.shapes.arrow.stopDrawing(),e==null||e.shapes.arrow.draw({stroke:r,strokeWidth:a});break;case rt.Pencil:e==null||e.shapes.pencil.stopDrawing(),e==null||e.shapes.pencil.draw({stroke:r,strokeWidth:o});break;case"SELECT":e==null||e.shapes.pencil.stopDrawing();break;case"TEXT":e==null||e.shapes.pencil.stopDrawing();const y=(m=v.target)==null?void 0:m.getBoundingClientRect(),w=e==null?void 0:e.board.stage.getSize(),C={x:w.width/y.width,y:w.height/y.height},S={x:v.clientX-y.left,y:v.clientY-y.top},x={x:S.x*C.x,y:S.y*C.y},E=e==null?void 0:e.shapes.label.insert({container:{x:x.x,y:x.y},text:{text:"Type here",fill:r,fontSize:A*16}});E==null||E.select(),s("SELECT");break}},p=v=>{var w;const m=TP(),y=(m==null?void 0:m.type)=="imageLink"?m.value:null;if(y){const C=new Image;C.src=y,C.onload=()=>{var D;const x=C.width/C.height,E=v.clientX?v:v.changedTouches[0],T=(D=v.target)==null?void 0:D.getBoundingClientRect(),P=e==null?void 0:e.board.stage.getSize(),F={x:P.width/T.width,y:P.height/T.height},U={x:E.clientX-T.left,y:E.clientY-T.top},I={x:U.x*F.x,y:U.y*F.y};e==null||e.shapes.image.insert(y,{x:I.x-35/2,y:I.y-35/2,width:35*x,height:35})}}else if(v.dataTransfer&&((w=v.dataTransfer.files[0])==null?void 0:w.type)=="application/json"){let C=new FileReader;C.onload=function(S){const x=JSON.parse(S.target.result);l(x)},C.readAsText(v.dataTransfer.files[0]),v.preventDefault()}Di(null)},f=v=>{v.preventDefault()};return _.jsx("div",{ref:n,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},className:"drawCanvas",onDrop:p,onTouchEnd:p,onDragOver:f,onClick:d})},Wte=({pikasoRef:n,pikasoEditor:e,currentMap:t,style:r,panelcollaps:i})=>{let s;const o=(a=0)=>{clearTimeout(s),s=setTimeout(()=>{requestAnimationFrame(()=>{if(!e)return;const A=1e3;e==null||e.board.stage.setSize({width:A,height:A}),e==null||e.board.rescale();const c=new Image;c.src=t,c.onload=()=>{const l=c.height/e.board.stage.height();e==null||e.board.background.setImageFromUrl(t,{size:"contain",x:e.board.stage.width()/2-c.width/2/l})}})},a)};return H.useLayoutEffect(()=>(o(),window.addEventListener("resize",()=>o()),()=>{window.removeEventListener("resize",()=>o())}),[t,e==null?void 0:e.board.background]),H.useLayoutEffect(()=>{o(100)},[i]),_.jsx("div",{ref:n,style:{...r,width:"100%",height:"100%"},className:"drawMap"})};function Xte(n){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488.6 104.1C505.3 122.2 513 143.8 511.9 169.8V372.2C511.5 398.6 502.7 420.3 485.4 437.3C468.2 454.3 446.3 463.2 419.9 464H92.02C65.57 463.2 43.81 454.2 26.74 436.8C9.682 419.4 .7667 396.5 0 368.2V169.8C.7667 143.8 9.682 122.2 26.74 104.1C43.81 87.75 65.57 78.77 92.02 78H121.4L96.05 52.19C90.3 46.46 87.42 39.19 87.42 30.4C87.42 21.6 90.3 14.34 96.05 8.603C101.8 2.868 109.1 0 117.9 0C126.7 0 134 2.868 139.8 8.603L213.1 78H301.1L375.6 8.603C381.7 2.868 389.2 0 398 0C406.8 0 414.1 2.868 419.9 8.603C425.6 14.34 428.5 21.6 428.5 30.4C428.5 39.19 425.6 46.46 419.9 52.19L394.6 78L423.9 78C450.3 78.77 471.9 87.75 488.6 104.1H488.6zM449.8 173.8C449.4 164.2 446.1 156.4 439.1 150.3C433.9 144.2 425.1 140.9 416.4 140.5H96.05C86.46 140.9 78.6 144.2 72.47 150.3C66.33 156.4 63.07 164.2 62.69 173.8V368.2C62.69 377.4 65.95 385.2 72.47 391.7C78.99 398.2 86.85 401.5 96.05 401.5H416.4C425.6 401.5 433.4 398.2 439.7 391.7C446 385.2 449.4 377.4 449.8 368.2L449.8 173.8zM185.5 216.5C191.8 222.8 195.2 230.6 195.6 239.7V273C195.2 282.2 191.9 289.9 185.8 296.2C179.6 302.5 171.8 305.7 162.2 305.7C152.6 305.7 144.7 302.5 138.6 296.2C132.5 289.9 129.2 282.2 128.8 273V239.7C129.2 230.6 132.6 222.8 138.9 216.5C145.2 210.2 152.1 206.9 162.2 206.5C171.4 206.9 179.2 210.2 185.5 216.5H185.5zM377 216.5C383.3 222.8 386.7 230.6 387.1 239.7V273C386.7 282.2 383.4 289.9 377.3 296.2C371.2 302.5 363.3 305.7 353.7 305.7C344.1 305.7 336.3 302.5 330.1 296.2C323.1 289.9 320.7 282.2 320.4 273V239.7C320.7 230.6 324.1 222.8 330.4 216.5C336.7 210.2 344.5 206.9 353.7 206.5C362.9 206.9 370.7 210.2 377 216.5H377z"},child:[]}]})(n)}function Yte(n){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(n)}function Jte(n){return _e({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"},child:[]}]})(n)}const Zte=[{job:["sponser","code"],name:"爱走位的KN",icon:"https://avatars.githubusercontent.com/u/83012768?v=4",github:"https://github.com/ShrLeeKNsword/",bili:"https://space.bilibili.com/403314450",X:"",twich:""},{job:["code","translation"],name:"MiekoHikari",icon:"https://avatars.githubusercontent.com/u/77004524?v=4",github:"https://github.com/MiekoHikari/",bili:"",X:"https://x.com/MiekoHikariEN",twich:"https://www.twitch.tv/miekohikari"},{job:["translation"],name:"サルミナ(salutemenow)",icon:"https://s2.loli.net/2024/09/28/58XqieRV36aOCUx.webp",github:"",bili:"",X:"https://x.com/salutemenowjp",twich:"https://www.twitch.tv/salute_me_now_"},{job:["translation"],name:"restart0x",icon:"https://s2.loli.net/2024/11/08/HgB9Dqo6CPsL7Ql.jpg",github:"",bili:"https://space.bilibili.com/497387234",X:"",twich:""},{job:["code"],name:"Sheppsu",icon:"https://avatars.githubusercontent.com/u/49356627?v=4",github:"https://github.com/Sheppsu",bili:"",X:"",twich:""},{job:["code"],name:"Jsynk",icon:"https://avatars.githubusercontent.com/u/14832958?v=4",github:"https://github.com/Jsynk",bili:"",X:"",twich:""}],qte=n=>_.jsxs("div",{style:{maxHeight:"800px",width:"400px",paddingTop:"5px",paddingBottom:"5px"},children:[_.jsx("div",{className:"none-scrollbar",style:{height:"100%",width:"100%",overflowY:"scroll"},children:Zte.map(e=>_.jsx("div",{style:{height:"60px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",color:"rgba(var(--semi-grey-9), 1)"},children:_.jsxs(hi,{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[_.jsx(Dn,{span:1}),_.jsx(Dn,{span:4,children:_.jsx("img",{src:e.icon,style:{height:"50px",borderRadius:"50%",marginRight:"10px"}})}),_.jsxs(Dn,{span:10,style:{textAlign:"left",fontSize:"15px",fontWeight:"bold"},children:[_.jsx("div",{style:{width:"100%",marginBottom:"3px",marginTop:"3px"},children:e.name}),e.job.map(t=>_.jsx(jr,{size:"small",color:"light-blue",style:{marginRight:"5px",marginBottom:"2px",marginTop:"2px"},children:t}))]}),_.jsxs(Dn,{span:7,style:{textAlign:"right",display:"flex",alignItems:"right",justifyContent:"right"},children:[e.github!=""?_.jsx("a",{href:e.github,target:"_blank",style:{margin:"5px"},children:_.jsx(Eh,{})}):_.jsx("div",{style:{width:"25px",height:"100%",textAlign:"center",marginTop:"2px"},children:"/"}),e.bili!=""?_.jsx("a",{href:e.bili,target:"_blank",style:{margin:"5px"},children:_.jsx(Xte,{})}):_.jsx("div",{style:{width:"25px",height:"100%",textAlign:"center",marginTop:"2px"},children:"/"}),e.X!=""?_.jsx("a",{href:e.X,target:"_blank",style:{margin:"5px"},children:_.jsx(Yte,{})}):_.jsx("div",{style:{width:"25px",height:"100%",textAlign:"center",marginTop:"2px"},children:"/"}),e.twich!=""?_.jsx("a",{href:e.twich,target:"_blank",style:{margin:"5px"},children:_.jsx(dZ,{})}):_.jsx("div",{style:{width:"25px",height:"100%",textAlign:"center",marginTop:"2px"},children:"/"})]}),_.jsx(Dn,{span:2,style:{}})]})},e.name))}),n.learnmore!=""||n.learnmore!=null?_.jsx("div",{style:{fontSize:"15px",fontWeight:"bold",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",height:"30px",margin:"5px",color:"rgba(var(--semi-grey-9), 1)"},children:n.learnmore}):_.jsx(_.Fragment,{})]}),Wg=({icon:n,title:e,children:t})=>{const[r,i]=H.useState(!1),s=()=>{i(!0)},o=()=>{i(!1),console.log("Ok button clicked")},a=()=>{i(!1),console.log("Cancel button clicked")},A=()=>{console.log("After Close callback executed")};return _.jsxs(_.Fragment,{children:[_.jsxs(Ne,{onClick:s,style:{marginLeft:"10px"},children:[n||_.jsx(_.Fragment,{}),e]}),_.jsx(Rn,{title:e,visible:r,onOk:o,afterClose:A,onCancel:a,closeOnEsc:!0,children:_.jsx("div",{children:t})})]})};function PP(){const n=window.localStorage.getItem("language");return n&&Object.values(ta).includes(n)?n:ta.en_US}function ene(n){window.localStorage.setItem("language",n.toString())}const yr=H.createContext(Ow[PP()]),tne=[{name:"秋漫语（asl）",url:""},{name:"废喵咸鱼TrashMeow",url:"https://space.bilibili.com/24437188"}],{Title:nne}=zr,rne=()=>{const e=H.useContext(yr).supportusdata,t=_.jsxs(_.Fragment,{children:[_.jsx("div",{children:_.jsx(nne,{heading:6,children:"感谢以下赞助者："})}),_.jsx(Qr,{margin:"12px"}),_.jsx(hi,{gutter:[0,12],style:{width:"100%",marginTop:"10px"},children:tne.map(r=>_.jsx(Dn,{span:6,style:{width:"50%"},children:_.jsx(Ne,{type:"tertiary",onClick:()=>{r.url!==""&&open(r.url,"_blank")},style:{width:"90%"},children:r.name})}))})]});return _.jsx(Wg,{title:e.list,children:t})};function ine(n){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M403.001 217.001C388.997 148.002 328.998 96 256 96c-57.998 0-107.999 32.998-132.997 81C63.002 183.002 16 233.998 16 296c0 65.996 54.004 120 120 120h260c55 0 100-45 100-100.001 0-52.997-40.997-95.999-92.999-98.998zM396 376H136c-44.004 0-80-35.996-80-80 0-44 35.996-80 80-80h14.004c12.998-46 55-80 105.996-80 60.996 0 110 49 110 110v10h30c32.998 0 60 27.003 60 60 0 32.998-27.002 60-60 60z"},child:[]}]})(n)}function sne(n){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 448l-30.164-27.211C118.718 322.442 48 258.61 48 179.095 48 114.221 97.918 64 162.4 64c36.399 0 70.717 16.742 93.6 43.947C278.882 80.742 313.199 64 349.6 64 414.082 64 464 114.221 464 179.095c0 79.516-70.719 143.348-177.836 241.694L256 448z"},child:[]}]})(n)}const{Title:l_}=zr,one=()=>{const n=H.useContext(yr),e=n.supportusdata,t=_.jsxs(_.Fragment,{children:[e.content,_.jsx(rne,{}),_.jsx("br",{}),_.jsx(Qr,{margin:"12px"}),_.jsx("div",{children:_.jsx(l_,{heading:6,children:e.global})}),_.jsx("div",{onClick:()=>{open("https://ko-fi.com/MiekoHikari","_blank")},children:_.jsx("img",{src:"https://s2.loli.net/2024/10/01/LpQN1lIvu97HdMy.webp",style:{height:"50px",marginTop:"10px"}})}),_.jsx(Qr,{margin:"12px"}),_.jsx("div",{children:_.jsx(l_,{heading:6,children:e.CN})}),_.jsxs("div",{onClick:()=>{open("https://afdian.com/a/fsltech","_blank")},style:{display:"flex",height:"50px"},children:[_.jsx("img",{src:"https://s2.loli.net/2024/10/01/Xw74impc6osJDCL.png",style:{height:"50px",marginTop:"10px",marginLeft:"5px"}}),_.jsx("div",{style:{display:"flex",height:"100%",placeItems:"center",fontSize:"20px",marginLeft:"20px",marginTop:"10px",color:"rgba(var(--semi-grey-9), 1)"},children:_.jsx("strong",{children:"爱发电"})})]})]});return _.jsx(Wg,{icon:_.jsx(sne,{style:{marginRight:"5px"}}),title:n.sidebar.supportus,children:t})},{Title:ane}=zr,c_=({title:n,items:e})=>_.jsxs(_.Fragment,{children:[_.jsx(ane,{heading:5,children:n}),_.jsx(Qr,{margin:"12px"}),_.jsx(hi,{gutter:[0,12],style:{width:"100%",marginTop:"10px"},children:e.map((t,r)=>_.jsx(Dn,{span:10,style:{width:"50%"},children:_.jsxs(Ne,{type:"tertiary",onClick:()=>{open(t.url,"_self")},style:{width:"90%"},children:[t.icon,t.content]})},r))})]}),Ane=()=>{const n=H.useContext(yr),e=n.sitelistdata,t=_.jsxs(_.Fragment,{children:[e.content,_.jsx("br",{}),_.jsx(c_,{title:"Global",items:e.Global}),_.jsx("br",{}),_.jsx(c_,{title:"中国节点",items:e.CN}),_.jsx("br",{})]});return _.jsx(Wg,{icon:_.jsx(ine,{style:{marginRight:"5px"}}),title:n.sitelist,children:t})},{Title:lne}=zr,Q0=({title:n,items:e})=>_.jsxs(_.Fragment,{children:[_.jsx(lne,{heading:6,children:n}),_.jsx(Qr,{margin:"12px"}),_.jsx(hi,{gutter:[0,10],style:{width:"100%",marginTop:"10px"},children:e.map((t,r)=>_.jsx(Dn,{span:12,style:{},children:_.jsxs(Ne,{size:"large",type:"tertiary",onClick:()=>{open(t.url,"_blank")},style:{width:"90%"},children:[t.icon,t.name]})},r))})]}),cne=()=>{const n=H.useContext(yr),e=n.friendlinkdata,t=_.jsxs(_.Fragment,{children:[_.jsx(Q0,{title:e.classify.official,items:e.official}),_.jsx("br",{}),_.jsx(Q0,{title:e.classify.wiki,items:e.wiki}),_.jsx("br",{}),_.jsx(Q0,{title:e.classify.others,items:e.others}),_.jsx("br",{}),_.jsx(Qr,{margin:"12px"}),e.contact.content]});return _.jsx(Wg,{icon:_.jsx(Jte,{style:{marginRight:"5px"}}),title:n.friendlink,children:t})},hne=()=>{const n=H.useContext(yr);return _.jsx("div",{className:"minWidthAvailable",style:{marginLeft:"80px",display:"flex",justifyContent:"center",alignItems:"center",overflow:"auto hidden",maxWidth:"100svw"},children:_.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",color:"rgba(var(--semi-grey-9), 1)",height:"4rem"},children:[_.jsx("a",{href:"https://creativecommons.org/licenses/by-nc-sa/4.0/",target:"_blank",rel:"nofollow",style:{display:"flex",flexDirection:"row",alignItems:"center"},children:_.jsx("img",{decoding:"async",loading:"lazy",src:"https://s2.loli.net/2024/09/16/TPdoKCrgVb4i37J.png",width:"107",height:"38",style:{marginRight:"20px",marginTop:"5px"}})}),_.jsxs("div",{style:{marginBottom:"0px",display:"flex",flexDirection:"row",gap:"0.3rem",whiteSpace:"nowrap"},children:["© 番石榴网络科技工作室 & ",_.jsx(pn,{content:_.jsx(qte,{learnmore:n.sidebar.learnmore}),position:"top",children:_.jsx("a",{children:"Contributors"})})]}),_.jsxs("div",{style:{height:"max",display:"flex",flexDirection:"row",alignItems:"center",marginLeft:"10px",marginTop:"6px"},children:[_.jsx(It,{content:"Github repository",children:_.jsx("a",{href:"https://github.com/fsltech-team/Strinova-Map-Assistant",target:"_blank",style:{},children:_.jsx(Eh,{})})}),_.jsx(It,{content:"Discord channel",children:_.jsx("a",{href:"https://discord.gg/Zn6fWgT4Sb",target:"_blank",style:{marginLeft:"5px"},children:_.jsx(hZ,{})})}),_.jsx(It,{content:"QQ群",children:_.jsx("a",{href:"https://qm.qq.com/q/E96Z4s8eze",target:"_blank",style:{marginLeft:"5px"},children:_.jsx(uZ,{})})})]}),_.jsxs("div",{style:{marginBottom:"0px",display:"flex",flexDirection:"row"},children:[_.jsx(cne,{}),_.jsx(Ane,{}),_.jsx(one,{})]})]})})};function une(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(n)}function dne(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(n)}function fne(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(n)}function pne(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3z"},child:[]}]})(n)}function gne(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16a8.002 8.002 0 0 1 7.6-5.5c1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"},child:[]}]})(n)}function mne(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"},child:[]}]})(n)}function vne(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(n)}function yne(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 0 0 0-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"},child:[]}]})(n)}function bne(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m18.85 10.39 1.06-1.06c.78-.78.78-2.05 0-2.83L18.5 5.09c-.78-.78-2.05-.78-2.83 0l-1.06 1.06 4.24 4.24zm-5.66-2.83L4 16.76V21h4.24l9.19-9.19-4.24-4.25zM19 17.5c0 2.19-2.54 3.5-5 3.5-.55 0-1-.45-1-1s.45-1 1-1c1.54 0 3-.73 3-1.5 0-.47-.48-.87-1.23-1.2l1.48-1.48c1.07.63 1.75 1.47 1.75 2.68zM4.58 13.35C3.61 12.79 3 12.06 3 11c0-1.8 1.89-2.63 3.56-3.36C7.59 7.18 9 6.56 9 6c0-.41-.78-1-2-1-1.26 0-1.8.61-1.83.64-.35.41-.98.46-1.4.12a.992.992 0 0 1-.15-1.38C3.73 4.24 4.76 3 7 3s4 1.32 4 3c0 1.87-1.93 2.72-3.64 3.47C6.42 9.88 5 10.5 5 11c0 .31.43.6 1.07.86l-1.49 1.49z"},child:[]}]})(n)}function wne(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z",opacity:".1"},child:[]},{tag:"path",attr:{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"},child:[]}]})(n)}function Cne(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17L4 17.17V4h16v12zM11 5h2v6h-2zm0 8h2v2h-2z"},child:[]}]})(n)}function Bne(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7 1.62-4.33L19.12 17h-3.24z"},child:[]}]})(n)}const xne=({currentLanguage:n,currentMap:e,setPresentMap:t,setPresentMapURL:r,editor:i})=>{const s=o=>{t(jc[o]);for(const a of _f)a.map===o&&(i==null||i.reset(),r({imgPrepareLink:a.imgPrepareLink,imgBlankLink:a.imgBlankLink}))};return _.jsx("div",{children:_.jsx(at,{trigger:"click",position:"bottom",clickToHide:!0,render:_.jsx(at.Menu,{children:Object.keys(jc).map(o=>_.jsx(at.Item,{onClick:()=>s(o),children:n.mapsetting.maps[o]},o))}),children:_.jsx(Ne,{icon:_.jsx(pZ,{}),theme:"light",children:n.mapsetting.maps[e]})})})},_ne=({mapPrepareMode:n,setMapPrepareMode:e,content:t})=>_.jsx(Ne,{theme:n?"solid":"outline",type:"primary",onClick:()=>e(!n),children:t});function OP(n,e,t){const r=new Date;r.setTime(r.getTime()+t*24*60*60*1e3),document.cookie=`${n}=${e};expires=${r.toUTCString()};path=/`}function M0(n){const e=document.cookie.match(new RegExp(`(?:^|; )${n.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")}=([^;]*)`));return e?decodeURIComponent(e[1]):void 0}function Sne(n){OP(n,"",-1)}const{Title:Ene}=zr,Fne=n=>{const e=new Date,[t,r]=H.useState(M0("today_announcement")?M0("today_announcement")===e.getDate().toString()?!1:()=>(Sne("today_announcement"),!0):!0),i=()=>{r(!0)},s=()=>{r(!1),M0("today_announcement")||OP("today_announcement",e.getDate().toString(),1)},o=()=>{r(!1)},a=()=>{console.log("After Close callback executed")};return _.jsxs(_.Fragment,{children:[_.jsxs(Ne,{type:"tertiary",onClick:i,style:{marginRight:"10px"},children:[_.jsx(Cne,{style:{color:"rgba(var(--semi-grey-9), 1)",fontSize:"15px",marginRight:"5px",marginTop:"3px"}}),n.name]}),_.jsx(Rn,{title:n.name,visible:t,onOk:s,afterClose:a,onCancel:o,closeOnEsc:!0,okText:n.content.notshowntoday,children:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex"},children:[_.jsx(pne,{style:{marginTop:"3px",marginRight:"5px",fontSize:"18px"}}),_.jsxs(Ene,{heading:6,children:[n.content.pin.title,_.jsx(jr,{shape:"circle",color:"cyan",style:{marginLeft:"5px"},children:n.content.pin.date})]})]}),_.jsx(Qr,{margin:"8px"}),_.jsx("div",{children:n.content.pin.summary})]})})]})};function IP(){return window.localStorage.getItem("theme")??(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}function Tne(n){window.localStorage.setItem("theme",n)}const UP=H.createContext(IP()),Pne=({changeLanguage:n,changeTheme:e,currentMap:t,mapPrepareMode:r,setPresentMap:i,setPresentMapURL:s,setMapPrepareMode:o,editor:a,share:A})=>{const c=H.useContext(yr),l=H.useContext(UP),h=()=>{e(l==="dark"?"light":"dark")},u=()=>{navigator.clipboard.writeText(location.href).then(function(){},function(){}),Eo.success("Copied")};return _.jsx("div",{style:{width:"100%"},children:_.jsxs(kn,{mode:"horizontal",className:"none-scrollbar minWidthAvailable",style:{overflow:"auto hidden",maxWidth:"100svw"},children:[_.jsx(kn.Header,{children:_.jsx(Ug,{style:{whiteSpace:"nowrap"},children:c.title})}),_.jsx(kn.Item,{style:{flexDirection:"column",justifyContent:"center"},children:_.jsx(xne,{editor:a,currentLanguage:c,currentMap:t,setPresentMap:i,setPresentMapURL:s})}),_.jsx(kn.Item,{style:{flexDirection:"column",justifyContent:"center"},children:_.jsx(_ne,{content:c.mapsetting.TeamHighlight,mapPrepareMode:r,setMapPrepareMode:o})}),_.jsx(kn.Item,{style:{flexDirection:"column",justifyContent:"center"},children:_.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[_.jsx(Ne,{icon:_.jsx(wne,{style:{fontSize:32}}),size:"large",onClick:()=>{A()}}),_.jsx(Ne,{icon:_.jsx(fne,{style:{fontSize:32}}),size:"large",onClick:()=>{u()}})]})}),_.jsxs(kn.Footer,{children:[_.jsx(Fne,{name:c.announcement,content:c.announcementdata}),_.jsx(Ne,{icon:l==="light"?_.jsx(yne,{size:"1rem",style:{padding:"0 1rem"},color:"rgba(var(--semi-grey-9), 1)"}):_.jsx(vne,{size:"1rem",style:{padding:"0 1rem"},color:"rgba(var(--semi-grey-9), 1)"}),onClick:h}),_.jsx(Bne,{size:"1.5rem",style:{padding:"0 1rem"},color:"rgba(var(--semi-grey-9), 1)"}),_.jsx(ci,{defaultValue:c.language,onChange:d=>n(d),children:Object.keys(Ow).map(d=>_.jsx(ci.Option,{value:d,children:ta[d]},d))})]})]})})};function One(n){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M491.844 22.533l-83.42 14.865L196.572 249.25c3.262 4.815 5.37 10.72 5.37 16.932 0 5.863-1.71 11.35-4.643 15.996-5.065-1.606-10.448-2.477-16.027-2.477-15.724 0-29.904 6.89-39.69 17.796l-9.112-9.113 17.237-17.237c-4.515-5.772-8.907-11.645-13.19-17.6l-19.443 19.44-13.215-13.215 21.828-21.827c-4.403-6.59-8.67-13.278-12.792-20.068l-40.802 40.803 58.314 58.314c-1.613 5.075-2.49 10.47-2.49 16.063 0 7.666 1.65 14.96 4.592 21.564l-72.14 72.14-14.56-14.56L21.013 437l14.558 14.56-8.607 8.608 27.246 27.246 8.606-8.61 14.56 14.56 24.798-24.8-14.557-14.556 72.158-72.16c6.586 2.922 13.858 4.562 21.498 4.562 5.593 0 10.988-.877 16.063-2.49l58.363 58.363L296.5 401.48c-6.797-4.127-13.486-8.395-20.068-12.793l-21.83 21.83L241.39 397.3l19.442-19.44c-5.962-4.29-11.835-8.683-17.603-13.194l-17.238 17.238-9.16-9.16c10.905-9.785 17.795-23.965 17.795-39.69 0-5.346-.806-10.51-2.285-15.39 4.703-3.04 10.288-4.817 16.265-4.816 6.21 0 11.776 1.77 16.52 4.955L476.98 105.95l14.864-83.417zm-66.227 53.012l13.215 13.215-191.684 191.68-13.214-13.213L425.617 75.545zM181.273 298.39c19.257 0 34.665 15.41 34.665 34.665 0 19.256-15.408 34.666-34.665 34.666-19.256 0-34.666-15.41-34.666-34.665s15.41-34.666 34.666-34.666z"},child:[]}]})(n)}function Ine(n){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 16c25 24 100 72 150 72v96c0 96-75 240-150 312-75-72-150-216-150-312V88c50 0 125-48 150-72z"},child:[]}]})(n)}function Une(n){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M254.785 20.36c-16.934 0-32.385 4.04-44.254 11.214-11.867 7.176-20.745 18.27-20.745 31.643 0 13.372 8.878 24.467 20.746 31.642 11.87 7.175 27.32 11.214 44.255 11.214 11.424 0 22.168-1.845 31.598-5.244l-18.87 18.87L390.552 242.74l21.214-21.215-122-122c3.282-1.36 6.387-2.917 9.275-4.664 6.595-3.988 12.26-9.19 15.997-15.317l18.943 18.945-9.898 9.9 107.79 107.79 16.263-48.79-91.526-91.53-9.9 9.902-27.31-27.31c-1.817-11.24-9.933-20.57-20.36-26.876-11.87-7.175-27.32-11.215-44.255-11.215zM359.12 33.12l-9.897 9.9L468.73 162.525l-24.953 74.856-142.76 164.725 9.926 9.928L473.1 228.256l20.29-60.87L359.12 33.12zm-104.335 5.24c13.994 0 26.542 3.54 34.942 8.62 8.4 5.077 12.058 10.91 12.058 16.237 0 5.327-3.66 11.16-12.058 16.238-8.4 5.078-20.948 8.62-34.942 8.62-13.993 0-26.542-3.542-34.94-8.62-8.4-5.078-12.06-10.91-12.06-16.238 0-5.327 3.66-11.16 12.06-16.238 8.398-5.08 20.947-8.62 34.94-8.62zm0 94.068L52.55 334.66 175.59 457.7l202.232-202.233-123.037-123.04zM39.822 347.388l-21.21 21.216L141.645 491.64l21.215-21.214L39.823 347.39z"},child:[]}]})(n)}function kne(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M15,5 L17,5 L17,3 L15,3 L15,5 Z M7,5 L9,5 L9,3 L7,3 L7,5 Z M15,13 L17,13 L17,11 L15,11 L15,13 Z M7,13 L9,13 L9,11 L7,11 L7,13 Z M15,21 L17,21 L17,19 L15,19 L15,21 Z M7,21 L9,21 L9,19 L7,19 L7,21 Z"},child:[]}]})(n)}const Dne={backgroundColor:"var(--semi-color-overlay-bg)",height:"100%",width:"100%",display:"flex",alianItems:"center",justifyContent:"center"},Fo=()=>_.jsx("div",{style:Dne,children:_.jsx(kne,{style:{margin:"auto",color:"rgba(var(--semi-light-blue-5), 1)"}})}),Qne=({data:n,side:e})=>{const t=H.useContext(yr),r=n[e],i=()=>{Di({type:"imageLink",value:r.canvasImage})},s=()=>{Di({type:"imageLink",value:r.canvasImage})},o=(A,c)=>{Di({type:"imageLink",value:c})},a=(A,c)=>{Di({type:"imageLink",value:c})};return _.jsx(pn,{position:"rightTop",trigger:"click",content:_.jsx(Mg,{style:{width:"540px",height:"100%",margin:"0 auto",overflow:"hidden"},children:_.jsxs("div",{style:{display:"flex",height:"100%"},children:[_.jsxs("div",{style:{height:"360px",width:"200px",margin:"0 auto"},children:[_.jsx("img",{draggable:"false",src:r.bodyImage,style:{height:"360px",filter:"drop-shadow(0 0 5px rgba(var(--semi-grey-7))"}}),_.jsxs("div",{style:{position:"absolute",left:"40px",bottom:"60px",height:"25px",display:"flex",alignContent:"center",filter:"drop-shadow(0 0 5px rgba(var(--semi-grey-7))"},children:[t.characterInfo[n.id].Type==t.characterTypes.Duellist?_.jsx("img",{draggable:"false",src:"https://s2.loli.net/2024/10/27/c7QDINMXFyuav6b.png",style:{filter:"invert(100%)",height:"25px"}}):_.jsx(_.Fragment,{}),t.characterInfo[n.id].Type==t.characterTypes.Support?_.jsx("img",{draggable:"false",src:"https://s2.loli.net/2024/11/11/seAIvkZLtWGrlwd.png",style:{filter:"invert(100%)",height:"25px"}}):_.jsx(_.Fragment,{}),t.characterInfo[n.id].Type==t.characterTypes.Controller?_.jsx("img",{draggable:"false",src:"https://s2.loli.net/2024/11/11/oLVSxJBTrynRv7F.png",style:{filter:"invert(100%)",height:"25px"}}):_.jsx(_.Fragment,{}),t.characterInfo[n.id].Type==t.characterTypes.Sentinel?_.jsx("img",{draggable:"false",src:"https://s2.loli.net/2024/11/11/jEuQg1bt2veBrTP.png",style:{filter:"invert(100%)",height:"25px"}}):_.jsx(_.Fragment,{}),t.characterInfo[n.id].Type==t.characterTypes.Initiator?_.jsx("img",{draggable:"false",src:"https://s2.loli.net/2024/11/11/OfZRtlo2ICDKNHG.png",style:{filter:"invert(100%)",height:"25px"}}):_.jsx(_.Fragment,{}),_.jsx("span",{style:{fontSize:"18px",margin:"1.5px",marginLeft:"5px",color:"white"},children:_.jsx("strong",{children:t.characterInfo[n.id].Type})})]}),_.jsx("div",{style:{position:"absolute",left:"35px",bottom:"90px",height:"25px",display:"flex",alignContent:"center",filter:"drop-shadow(0 0 5px rgba(var(--semi-grey-7))"},children:_.jsx("span",{style:{fontSize:"18px",margin:"1.5px",marginLeft:"5px",color:"white"},children:_.jsx("strong",{children:t.characterInfo[n.id].Name})})})]}),_.jsx("div",{style:{width:"100%",fontSize:"14px",marginRight:"15px",marginTop:"3px"},children:_.jsxs(Vs,{type:"button",children:[_.jsxs(Lr,{tab:_.jsx("span",{draggable:!0,onDragStart:A=>{o(A,r.skills.active.skillIcon)},onTouchStart:A=>{a(A,r.skills.active.skillIcon)},children:_.jsx(Vn,{src:r.skills.active.skillIcon,style:{margin:"0 auto",height:"40px",width:"40px"},hoverMask:_.jsx(Fo,{})})}),itemKey:"1",children:[_.jsx("div",{style:{fontWeight:"bold"},children:t.characterInfo[n.id].skillActiveName}),_.jsx("div",{style:{margin:"2px",maxHeight:"100%",overflowY:"scroll",filter:"drop-shadow(0 0 5px rgba(var(--semi-grey-2))"},className:"none-scrollbar",children:t.characterInfo[n.id].skillActiveDescription})]}),_.jsxs(Lr,{tab:_.jsx("span",{draggable:!0,onDragStart:A=>{o(A,r.skills.passive.skillIcon)},onTouchStart:A=>{a(A,r.skills.passive.skillIcon)},children:_.jsx(Vn,{src:r.skills.passive.skillIcon,style:{margin:"0 auto",height:"40px",width:"40px"},hoverMask:_.jsx(Fo,{})})}),itemKey:"2",children:[_.jsx("div",{style:{fontWeight:"bold"},children:t.characterInfo[n.id].skillPassiveName}),_.jsx("div",{style:{margin:"2px",maxHeight:"100%",overflowY:"scroll",filter:"drop-shadow(0 0 5px rgba(var(--semi-grey-2))"},className:"none-scrollbar",children:t.characterInfo[n.id].skillPassiveDescription})]}),_.jsxs(Lr,{tab:_.jsx("span",{draggable:!0,onDragStart:A=>{o(A,r.skills.ultimate.skillIcon)},onTouchStart:A=>{a(A,r.skills.ultimate.skillIcon)},children:_.jsx(Vn,{src:r.skills.ultimate.skillIcon,style:{margin:"0 auto",height:"40px",width:"40px"},hoverMask:_.jsx(Fo,{})})}),itemKey:"3",children:[_.jsx("div",{style:{fontWeight:"bold"},children:t.characterInfo[n.id].skillUltimateName}),_.jsx("div",{style:{margin:"2px",maxHeight:"100%",overflowY:"scroll",filter:"drop-shadow(0 0 5px rgba(var(--semi-grey-2))"},className:"none-scrollbar",children:t.characterInfo[n.id].skillUltimateDescription})]}),_.jsxs(Lr,{tab:_.jsx("span",{draggable:!0,onDragStart:A=>{o(A,r.skills.sub.skillIcon)},onTouchStart:A=>{a(A,r.skills.sub.skillIcon)},children:_.jsx(Vn,{src:r.skills.sub.skillIcon,style:{margin:"0 auto",height:"40px",width:"40px"},hoverMask:_.jsx(Fo,{})})}),itemKey:"4",children:[_.jsx("div",{style:{fontWeight:"bold"},children:t.characterInfo[n.id].subName}),_.jsx("div",{style:{margin:"2px",maxHeight:"100%",overflowY:"scroll",filter:"drop-shadow(0 0 5px rgba(var(--semi-grey-2))"},className:"none-scrollbar",children:t.characterInfo[n.id].subDescription})]})]})})]})}),children:_.jsx("span",{draggable:!0,onDragStart:i,onTouchStart:s,children:_.jsx(Vn,{src:r.canvasImage,style:{padding:"0.25rem"},hoverMask:_.jsx(Fo,{})})})})},Mne=({data:n})=>{const e=H.useContext(yr),t=(i,s)=>{Di({type:"imageLink",value:s.imageLink})},r=(i,s)=>{Di({type:"imageLink",value:s.imageLink})};return _.jsx(It,{position:"topLeft",content:e.grenades[n.grenade],children:_.jsx("span",{draggable:!0,onDragStart:i=>{t(i,n)},onTouchStart:i=>{r(i,n)},children:_.jsx(Vn,{src:n.imageLink,style:{margin:"0.25rem",backgroundColor:"grey",height:"48px",width:"48px"},hoverMask:_.jsx(Fo,{})})})})},Lne=({data:n})=>{const e=H.useContext(yr),t=(i,s)=>{Di({type:"imageLink",value:s.imageLink})},r=(i,s)=>{Di({type:"imageLink",value:s.imageLink})};return _.jsx(It,{position:"topLeft",content:e.others[n.other],children:_.jsx("span",{draggable:!0,onDragStart:i=>{t(i,n)},onTouchStart:i=>{r(i,n)},children:_.jsx(Vn,{src:n.imageLink,shape:"square",style:{margin:"0.25rem",padding:"0.5rem",backgroundColor:"grey",height:"30px",width:"30px"},hoverMask:_.jsx(Fo,{})})})})},Nne=[{grenade:"SmokeBomb",imageLink:"https://s2.loli.net/2024/09/24/y6xfMWzvi5GrE8Z.png"},{grenade:"SnowBall",imageLink:"https://s2.loli.net/2024/09/24/siyl1V9OETwdntX.png"},{grenade:"Alarm",imageLink:"https://s2.loli.net/2024/09/24/z8DXpG7icOdRhkj.png"},{grenade:"SlowGrenade",imageLink:"https://s2.loli.net/2024/09/24/M7NLCWwZaYU5lyb.png"},{grenade:"HealingGrenade",imageLink:"https://s2.loli.net/2024/09/24/iZpv7XY5j1DJGAL.png"},{grenade:"FragGrenade",imageLink:"https://s2.loli.net/2024/09/24/rR5g1ukx7j6tPFK.png"},{grenade:"Flashbang",imageLink:"https://s2.loli.net/2024/09/24/MQYHj54khqVxetJ.png"},{grenade:"WindstormGrenade",imageLink:"https://s2.loli.net/2024/09/24/nJzYDPiv8uWsdMx.png"},{grenade:"Interceptor",imageLink:"https://s2.loli.net/2024/09/24/2UAiJIGMwRKauXt.png"}],Rne=[{other:"Bomb",imageLink:"https://cdn.sa.net/2025/02/15/lvcYUqwA7rMsfEu.png"},{other:"BombA",imageLink:"https://cdn.sa.net/2025/02/15/1jothFAux6P95Ve.png"},{other:"BombB",imageLink:"https://cdn.sa.net/2025/02/15/TvUCl3QqiFyKj2r.png"},{other:"BombC",imageLink:"https://cdn.sa.net/2025/02/15/6NUMSbevIiap534.png"},{other:"Focus",imageLink:"https://cdn.sa.net/2025/02/15/SeVw3s7OgrbyaCz.png"},{other:"Warning",imageLink:"https://cdn.sa.net/2025/02/15/7Ev1A5tIfQgiJLl.png"},{other:"Flag",imageLink:"https://cdn.sa.net/2025/02/15/Yr62e537ER4Musv.png"},{other:"Danger",imageLink:"https://cdn.sa.net/2025/02/15/M1RvciEu7AwTpnt.png"}],Lw=({data:n,side:e})=>_.jsx(hi,{gutter:[16,6],style:{width:"100%",margin:"0 auto"},children:n.map((t,r)=>_.jsx(Dn,{span:6,style:{display:"flex",placeItems:"center",placeContent:"center"},children:_.jsx(Qne,{data:t,side:e})},r))}),Hne=({characterRegistry:n})=>_.jsx(Lw,{data:Object.values(Tw).map(e=>n[e]),side:"attack"}),h_=({characterRegistry:n,side:e})=>_.jsx(Lw,{data:Object.values(Pw).map(t=>n[t]),side:e}),$ne=({characterRegistry:n})=>_.jsx(Lw,{data:Object.values(Fw).map(e=>n[e]),side:"defense"}),jne=()=>_.jsx(hi,{gutter:[16,6],style:{width:"100%",margin:"0 auto"},children:Nne.map((n,e)=>_.jsx(Dn,{span:6,style:{display:"flex",placeItems:"center",placeContent:"center"},children:_.jsx(Mne,{data:n})},e))}),Kne=()=>_.jsx(hi,{gutter:[16,6],style:{width:"100%",margin:"0 auto"},children:Rne.map((n,e)=>_.jsx(Dn,{span:6,style:{display:"flex",placeItems:"center",placeContent:"center"},children:_.jsx(Lne,{data:n})},e))}),Gne=({characterRegistry:n,collaps:e})=>{const t=H.useContext(yr);return n===null?_.jsx("div",{}):_.jsx("div",{style:{height:"100%"},children:_.jsx("div",{style:{overflowX:"hidden",position:"relative",height:"100%",maxWidth:e?"0px":"320px",transition:"max-width 0.1s linear"},children:_.jsxs("div",{style:{width:"320px"},children:[_.jsxs(Vs,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[_.jsxs(Lr,{tab:_.jsxs("span",{children:[_.jsx(One,{style:{margin:"0 auto"}}),t.sidebar.attact]}),itemKey:"attack",children:[_.jsx(Hne,{characterRegistry:n}),_.jsx(Qr,{dashed:!0,margin:"1rem"}),_.jsx(h_,{characterRegistry:n,side:"attack"})]}),_.jsxs(Lr,{tab:_.jsxs("span",{children:[_.jsx(Ine,{style:{margin:"0 auto"}}),t.sidebar.defense]}),itemKey:"defense",children:[_.jsx($ne,{characterRegistry:n}),_.jsx(Qr,{dashed:!0,margin:"1rem"}),_.jsx(h_,{characterRegistry:n,side:"defense"})]}),_.jsxs(Lr,{tab:_.jsxs("span",{children:[_.jsx(Une,{style:{margin:"0 auto"}}),t.sidebar.other]}),itemKey:"grenade",children:[_.jsx(jne,{}),_.jsx(Qr,{dashed:!0,margin:"1rem"}),_.jsx(Kne,{})]})]}),_.jsx(Qr,{margin:"1rem"})]})})})},L0=n=>{const e=_.jsxs("div",{className:"grid grid-flex",style:{width:"280px",height:"50px",display:"flex",justifyContent:"space-around"},children:[_.jsx(jg,{style:{marginTop:"8px",marginLeft:"10px",width:"200px"},min:1,max:5,defaultValue:n.penWidth,onChange:t=>{n.setpenWidth(t)}}),_.jsx("div",{style:{borderRadius:"100%",margin:"auto",width:n.penWidth*3,height:n.penWidth*3,display:"flex",placeItems:"center",placeContent:"center",backgroundColor:n.penColor,overflow:"hidden"}})]});return _.jsx(pn,{content:e,position:"left",children:_.jsx(Ne,{icon:_.jsx(n.icon,{size:"2rem"}),size:"large",style:{width:"100%",height:"4rem"},type:n.isActiveTool?"secondary":"tertiary",onClick:n.onClick})})},Vne=n=>{const e=_.jsxs("div",{className:"grid grid-flex",style:{width:"300px",height:"70px",display:"flex",justifyContent:"space-around"},children:[_.jsx(jg,{style:{marginLeft:"8px",marginTop:"20px",width:"200px"},min:1,max:5,defaultValue:n.penWidth,onChange:t=>{n.setpenWidth(t)}}),_.jsx("div",{style:{margin:"auto",height:"40px",fontSize:n.penWidth*10,display:"flex",placeItems:"center",placeContent:"center",color:n.penColor,overflow:"hidden"},children:"A"})]});return _.jsx(pn,{content:e,position:"left",children:_.jsx(Ne,{icon:_.jsx(n.icon,{size:"2rem"}),size:"large",style:{width:"100%",height:"4rem"},type:n.isActiveTool?"secondary":"tertiary",onClick:n.onClick})})},t1=H.forwardRef(({color:n,onClick:e,text:t},r)=>_.jsx(Ne,{ref:r,color:n,theme:"solid",size:"small",style:{width:"3rem",height:"3rem",background:n},onClick:()=>e(n)},t)),zne=({children:n,setPenColor:e,colors:t,setColors:r,selectedColor:i,setSelectedColor:s})=>{const o=_.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.map((a,A)=>_.jsx("span",{style:i===A?{border:"1px solid #fff"}:{border:"1px solid transparent"},children:_.jsx(t1,{color:a,text:a,onClick:c=>{e(c),s(i===A?-1:A)}},A)},A)),_.jsx(Gg,{onChange:a=>{if(e(a.hex),i!=-1){const A=[...t];A[i]=a.hex,r(A),requestAnimationFrame(()=>{ZZ(t)})}},alpha:!1,usePopover:!0,popoverProps:{position:"left"},children:_.jsx("div",{children:_.jsx(t1,{text:"custom",color:"linear-gradient(70deg, red, blue)",onClick:()=>0})})})]});return _.jsx(pn,{content:o,position:"left",children:_.jsx("div",{children:n})})};function Wne(n){return _e({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3.94993 2.95002L3.94993 4.49998C3.94993 4.74851 3.74845 4.94998 3.49993 4.94998C3.2514 4.94998 3.04993 4.74851 3.04993 4.49998V2.50004C3.04993 2.45246 3.05731 2.40661 3.07099 2.36357C3.12878 2.18175 3.29897 2.05002 3.49993 2.05002H11.4999C11.6553 2.05002 11.7922 2.12872 11.8731 2.24842C11.9216 2.32024 11.9499 2.40682 11.9499 2.50002L11.9499 2.50004V4.49998C11.9499 4.74851 11.7485 4.94998 11.4999 4.94998C11.2514 4.94998 11.0499 4.74851 11.0499 4.49998V2.95002H8.04993V12.05H9.25428C9.50281 12.05 9.70428 12.2515 9.70428 12.5C9.70428 12.7486 9.50281 12.95 9.25428 12.95H5.75428C5.50575 12.95 5.30428 12.7486 5.30428 12.5C5.30428 12.2515 5.50575 12.05 5.75428 12.05H6.94993V2.95002H3.94993Z",fill:"currentColor"},child:[]}]})(n)}const uo=H.forwardRef(({Icon:n,isActiveTool:e,onClick:t,typeOverride:r},i)=>_.jsx(Ne,{ref:i,icon:_.jsx(n,{size:"2rem"}),size:"large",style:{width:"100%",height:"4rem"},type:r||(e?"secondary":"tertiary"),onClick:t}));function Xne(n){return _e({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"},child:[]}]})(n)}function Yne(n){return _e({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M211.81,83.79a28,28,0,0,1-33.12,4.83L88.62,178.69a28,28,0,1,1-44.43-6.48h0a28,28,0,0,1,33.12-4.83l90.07-90.07a28,28,0,1,1,44.43,6.48Z"},child:[]}]})(n)}function Jne(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3H5V5H3V3ZM7 3H9V5H7V3ZM11 3H13V5H11V3ZM15 3H17V5H15V3ZM19 3H21V5H19V3ZM19 7H21V9H19V7ZM3 19H5V21H3V19ZM3 15H5V17H3V15ZM3 11H5V13H3V11ZM3 7H5V9H3V7ZM10.6667 11L11.7031 9.4453C11.8886 9.1671 12.2008 9 12.5352 9H15.4648C15.7992 9 16.1114 9.1671 16.2969 9.4453L17.3333 11H20C20.5523 11 21 11.4477 21 12V20C21 20.5523 20.5523 21 20 21H8C7.44772 21 7 20.5523 7 20V12C7 11.4477 7.44772 11 8 11H10.6667ZM14 18C15.1046 18 16 17.1046 16 16C16 14.8954 15.1046 14 14 14C12.8954 14 12 14.8954 12 16C12 17.1046 12.8954 18 14 18Z"},child:[]}]})(n)}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n1=function(n,e){return n1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},n1(n,e)};function Wr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n1(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var r1=function(){return r1=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},r1.apply(this,arguments)};function bn(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(h){o(h)}}function A(l){try{c(r.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,A)}c((r=r.apply(n,[])).next())})}function An(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return A([c,l])}}function A(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(l){c=[6,l],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function wu(n,e,t){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||e)}var Wi=function(){function n(e,t,r,i){this.left=e,this.top=t,this.width=r,this.height=i}return n.prototype.add=function(e,t,r,i){return new n(this.left+e,this.top+t,this.width+r,this.height+i)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var r=Array.from(t).find(function(i){return i.width!==0});return r?new n(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n}(),Xg=function(n,e){return Wi.fromClientRect(n,e.getBoundingClientRect())},Zne=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new Wi(0,0,r,i)},Yg=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},_t=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var o=n[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},u_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qne=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Cu=0;Cu<u_.length;Cu++)qne[u_.charCodeAt(Cu)]=Cu;var d_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Bu=0;Bu<d_.length;Bu++)zl[d_.charCodeAt(Bu)]=Bu;var ere=function(n){var e=n.length*.75,t=n.length,r,i=0,s,o,a,A;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<t;r+=4)s=zl[n.charCodeAt(r)],o=zl[n.charCodeAt(r+1)],a=zl[n.charCodeAt(r+2)],A=zl[n.charCodeAt(r+3)],l[i++]=s<<2|o>>4,l[i++]=(o&15)<<4|a>>2,l[i++]=(a&3)<<6|A&63;return c},tre=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},nre=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},Ko=5,Nw=11,N0=2,rre=Nw-Ko,kP=65536>>Ko,ire=1<<Ko,R0=ire-1,sre=1024>>Ko,ore=kP+sre,are=ore,Are=32,lre=are+Are,cre=65536>>Nw,hre=1<<rre,ure=hre-1,f_=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},dre=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},fre=function(n,e){var t=ere(n),r=Array.isArray(t)?nre(t):new Uint32Array(t),i=Array.isArray(t)?tre(t):new Uint16Array(t),s=24,o=f_(i,s/2,r[4]/2),a=r[5]===2?f_(i,(s+r[4])/2):dre(r,Math.ceil((s+r[4])/4));return new pre(r[0],r[1],r[2],r[3],o,a)},pre=function(){function n(e,t,r,i,s,o){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Ko],t=(t<<N0)+(e&R0),this.data[t];if(e<=65535)return t=this.index[kP+(e-55296>>Ko)],t=(t<<N0)+(e&R0),this.data[t];if(e<this.highStart)return t=lre-cre+(e>>Nw),t=this.index[t],t+=e>>Ko&ure,t=this.index[t],t=(t<<N0)+(e&R0),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n}(),p_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gre=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xu=0;xu<p_.length;xu++)gre[p_.charCodeAt(xu)]=xu;var mre="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",g_=50,vre=1,DP=2,QP=3,yre=4,bre=5,m_=7,MP=8,v_=9,Es=10,i1=11,y_=12,s1=13,wre=14,Wl=15,o1=16,_u=17,kl=18,Cre=19,b_=20,a1=21,Dl=22,H0=23,Ia=24,$n=25,Xl=26,Yl=27,Ua=28,Bre=29,To=30,xre=31,Su=32,Eu=33,A1=34,l1=35,c1=36,Jc=37,h1=38,Id=39,Ud=40,$0=41,LP=42,_re=43,Sre=[9001,65288],NP="!",we="×",Fu="÷",u1=fre(mre),Bi=[To,c1],d1=[vre,DP,QP,bre],RP=[Es,MP],w_=[Yl,Xl],Ere=d1.concat(RP),C_=[h1,Id,Ud,A1,l1],Fre=[Wl,s1],Tre=function(n,e){e===void 0&&(e="strict");var t=[],r=[],i=[];return n.forEach(function(s,o){var a=u1.get(s);if(a>g_?(i.push(!0),a-=g_):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(o),t.push(o1);if(a===yre||a===i1){if(o===0)return r.push(o),t.push(To);var A=t[o-1];return Ere.indexOf(A)===-1?(r.push(r[o-1]),t.push(A)):(r.push(o),t.push(To))}if(r.push(o),a===xre)return t.push(e==="strict"?a1:Jc);if(a===LP||a===Bre)return t.push(To);if(a===_re)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Jc):t.push(To);t.push(a)}),[r,t,i]},j0=function(n,e,t,r){var i=r[t];if(Array.isArray(n)?n.indexOf(i)!==-1:n===i)for(var s=t;s<=r.length;){s++;var o=r[s];if(o===e)return!0;if(o!==Es)break}if(i===Es)for(var s=t;s>0;){s--;var a=r[s];if(Array.isArray(n)?n.indexOf(a)!==-1:n===a)for(var A=t;A<=r.length;){A++;var o=r[A];if(o===e)return!0;if(o!==Es)break}if(a!==Es)break}return!1},B_=function(n,e){for(var t=n;t>=0;){var r=e[t];if(r===Es)t--;else return r}return 0},Pre=function(n,e,t,r,i){if(t[r]===0)return we;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return we;var o=s-1,a=s+1,A=e[s],c=o>=0?e[o]:0,l=e[a];if(A===DP&&l===QP)return we;if(d1.indexOf(A)!==-1)return NP;if(d1.indexOf(l)!==-1||RP.indexOf(l)!==-1)return we;if(B_(s,e)===MP)return Fu;if(u1.get(n[s])===i1||(A===Su||A===Eu)&&u1.get(n[a])===i1||A===m_||l===m_||A===v_||[Es,s1,Wl].indexOf(A)===-1&&l===v_||[_u,kl,Cre,Ia,Ua].indexOf(l)!==-1||B_(s,e)===Dl||j0(H0,Dl,s,e)||j0([_u,kl],a1,s,e)||j0(y_,y_,s,e))return we;if(A===Es)return Fu;if(A===H0||l===H0)return we;if(l===o1||A===o1)return Fu;if([s1,Wl,a1].indexOf(l)!==-1||A===wre||c===c1&&Fre.indexOf(A)!==-1||A===Ua&&l===c1||l===b_||Bi.indexOf(l)!==-1&&A===$n||Bi.indexOf(A)!==-1&&l===$n||A===Yl&&[Jc,Su,Eu].indexOf(l)!==-1||[Jc,Su,Eu].indexOf(A)!==-1&&l===Xl||Bi.indexOf(A)!==-1&&w_.indexOf(l)!==-1||w_.indexOf(A)!==-1&&Bi.indexOf(l)!==-1||[Yl,Xl].indexOf(A)!==-1&&(l===$n||[Dl,Wl].indexOf(l)!==-1&&e[a+1]===$n)||[Dl,Wl].indexOf(A)!==-1&&l===$n||A===$n&&[$n,Ua,Ia].indexOf(l)!==-1)return we;if([$n,Ua,Ia,_u,kl].indexOf(l)!==-1)for(var h=s;h>=0;){var u=e[h];if(u===$n)return we;if([Ua,Ia].indexOf(u)!==-1)h--;else break}if([Yl,Xl].indexOf(l)!==-1)for(var h=[_u,kl].indexOf(A)!==-1?o:s;h>=0;){var u=e[h];if(u===$n)return we;if([Ua,Ia].indexOf(u)!==-1)h--;else break}if(h1===A&&[h1,Id,A1,l1].indexOf(l)!==-1||[Id,A1].indexOf(A)!==-1&&[Id,Ud].indexOf(l)!==-1||[Ud,l1].indexOf(A)!==-1&&l===Ud||C_.indexOf(A)!==-1&&[b_,Xl].indexOf(l)!==-1||C_.indexOf(l)!==-1&&A===Yl||Bi.indexOf(A)!==-1&&Bi.indexOf(l)!==-1||A===Ia&&Bi.indexOf(l)!==-1||Bi.concat($n).indexOf(A)!==-1&&l===Dl&&Sre.indexOf(n[a])===-1||Bi.concat($n).indexOf(l)!==-1&&A===kl)return we;if(A===$0&&l===$0){for(var d=t[s],p=1;d>0&&(d--,e[d]===$0);)p++;if(p%2!==0)return we}return A===Su&&l===Eu?we:Fu},Ore=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Tre(n,e.lineBreak),r=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(a){return[$n,To,LP].indexOf(a)!==-1?Jc:a}));var o=e.wordBreak==="keep-all"?s.map(function(a,A){return a&&n[A]>=19968&&n[A]<=40959}):void 0;return[r,i,o]},Ire=function(){function n(e,t,r,i){this.codePoints=e,this.required=t===NP,this.start=r,this.end=i}return n.prototype.slice=function(){return _t.apply(void 0,this.codePoints.slice(this.start,this.end))},n}(),Ure=function(n,e){var t=Yg(n),r=Ore(t,e),i=r[0],s=r[1],o=r[2],a=t.length,A=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var l=we;c<a&&(l=Pre(t,s,i,++c,o))===we;);if(l!==we||c===a){var h=new Ire(t,l,A,c);return A=c,{value:h,done:!1}}return{done:!0,value:null}}}},kre=1,Dre=2,Fh=4,x_=8,cp=10,__=47,gc=92,Qre=9,Mre=32,Tu=34,Ql=61,Lre=35,Nre=36,Rre=37,Pu=39,Ou=40,Ml=41,Hre=95,In=45,$re=33,jre=60,Kre=62,Gre=64,Vre=91,zre=93,Wre=61,Xre=123,Iu=63,Yre=125,S_=124,Jre=126,Zre=128,E_=65533,K0=42,Mo=43,qre=44,eie=58,tie=59,Zc=46,nie=0,rie=8,iie=11,sie=14,oie=31,aie=127,Zr=-1,HP=48,$P=97,jP=101,Aie=102,lie=117,cie=122,KP=65,GP=69,VP=70,hie=85,uie=90,cn=function(n){return n>=HP&&n<=57},die=function(n){return n>=55296&&n<=57343},ka=function(n){return cn(n)||n>=KP&&n<=VP||n>=$P&&n<=Aie},fie=function(n){return n>=$P&&n<=cie},pie=function(n){return n>=KP&&n<=uie},gie=function(n){return fie(n)||pie(n)},mie=function(n){return n>=Zre},Uu=function(n){return n===cp||n===Qre||n===Mre},hp=function(n){return gie(n)||mie(n)||n===Hre},F_=function(n){return hp(n)||cn(n)||n===In},vie=function(n){return n>=nie&&n<=rie||n===iie||n>=sie&&n<=oie||n===aie},ws=function(n,e){return n!==gc?!1:e!==cp},ku=function(n,e,t){return n===In?hp(e)||ws(e,t):hp(n)?!0:!!(n===gc&&ws(n,e))},G0=function(n,e,t){return n===Mo||n===In?cn(e)?!0:e===Zc&&cn(t):cn(n===Zc?e:n)},yie=function(n){var e=0,t=1;(n[e]===Mo||n[e]===In)&&(n[e]===In&&(t=-1),e++);for(var r=[];cn(n[e]);)r.push(n[e++]);var i=r.length?parseInt(_t.apply(void 0,r),10):0;n[e]===Zc&&e++;for(var s=[];cn(n[e]);)s.push(n[e++]);var o=s.length,a=o?parseInt(_t.apply(void 0,s),10):0;(n[e]===GP||n[e]===jP)&&e++;var A=1;(n[e]===Mo||n[e]===In)&&(n[e]===In&&(A=-1),e++);for(var c=[];cn(n[e]);)c.push(n[e++]);var l=c.length?parseInt(_t.apply(void 0,c),10):0;return t*(i+a*Math.pow(10,-o))*Math.pow(10,A*l)},bie={type:2},wie={type:3},Cie={type:4},Bie={type:13},xie={type:8},_ie={type:21},Sie={type:9},Eie={type:10},Fie={type:11},Tie={type:12},Pie={type:14},Du={type:23},Oie={type:1},Iie={type:25},Uie={type:24},kie={type:26},Die={type:27},Qie={type:28},Mie={type:29},Lie={type:31},f1={type:32},zP=function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(Yg(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==f1;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Tu:return this.consumeStringToken(Tu);case Lre:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(F_(t)||ws(r,i)){var s=ku(t,r,i)?Dre:kre,o=this.consumeName();return{type:5,value:o,flags:s}}break;case Nre:if(this.peekCodePoint(0)===Ql)return this.consumeCodePoint(),Bie;break;case Pu:return this.consumeStringToken(Pu);case Ou:return bie;case Ml:return wie;case K0:if(this.peekCodePoint(0)===Ql)return this.consumeCodePoint(),Pie;break;case Mo:if(G0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case qre:return Cie;case In:var a=e,A=this.peekCodePoint(0),c=this.peekCodePoint(1);if(G0(a,A,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(ku(a,A,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===In&&c===Kre)return this.consumeCodePoint(),this.consumeCodePoint(),Uie;break;case Zc:if(G0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case __:if(this.peekCodePoint(0)===K0)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===K0&&(l=this.consumeCodePoint(),l===__))return this.consumeToken();if(l===Zr)return this.consumeToken()}break;case eie:return kie;case tie:return Die;case jre:if(this.peekCodePoint(0)===$re&&this.peekCodePoint(1)===In&&this.peekCodePoint(2)===In)return this.consumeCodePoint(),this.consumeCodePoint(),Iie;break;case Gre:var h=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(ku(h,u,d)){var o=this.consumeName();return{type:7,value:o}}break;case Vre:return Qie;case gc:if(ws(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case zre:return Mie;case Wre:if(this.peekCodePoint(0)===Ql)return this.consumeCodePoint(),xie;break;case Xre:return Fie;case Yre:return Tie;case lie:case hie:var p=this.peekCodePoint(0),f=this.peekCodePoint(1);return p===Mo&&(ka(f)||f===Iu)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case S_:if(this.peekCodePoint(0)===Ql)return this.consumeCodePoint(),Sie;if(this.peekCodePoint(0)===S_)return this.consumeCodePoint(),_ie;break;case Jre:if(this.peekCodePoint(0)===Ql)return this.consumeCodePoint(),Eie;break;case Zr:return f1}return Uu(e)?(this.consumeWhiteSpace(),Lie):cn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):hp(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:_t(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();ka(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===Iu&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(_t.apply(void 0,e.map(function(A){return A===Iu?HP:A})),16),s=parseInt(_t.apply(void 0,e.map(function(A){return A===Iu?VP:A})),16);return{type:30,start:i,end:s}}var o=parseInt(_t.apply(void 0,e),16);if(this.peekCodePoint(0)===In&&ka(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var a=[];ka(t)&&a.length<6;)a.push(t),t=this.consumeCodePoint();var s=parseInt(_t.apply(void 0,a),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Ou?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ou?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Zr)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Pu||t===Tu){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Zr||this.peekCodePoint(0)===Ml)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Du)}for(;;){var i=this.consumeCodePoint();if(i===Zr||i===Ml)return{type:22,value:_t.apply(void 0,e)};if(Uu(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Zr||this.peekCodePoint(0)===Ml?(this.consumeCodePoint(),{type:22,value:_t.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Du);if(i===Tu||i===Pu||i===Ou||vie(i))return this.consumeBadUrlRemnants(),Du;if(i===gc)if(ws(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Du;else e.push(i)}},n.prototype.consumeWhiteSpace=function(){for(;Uu(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Ml||e===Zr)return;ws(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var i=Math.min(t,e);r+=_t.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},n.prototype.consumeStringToken=function(e){var t="",r=0;do{var i=this._value[r];if(i===Zr||i===void 0||i===e)return t+=this.consumeStringSlice(r),{type:0,value:t};if(i===cp)return this._value.splice(0,r),Oie;if(i===gc){var s=this._value[r+1];s!==Zr&&s!==void 0&&(s===cp?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):ws(i,s)&&(t+=this.consumeStringSlice(r),t+=_t(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=Fh,r=this.peekCodePoint(0);for((r===Mo||r===In)&&e.push(this.consumeCodePoint());cn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Zc&&cn(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=x_;cn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===GP||r===jP)&&((i===Mo||i===In)&&cn(s)||cn(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=x_;cn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[yie(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(ku(i,s,o)){var a=this.consumeName();return{type:15,number:t,flags:r,unit:a}}return i===Rre?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(ka(e)){for(var t=_t(e);ka(this.peekCodePoint(0))&&t.length<6;)t+=_t(this.consumeCodePoint());Uu(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||die(r)||r>1114111?E_:r}return e===Zr?E_:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(F_(t))e+=_t(t);else if(ws(t,this.peekCodePoint(0)))e+=_t(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n}(),WP=function(){function n(e){this._tokens=e}return n.create=function(e){var t=new zP;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||Rie(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?f1:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n}(),Th=function(n){return n.type===15},ll=function(n){return n.type===17},je=function(n){return n.type===20},Nie=function(n){return n.type===0},p1=function(n,e){return je(n)&&n.value===e},XP=function(n){return n.type!==31},LA=function(n){return n.type!==31&&n.type!==4},di=function(n){var e=[],t=[];return n.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&e.push(t),e},Rie=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},zs=function(n){return n.type===17||n.type===15},Pt=function(n){return n.type===16||zs(n)},YP=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},Zt={type:17,number:0,flags:Fh},Rw={type:16,number:50,flags:Fh},Fs={type:16,number:100,flags:Fh},Jl=function(n,e,t){var r=n[0],i=n[1];return[Ze(r,e),Ze(typeof i<"u"?i:r,t)]},Ze=function(n,e){if(n.type===16)return n.number/100*e;if(Th(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},JP="deg",ZP="grad",qP="rad",eO="turn",Jg={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case JP:return Math.PI*e.number/180;case ZP:return Math.PI/200*e.number;case qP:return e.number;case eO:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},tO=function(n){return n.type===15&&(n.unit===JP||n.unit===ZP||n.unit===qP||n.unit===eO)},nO=function(n){var e=n.filter(je).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Zt,Zt];case"to top":case"bottom":return hr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Zt,Fs];case"to right":case"left":return hr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Fs,Fs];case"to bottom":case"top":return hr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Fs,Zt];case"to left":case"right":return hr(270)}return 0},hr=function(n){return Math.PI*n/180},Hs={name:"color",parse:function(n,e){if(e.type===18){var t=Hie[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Ts(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return Ts(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Ts(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return Ts(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var a=Hi[e.value.toUpperCase()];if(typeof a<"u")return a}return Hi.TRANSPARENT}},$s=function(n){return(255&n)===0},jt=function(n){var e=255&n,t=255&n>>8,r=255&n>>16,i=255&n>>24;return e<255?"rgba("+i+","+r+","+t+","+e/255+")":"rgb("+i+","+r+","+t+")"},Ts=function(n,e,t,r){return(n<<24|e<<16|t<<8|Math.round(r*255)<<0)>>>0},T_=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},P_=function(n,e){var t=e.filter(LA);if(t.length===3){var r=t.map(T_),i=r[0],s=r[1],o=r[2];return Ts(i,s,o,1)}if(t.length===4){var a=t.map(T_),i=a[0],s=a[1],o=a[2],A=a[3];return Ts(i,s,o,A)}return 0};function V0(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var O_=function(n,e){var t=e.filter(LA),r=t[0],i=t[1],s=t[2],o=t[3],a=(r.type===17?hr(r.number):Jg.parse(n,r))/(Math.PI*2),A=Pt(i)?i.number/100:0,c=Pt(s)?s.number/100:0,l=typeof o<"u"&&Pt(o)?Ze(o,1):1;if(A===0)return Ts(c*255,c*255,c*255,1);var h=c<=.5?c*(A+1):c+A-c*A,u=c*2-h,d=V0(u,h,a+1/3),p=V0(u,h,a),f=V0(u,h,a-1/3);return Ts(d*255,p*255,f*255,l)},Hie={hsl:O_,hsla:O_,rgb:P_,rgba:P_},mc=function(n,e){return Hs.parse(n,WP.create(e).parseComponentValue())},Hi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},$ie={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(je(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},jie={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zg=function(n,e){var t=Hs.parse(n,e[0]),r=e[1];return r&&Pt(r)?{color:t,stop:r}:{color:t,stop:null}},I_=function(n,e){var t=n[0],r=n[n.length-1];t.stop===null&&(t.stop=Zt),r.stop===null&&(r.stop=Fs);for(var i=[],s=0,o=0;o<n.length;o++){var a=n[o].stop;if(a!==null){var A=Ze(a,e);A>s?i.push(A):i.push(s),s=A}else i.push(null)}for(var c=null,o=0;o<i.length;o++){var l=i[o];if(l===null)c===null&&(c=o);else if(c!==null){for(var h=o-c,u=i[c-1],d=(l-u)/(h+1),p=1;p<=h;p++)i[c+p-1]=d*p;c=null}}return n.map(function(f,v){var m=f.color;return{color:m,stop:Math.max(Math.min(1,i[v]/e),0)}})},Kie=function(n,e,t){var r=e/2,i=t/2,s=Ze(n[0],e)-r,o=i-Ze(n[1],t);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},Gie=function(n,e,t){var r=typeof n=="number"?n:Kie(n,e,t),i=Math.abs(e*Math.sin(r))+Math.abs(t*Math.cos(r)),s=e/2,o=t/2,a=i/2,A=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[i,s-c,s+c,o-A,o+A]},Er=function(n,e){return Math.sqrt(n*n+e*e)},U_=function(n,e,t,r,i){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(o,a){var A=a[0],c=a[1],l=Er(t-A,r-c);return(i?l<o.optimumDistance:l>o.optimumDistance)?{optimumCorner:a,optimumDistance:l}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Vie=function(n,e,t,r,i){var s=0,o=0;switch(n.size){case 0:n.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(n.shape===0)s=o=Math.min(Er(e,t),Er(e,t-i),Er(e-r,t),Er(e-r,t-i));else if(n.shape===1){var a=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-r)),A=U_(r,i,e,t,!0),c=A[0],l=A[1];s=Er(c-e,(l-t)/a),o=a*s}break;case 1:n.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(n.shape===0)s=o=Math.max(Er(e,t),Er(e,t-i),Er(e-r,t),Er(e-r,t-i));else if(n.shape===1){var a=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-r)),h=U_(r,i,e,t,!1),c=h[0],l=h[1];s=Er(c-e,(l-t)/a),o=a*s}break}return Array.isArray(n.size)&&(s=Ze(n.size[0],r),o=n.size.length===2?Ze(n.size[1],i):s),[s,o]},zie=function(n,e){var t=hr(180),r=[];return di(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&o.value==="to"){t=nO(i);return}else if(tO(o)){t=Jg.parse(n,o);return}}var a=Zg(n,i);r.push(a)}),{angle:t,stops:r,type:1}},Qu=function(n,e){var t=hr(180),r=[];return di(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){t=nO(i);return}else if(tO(o)){t=(Jg.parse(n,o)+hr(270))%hr(360);return}}var a=Zg(n,i);r.push(a)}),{angle:t,stops:r,type:1}},Wie=function(n,e){var t=hr(180),r=[],i=1,s=0,o=3,a=[];return di(e).forEach(function(A,c){var l=A[0];if(c===0){if(je(l)&&l.value==="linear"){i=1;return}else if(je(l)&&l.value==="radial"){i=2;return}}if(l.type===18){if(l.name==="from"){var h=Hs.parse(n,l.values[0]);r.push({stop:Zt,color:h})}else if(l.name==="to"){var h=Hs.parse(n,l.values[0]);r.push({stop:Fs,color:h})}else if(l.name==="color-stop"){var u=l.values.filter(LA);if(u.length===2){var h=Hs.parse(n,u[1]),d=u[0];ll(d)&&r.push({stop:{type:16,number:d.number*100,flags:d.flags},color:h})}}}}),i===1?{angle:(t+hr(180))%hr(360),stops:r,type:i}:{size:o,shape:s,stops:r,position:a,type:i}},rO="closest-side",iO="farthest-side",sO="closest-corner",oO="farthest-corner",aO="circle",AO="ellipse",lO="cover",cO="contain",Xie=function(n,e){var t=0,r=3,i=[],s=[];return di(e).forEach(function(o,a){var A=!0;if(a===0){var c=!1;A=o.reduce(function(h,u){if(c)if(je(u))switch(u.value){case"center":return s.push(Rw),h;case"top":case"left":return s.push(Zt),h;case"right":case"bottom":return s.push(Fs),h}else(Pt(u)||zs(u))&&s.push(u);else if(je(u))switch(u.value){case aO:return t=0,!1;case AO:return t=1,!1;case"at":return c=!0,!1;case rO:return r=0,!1;case lO:case iO:return r=1,!1;case cO:case sO:return r=2,!1;case oO:return r=3,!1}else if(zs(u)||Pt(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return h},A)}if(A){var l=Zg(n,o);i.push(l)}}),{size:r,shape:t,stops:i,position:s,type:2}},Mu=function(n,e){var t=0,r=3,i=[],s=[];return di(e).forEach(function(o,a){var A=!0;if(a===0?A=o.reduce(function(l,h){if(je(h))switch(h.value){case"center":return s.push(Rw),!1;case"top":case"left":return s.push(Zt),!1;case"right":case"bottom":return s.push(Fs),!1}else if(Pt(h)||zs(h))return s.push(h),!1;return l},A):a===1&&(A=o.reduce(function(l,h){if(je(h))switch(h.value){case aO:return t=0,!1;case AO:return t=1,!1;case cO:case rO:return r=0,!1;case iO:return r=1,!1;case sO:return r=2,!1;case lO:case oO:return r=3,!1}else if(zs(h)||Pt(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return l},A)),A){var c=Zg(n,o);i.push(c)}}),{size:r,shape:t,stops:i,position:s,type:2}},Yie=function(n){return n.type===1},Jie=function(n){return n.type===2},Hw={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var r=hO[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function Zie(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!hO[n.name])}var hO={"linear-gradient":zie,"-moz-linear-gradient":Qu,"-ms-linear-gradient":Qu,"-o-linear-gradient":Qu,"-webkit-linear-gradient":Qu,"radial-gradient":Xie,"-moz-radial-gradient":Mu,"-ms-radial-gradient":Mu,"-o-radial-gradient":Mu,"-webkit-radial-gradient":Mu,"-webkit-gradient":Wie},qie={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(r){return LA(r)&&Zie(r)}).map(function(r){return Hw.parse(n,r)})}},ese={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(je(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},tse={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return di(e).map(function(t){return t.filter(Pt)}).map(YP)}},nse={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return di(e).map(function(t){return t.filter(je).map(function(r){return r.value}).join(" ")}).map(rse)}},rse=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},bA;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(bA||(bA={}));var ise={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return di(e).map(function(t){return t.filter(sse)})}},sse=function(n){return je(n)||Pt(n)},qg=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ose=qg("top"),ase=qg("right"),Ase=qg("bottom"),lse=qg("left"),em=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return YP(t.filter(Pt))}}},cse=em("top-left"),hse=em("top-right"),use=em("bottom-right"),dse=em("bottom-left"),tm=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},fse=tm("top"),pse=tm("right"),gse=tm("bottom"),mse=tm("left"),nm=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Th(t)?t.number:0}}},vse=nm("top"),yse=nm("right"),bse=nm("bottom"),wse=nm("left"),Cse={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Bse={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},xse={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(je).reduce(function(t,r){return t|_se(r.value)},0)}},_se=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Sse={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Ese={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},up;(function(n){n.NORMAL="normal",n.STRICT="strict"})(up||(up={}));var Fse={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return up.STRICT;case"normal":default:return up.NORMAL}}},Tse={name:"line-height",initialValue:"normal",prefix:!1,type:4},k_=function(n,e){return je(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:Pt(n)?Ze(n,e):e},Pse={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:Hw.parse(n,e)}},Ose={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},g1={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},rm=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},Ise=rm("top"),Use=rm("right"),kse=rm("bottom"),Dse=rm("left"),Qse={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(je).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Mse={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},im=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Lse=im("top"),Nse=im("right"),Rse=im("bottom"),Hse=im("left"),$se={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},jse={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Kse={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&p1(e[0],"none")?[]:di(e).map(function(t){for(var r={color:Hi.TRANSPARENT,offsetX:Zt,offsetY:Zt,blur:Zt},i=0,s=0;s<t.length;s++){var o=t[s];zs(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=Hs.parse(n,o)}return r})}},Gse={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Vse={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=Xse[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},zse=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Wse=function(n){var e=n.filter(function(A){return A.type===17}).map(function(A){return A.number}),t=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],e.length===16?[t,r,i,s,o,a]:null},Xse={matrix:zse,matrix3d:Wse},D_={type:16,number:50,flags:Fh},Yse=[D_,D_],Jse={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(Pt);return t.length!==2?Yse:[t[0],t[1]]}},Zse={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},vc;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(vc||(vc={}));var qse={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return vc.BREAK_ALL;case"keep-all":return vc.KEEP_ALL;case"normal":default:return vc.NORMAL}}},eoe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(ll(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},uO={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},toe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return ll(e)?e.number:1}},noe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},roe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(je).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},ioe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},soe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ooe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(ll(e))return e.number;if(je(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},aoe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(je).map(function(t){return t.value})}},Aoe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Mt=function(n,e){return(n&e)!==0},loe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},coe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var r=[],i=e.filter(XP),s=0;s<i.length;s++){var o=i[s],a=i[s+1];if(o.type===20){var A=a&&ll(a)?a.number:1;r.push({counter:o.value,increment:A})}}return r}},hoe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],r=e.filter(XP),i=0;i<r.length;i++){var s=r[i],o=r[i+1];if(je(s)&&s.value!=="none"){var a=o&&ll(o)?o.number:0;t.push({counter:s.value,reset:a})}}return t}},uoe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(Th).map(function(t){return uO.parse(n,t)})}},doe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var r=[],i=e.filter(Nie);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,a=i[s+1].value;r.push({open:o,close:a})}return r}},Q_=function(n,e,t){if(!n)return"";var r=n[Math.min(e,n.length-1)];return r?t?r.open:r.close:""},foe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&p1(e[0],"none")?[]:di(e).map(function(t){for(var r={color:255,offsetX:Zt,offsetY:Zt,blur:Zt,spread:Zt,inset:!1},i=0,s=0;s<t.length;s++){var o=t[s];p1(o,"inset")?r.inset=!0:zs(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=Hs.parse(n,o)}return r})}},poe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],r=[];return e.filter(je).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},goe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},moe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return Th(e)?e.number:0}},voe=function(){function n(e,t){var r,i;this.animationDuration=ee(e,uoe,t.animationDuration),this.backgroundClip=ee(e,$ie,t.backgroundClip),this.backgroundColor=ee(e,jie,t.backgroundColor),this.backgroundImage=ee(e,qie,t.backgroundImage),this.backgroundOrigin=ee(e,ese,t.backgroundOrigin),this.backgroundPosition=ee(e,tse,t.backgroundPosition),this.backgroundRepeat=ee(e,nse,t.backgroundRepeat),this.backgroundSize=ee(e,ise,t.backgroundSize),this.borderTopColor=ee(e,ose,t.borderTopColor),this.borderRightColor=ee(e,ase,t.borderRightColor),this.borderBottomColor=ee(e,Ase,t.borderBottomColor),this.borderLeftColor=ee(e,lse,t.borderLeftColor),this.borderTopLeftRadius=ee(e,cse,t.borderTopLeftRadius),this.borderTopRightRadius=ee(e,hse,t.borderTopRightRadius),this.borderBottomRightRadius=ee(e,use,t.borderBottomRightRadius),this.borderBottomLeftRadius=ee(e,dse,t.borderBottomLeftRadius),this.borderTopStyle=ee(e,fse,t.borderTopStyle),this.borderRightStyle=ee(e,pse,t.borderRightStyle),this.borderBottomStyle=ee(e,gse,t.borderBottomStyle),this.borderLeftStyle=ee(e,mse,t.borderLeftStyle),this.borderTopWidth=ee(e,vse,t.borderTopWidth),this.borderRightWidth=ee(e,yse,t.borderRightWidth),this.borderBottomWidth=ee(e,bse,t.borderBottomWidth),this.borderLeftWidth=ee(e,wse,t.borderLeftWidth),this.boxShadow=ee(e,foe,t.boxShadow),this.color=ee(e,Cse,t.color),this.direction=ee(e,Bse,t.direction),this.display=ee(e,xse,t.display),this.float=ee(e,Sse,t.cssFloat),this.fontFamily=ee(e,ioe,t.fontFamily),this.fontSize=ee(e,soe,t.fontSize),this.fontStyle=ee(e,Aoe,t.fontStyle),this.fontVariant=ee(e,aoe,t.fontVariant),this.fontWeight=ee(e,ooe,t.fontWeight),this.letterSpacing=ee(e,Ese,t.letterSpacing),this.lineBreak=ee(e,Fse,t.lineBreak),this.lineHeight=ee(e,Tse,t.lineHeight),this.listStyleImage=ee(e,Pse,t.listStyleImage),this.listStylePosition=ee(e,Ose,t.listStylePosition),this.listStyleType=ee(e,g1,t.listStyleType),this.marginTop=ee(e,Ise,t.marginTop),this.marginRight=ee(e,Use,t.marginRight),this.marginBottom=ee(e,kse,t.marginBottom),this.marginLeft=ee(e,Dse,t.marginLeft),this.opacity=ee(e,toe,t.opacity);var s=ee(e,Qse,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ee(e,Mse,t.overflowWrap),this.paddingTop=ee(e,Lse,t.paddingTop),this.paddingRight=ee(e,Nse,t.paddingRight),this.paddingBottom=ee(e,Rse,t.paddingBottom),this.paddingLeft=ee(e,Hse,t.paddingLeft),this.paintOrder=ee(e,poe,t.paintOrder),this.position=ee(e,jse,t.position),this.textAlign=ee(e,$se,t.textAlign),this.textDecorationColor=ee(e,noe,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=ee(e,roe,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=ee(e,Kse,t.textShadow),this.textTransform=ee(e,Gse,t.textTransform),this.transform=ee(e,Vse,t.transform),this.transformOrigin=ee(e,Jse,t.transformOrigin),this.visibility=ee(e,Zse,t.visibility),this.webkitTextStrokeColor=ee(e,goe,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=ee(e,moe,t.webkitTextStrokeWidth),this.wordBreak=ee(e,qse,t.wordBreak),this.zIndex=ee(e,eoe,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return $s(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return Mt(this.display,4)||Mt(this.display,33554432)||Mt(this.display,268435456)||Mt(this.display,536870912)||Mt(this.display,67108864)||Mt(this.display,134217728)},n}(),yoe=function(){function n(e,t){this.content=ee(e,loe,t.content),this.quotes=ee(e,doe,t.quotes)}return n}(),M_=function(){function n(e,t){this.counterIncrement=ee(e,coe,t.counterIncrement),this.counterReset=ee(e,hoe,t.counterReset)}return n}(),ee=function(n,e,t){var r=new zP,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;r.write(i);var s=new WP(r.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(n,je(o)?o.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Jg.parse(n,s.parseComponentValue());case"color":return Hs.parse(n,s.parseComponentValue());case"image":return Hw.parse(n,s.parseComponentValue());case"length":var a=s.parseComponentValue();return zs(a)?a:Zt;case"length-percentage":var A=s.parseComponentValue();return Pt(A)?A:Zt;case"time":return uO.parse(n,s.parseComponentValue())}break}},boe="data-html2canvas-debug",woe=function(n){var e=n.getAttribute(boe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},m1=function(n,e){var t=woe(n);return t===1||e===t},fi=function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,m1(t,3))debugger;this.styles=new voe(e,window.getComputedStyle(t,null)),b1(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Xg(this.context,t),m1(t,4)&&(this.flags|=16)}return n}(),Coe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",L_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Lu=0;Lu<L_.length;Lu++)Zl[L_.charCodeAt(Lu)]=Lu;var Boe=function(n){var e=n.length*.75,t=n.length,r,i=0,s,o,a,A;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<t;r+=4)s=Zl[n.charCodeAt(r)],o=Zl[n.charCodeAt(r+1)],a=Zl[n.charCodeAt(r+2)],A=Zl[n.charCodeAt(r+3)],l[i++]=s<<2|o>>4,l[i++]=(o&15)<<4|a>>2,l[i++]=(a&3)<<6|A&63;return c},xoe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},_oe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},Go=5,$w=11,z0=2,Soe=$w-Go,dO=65536>>Go,Eoe=1<<Go,W0=Eoe-1,Foe=1024>>Go,Toe=dO+Foe,Poe=Toe,Ooe=32,Ioe=Poe+Ooe,Uoe=65536>>$w,koe=1<<Soe,Doe=koe-1,N_=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},Qoe=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},Moe=function(n,e){var t=Boe(n),r=Array.isArray(t)?_oe(t):new Uint32Array(t),i=Array.isArray(t)?xoe(t):new Uint16Array(t),s=24,o=N_(i,s/2,r[4]/2),a=r[5]===2?N_(i,(s+r[4])/2):Qoe(r,Math.ceil((s+r[4])/4));return new Loe(r[0],r[1],r[2],r[3],o,a)},Loe=function(){function n(e,t,r,i,s,o){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Go],t=(t<<z0)+(e&W0),this.data[t];if(e<=65535)return t=this.index[dO+(e-55296>>Go)],t=(t<<z0)+(e&W0),this.data[t];if(e<this.highStart)return t=Ioe-Uoe+(e>>$w),t=this.index[t],t+=e>>Go&Doe,t=this.index[t],t=(t<<z0)+(e&W0),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n}(),R_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Noe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Nu=0;Nu<R_.length;Nu++)Noe[R_.charCodeAt(Nu)]=Nu;var Roe=1,X0=2,Y0=3,H_=4,$_=5,Hoe=7,j_=8,J0=9,Z0=10,K_=11,G_=12,V_=13,z_=14,q0=15,$oe=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},joe=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var o=n[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},Koe=Moe(Coe),or="×",ev="÷",Goe=function(n){return Koe.get(n)},Voe=function(n,e,t){var r=t-2,i=e[r],s=e[t-1],o=e[t];if(s===X0&&o===Y0)return or;if(s===X0||s===Y0||s===H_||o===X0||o===Y0||o===H_)return ev;if(s===j_&&[j_,J0,K_,G_].indexOf(o)!==-1||(s===K_||s===J0)&&(o===J0||o===Z0)||(s===G_||s===Z0)&&o===Z0||o===V_||o===$_||o===Hoe||s===Roe)return or;if(s===V_&&o===z_){for(;i===$_;)i=e[--r];if(i===z_)return or}if(s===q0&&o===q0){for(var a=0;i===q0;)a++,i=e[--r];if(a%2===0)return or}return ev},zoe=function(n){var e=$oe(n),t=e.length,r=0,i=0,s=e.map(Goe);return{next:function(){if(r>=t)return{done:!0,value:null};for(var o=or;r<t&&(o=Voe(e,s,++r))===or;);if(o!==or||r===t){var a=joe.apply(null,e.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},Woe=function(n){for(var e=zoe(n),t=[],r;!(r=e.next()).done;)r.value&&t.push(r.value.slice());return t},Xoe=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var r=n.createElement("boundtest");r.style.height=e+"px",r.style.display="block",n.body.appendChild(r),t.selectNode(r);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(n.body.removeChild(r),s===e)return!0}}return!1},Yoe=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=Yg(r.data).map(function(A){return _t(A)}),s=0,o={},a=i.every(function(A,c){t.setStart(r,s),t.setEnd(r,s+A.length);var l=t.getBoundingClientRect();s+=A.length;var h=l.x>o.x||l.y>o.y;return o=l,c===0?!0:h});return n.body.removeChild(e),a},Joe=function(){return typeof new Image().crossOrigin<"u"},Zoe=function(){return typeof new XMLHttpRequest().responseType=="string"},qoe=function(n){var e=new Image,t=n.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},W_=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},eae=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var o=v1(t,t,0,0,i);return r.fillStyle="red",r.fillRect(0,0,t,t),X_(o).then(function(a){r.drawImage(a,0,0);var A=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var c=n.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=t+"px",W_(A)?X_(v1(t,t,0,0,c)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),W_(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},v1=function(n,e,t,r,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",n.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",t.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(i),o},X_=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Yt={get SUPPORT_RANGE_BOUNDS(){var n=Xoe(document);return Object.defineProperty(Yt,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=Yt.SUPPORT_RANGE_BOUNDS&&Yoe(document);return Object.defineProperty(Yt,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=qoe(document);return Object.defineProperty(Yt,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?eae(document):Promise.resolve(!1);return Object.defineProperty(Yt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=Joe();return Object.defineProperty(Yt,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=Zoe();return Object.defineProperty(Yt,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Yt,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Yt,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},yc=function(){function n(e,t){this.text=e,this.bounds=t}return n}(),tae=function(n,e,t,r){var i=iae(e,t),s=[],o=0;return i.forEach(function(a){if(t.textDecorationLine.length||a.trim().length>0)if(Yt.SUPPORT_RANGE_BOUNDS){var A=Y_(r,o,a.length).getClientRects();if(A.length>1){var c=jw(a),l=0;c.forEach(function(u){s.push(new yc(u,Wi.fromDOMRectList(n,Y_(r,l+o,u.length).getClientRects()))),l+=u.length})}else s.push(new yc(a,Wi.fromDOMRectList(n,A)))}else{var h=r.splitText(a.length);s.push(new yc(a,nae(n,r))),r=h}else Yt.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));o+=a.length}),s},nae=function(n,e){var t=e.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=Xg(n,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return Wi.EMPTY},Y_=function(n,e,t){var r=n.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(n,e),i.setEnd(n,e+t),i},jw=function(n){if(Yt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return Woe(n)},rae=function(n,e){if(Yt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(r){return r.segment})}return oae(n,e)},iae=function(n,e){return e.letterSpacing!==0?jw(n):rae(n,e)},sae=[32,160,4961,65792,65793,4153,4241],oae=function(n,e){for(var t=Ure(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var o=i.value.slice(),a=Yg(o),A="";a.forEach(function(c){sae.indexOf(c)===-1?A+=_t(c):(A.length&&r.push(A),r.push(_t(c)),A="")}),A.length&&r.push(A)}};!(i=t.next()).done;)s();return r},aae=function(){function n(e,t,r){this.text=Aae(t.data,r.textTransform),this.textBounds=tae(e,this.text,r,t)}return n}(),Aae=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(lae,cae);case 2:return n.toUpperCase();default:return n}},lae=/(^|\s|:|-|\(|\))([a-z])/g,cae=function(n,e,t){return n.length>0?e+t.toUpperCase():n},fO=function(n){Wr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(fi),pO=function(n){Wr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(fi),gO=function(n){Wr(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=new XMLSerializer,o=Xg(t,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(fi),mO=function(n){Wr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e}(fi),y1=function(n){Wr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(fi),hae=[{type:15,flags:0,unit:"px",number:3}],uae=[{type:16,flags:0,number:50}],dae=function(n){return n.width>n.height?new Wi(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new Wi(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},fae=function(n){var e=n.type===pae?new Array(n.value.length+1).join("•"):n.value;return e.length===0?n.placeholder||"":e},dp="checkbox",fp="radio",pae="password",J_=707406591,Kw=function(n){Wr(e,n);function e(t,r){var i=n.call(this,t,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=fae(r),(i.type===dp||i.type===fp)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=dae(i.bounds)),i.type){case dp:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=hae;break;case fp:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=uae;break}return i}return e}(fi),vO=function(n){Wr(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(fi),yO=function(n){Wr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e}(fi),bO=function(n){Wr(e,n);function e(t,r){var i=n.call(this,t,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=CO(t,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?mc(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Hi.TRANSPARENT,o=r.contentWindow.document.body?mc(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):Hi.TRANSPARENT;i.backgroundColor=$s(s)?$s(o)?i.styles.backgroundColor:o:s}}catch{}return i}return e}(fi),gae=["OL","UL","MENU"],kd=function(n,e,t,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,BO(i)&&i.data.trim().length>0)t.textNodes.push(new aae(n,i,t.styles));else if(lA(i))if(EO(i)&&i.assignedNodes)i.assignedNodes().forEach(function(a){return kd(n,a,t,r)});else{var o=wO(n,i);o.styles.isVisible()&&(mae(i,o,r)?o.flags|=4:vae(o.styles)&&(o.flags|=2),gae.indexOf(i.tagName)!==-1&&(o.flags|=8),t.elements.push(o),i.slot,i.shadowRoot?kd(n,i.shadowRoot,o,r):!pp(i)&&!xO(i)&&!gp(i)&&kd(n,i,o,r))}},wO=function(n,e){return w1(e)?new fO(n,e):_O(e)?new pO(n,e):xO(e)?new gO(n,e):yae(e)?new mO(n,e):bae(e)?new y1(n,e):wae(e)?new Kw(n,e):gp(e)?new vO(n,e):pp(e)?new yO(n,e):SO(e)?new bO(n,e):new fi(n,e)},CO=function(n,e){var t=wO(n,e);return t.flags|=4,kd(n,e,t,t),t},mae=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Gw(n)&&t.styles.isTransparent()},vae=function(n){return n.isPositioned()||n.isFloating()},BO=function(n){return n.nodeType===Node.TEXT_NODE},lA=function(n){return n.nodeType===Node.ELEMENT_NODE},b1=function(n){return lA(n)&&typeof n.style<"u"&&!Dd(n)},Dd=function(n){return typeof n.className=="object"},yae=function(n){return n.tagName==="LI"},bae=function(n){return n.tagName==="OL"},wae=function(n){return n.tagName==="INPUT"},Cae=function(n){return n.tagName==="HTML"},xO=function(n){return n.tagName==="svg"},Gw=function(n){return n.tagName==="BODY"},_O=function(n){return n.tagName==="CANVAS"},Z_=function(n){return n.tagName==="VIDEO"},w1=function(n){return n.tagName==="IMG"},SO=function(n){return n.tagName==="IFRAME"},q_=function(n){return n.tagName==="STYLE"},Bae=function(n){return n.tagName==="SCRIPT"},pp=function(n){return n.tagName==="TEXTAREA"},gp=function(n){return n.tagName==="SELECT"},EO=function(n){return n.tagName==="SLOT"},eS=function(n){return n.tagName.indexOf("-")>0},xae=function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(r){return t.counters[r].pop()})},n.prototype.parse=function(e){var t=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(a){var A=t.counters[a.counter];A&&a.increment!==0&&(s=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=a.increment)});var o=[];return s&&i.forEach(function(a){var A=t.counters[a.counter];o.push(a.counter),A||(A=t.counters[a.counter]=[]),A.push(a.reset)}),o},n}(),tS={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},nS={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},_ae={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Sae={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Da=function(n,e,t,r,i,s){return n<e||n>t?qc(n,i,s.length>0):r.integers.reduce(function(o,a,A){for(;n>=a;)n-=a,o+=r.values[A];return o},"")+s},FO=function(n,e,t,r){var i="";do t||n--,i=r(n)+i,n/=e;while(n*e>=e);return i},Ct=function(n,e,t,r,i){var s=t-e+1;return(n<0?"-":"")+(FO(Math.abs(n),s,r,function(o){return _t(Math.floor(o%s)+e)})+i)},fo=function(n,e,t){t===void 0&&(t=". ");var r=e.length;return FO(Math.abs(n),r,!1,function(i){return e[Math.floor(i%r)]})+t},za=1,gs=2,ms=4,ql=8,xi=function(n,e,t,r,i,s){if(n<-9999||n>9999)return qc(n,4,i.length>0);var o=Math.abs(n),a=i;if(o===0)return e[0]+a;for(var A=0;o>0&&A<=4;A++){var c=o%10;c===0&&Mt(s,za)&&a!==""?a=e[c]+a:c>1||c===1&&A===0||c===1&&A===1&&Mt(s,gs)||c===1&&A===1&&Mt(s,ms)&&n>100||c===1&&A>1&&Mt(s,ql)?a=e[c]+(A>0?t[A-1]:"")+a:c===1&&A>0&&(a=t[A-1]+a),o=Math.floor(o/10)}return(n<0?r:"")+a},rS="十百千萬",iS="拾佰仟萬",sS="マイナス",tv="마이너스",qc=function(n,e,t){var r=t?". ":"",i=t?"、":"",s=t?", ":"",o=t?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var a=Ct(n,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return fo(n,"〇一二三四五六七八九",i);case 6:return Da(n,1,3999,tS,3,r).toLowerCase();case 7:return Da(n,1,3999,tS,3,r);case 8:return Ct(n,945,969,!1,r);case 9:return Ct(n,97,122,!1,r);case 10:return Ct(n,65,90,!1,r);case 11:return Ct(n,1632,1641,!0,r);case 12:case 49:return Da(n,1,9999,nS,3,r);case 35:return Da(n,1,9999,nS,3,r).toLowerCase();case 13:return Ct(n,2534,2543,!0,r);case 14:case 30:return Ct(n,6112,6121,!0,r);case 15:return fo(n,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return fo(n,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return xi(n,"零一二三四五六七八九",rS,"負",i,gs|ms|ql);case 47:return xi(n,"零壹貳參肆伍陸柒捌玖",iS,"負",i,za|gs|ms|ql);case 42:return xi(n,"零一二三四五六七八九",rS,"负",i,gs|ms|ql);case 41:return xi(n,"零壹贰叁肆伍陆柒捌玖",iS,"负",i,za|gs|ms|ql);case 26:return xi(n,"〇一二三四五六七八九","十百千万",sS,i,0);case 25:return xi(n,"零壱弐参四伍六七八九","拾百千万",sS,i,za|gs|ms);case 31:return xi(n,"영일이삼사오육칠팔구","십백천만",tv,s,za|gs|ms);case 33:return xi(n,"零一二三四五六七八九","十百千萬",tv,s,0);case 32:return xi(n,"零壹貳參四五六七八九","拾百千",tv,s,za|gs|ms);case 18:return Ct(n,2406,2415,!0,r);case 20:return Da(n,1,19999,Sae,3,r);case 21:return Ct(n,2790,2799,!0,r);case 22:return Ct(n,2662,2671,!0,r);case 22:return Da(n,1,10999,_ae,3,r);case 23:return fo(n,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return fo(n,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Ct(n,3302,3311,!0,r);case 28:return fo(n,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return fo(n,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return Ct(n,3792,3801,!0,r);case 37:return Ct(n,6160,6169,!0,r);case 38:return Ct(n,4160,4169,!0,r);case 39:return Ct(n,2918,2927,!0,r);case 40:return Ct(n,1776,1785,!0,r);case 43:return Ct(n,3046,3055,!0,r);case 44:return Ct(n,3174,3183,!0,r);case 45:return Ct(n,3664,3673,!0,r);case 46:return Ct(n,3872,3881,!0,r);case 3:default:return Ct(n,48,57,!0,r)}},TO="data-html2canvas-ignore",oS=function(){function n(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new xae,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var r=this,i=Eae(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=i.contentWindow,A=a.document,c=Pae(i).then(function(){return bn(r,void 0,void 0,function(){var l,h;return An(this,function(u){switch(u.label){case 0:return this.scrolledElements.forEach(kae),a&&(a.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==t.top||a.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-t.left,a.scrollY-t.top,0,0))),l=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:u.sent(),u.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Tae(A)]:[3,4];case 3:u.sent(),u.label=4;case 4:return typeof l=="function"?[2,Promise.resolve().then(function(){return l(A,h)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(Iae(document.doctype)+"<html></html>"),Uae(this.referenceElement.ownerDocument,s,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},n.prototype.createElementClone=function(e){if(m1(e,2))debugger;if(_O(e))return this.createCanvasClone(e);if(Z_(e))return this.createVideoClone(e);if(q_(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return w1(t)&&(w1(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),eS(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return nv(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var a=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(a){var A=a.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},n.prototype.appendChildNode=function(e,t,r){(!lA(t)||!Bae(t)&&!t.hasAttribute(TO)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!lA(t)||!q_(t))&&e.appendChild(this.cloneNode(t,r))},n.prototype.cloneChildNodes=function(e,t,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(lA(s)&&EO(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(a){return i.appendChildNode(t,a,r)})}else this.appendChildNode(t,s,r)},n.prototype.cloneNode=function(e,t){if(BO(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&lA(e)&&(b1(e)||Dd(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&b1(i)&&(this.clonedReferenceElement=i),Gw(i)&&Mae(i);var A=this.counters.parse(new M_(this.context,s)),c=this.resolvePseudoContent(e,i,o,bc.BEFORE);eS(e)&&(t=!0),Z_(e)||this.cloneChildNodes(e,i,t),c&&i.insertBefore(c,i.firstChild);var l=this.resolvePseudoContent(e,i,a,bc.AFTER);return l&&i.appendChild(l),this.counters.pop(A),(s&&(this.options.copyStyles||Dd(e))&&!SO(e)||t)&&nv(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(pp(e)||gp(e))&&(pp(i)||gp(i))&&(i.value=e.value),i}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,r,i){var s=this;if(r){var o=r.content,a=t.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new M_(this.context,r));var A=new yoe(this.context,r),c=a.createElement("html2canvaspseudoelement");nv(r,c),A.content.forEach(function(h){if(h.type===0)c.appendChild(a.createTextNode(h.value));else if(h.type===22){var u=a.createElement("img");u.src=h.value,u.style.opacity="1",c.appendChild(u)}else if(h.type===18){if(h.name==="attr"){var d=h.values.filter(je);d.length&&c.appendChild(a.createTextNode(e.getAttribute(d[0].value)||""))}else if(h.name==="counter"){var p=h.values.filter(LA),f=p[0],v=p[1];if(f&&je(f)){var m=s.counters.getCounterValue(f.value),y=v&&je(v)?g1.parse(s.context,v.value):3;c.appendChild(a.createTextNode(qc(m,y,!1)))}}else if(h.name==="counters"){var w=h.values.filter(LA),f=w[0],C=w[1],v=w[2];if(f&&je(f)){var S=s.counters.getCounterValues(f.value),x=v&&je(v)?g1.parse(s.context,v.value):3,E=C&&C.type===0?C.value:"",T=S.map(function(U){return qc(U,x,!1)}).join(E);c.appendChild(a.createTextNode(T))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(a.createTextNode(Q_(A.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(Q_(A.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(h.value))}}),c.className=C1+" "+B1;var l=i===bc.BEFORE?" "+C1:" "+B1;return Dd(t)?t.className.baseValue+=l:t.className+=l,c}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n}(),bc;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(bc||(bc={}));var Eae=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(TO,"true"),n.body.appendChild(t),t},Fae=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},Tae=function(n){return Promise.all([].slice.call(n.images,0).map(Fae))},Pae=function(n){return new Promise(function(e,t){var r=n.contentWindow;if(!r)return t("No window assigned for iframe");var i=r.document;r.onload=n.onload=function(){r.onload=n.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},Oae=["all","d","content"],nv=function(n,e){for(var t=n.length-1;t>=0;t--){var r=n.item(t);Oae.indexOf(r)===-1&&e.style.setProperty(r,n.getPropertyValue(r))}return e},Iae=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},Uae=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},kae=function(n){var e=n[0],t=n[1],r=n[2];e.scrollLeft=t,e.scrollTop=r},Dae=":before",Qae=":after",C1="___html2canvas___pseudoelement_before",B1="___html2canvas___pseudoelement_after",aS=`{
    content: "" !important;
    display: none !important;
}`,Mae=function(n){Lae(n,"."+C1+Dae+aS+`
         .`+B1+Qae+aS)},Lae=function(n,e){var t=n.ownerDocument;if(t){var r=t.createElement("style");r.textContent=e,n.appendChild(r)}},PO=function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n}(),Nae=function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(iv(e)||jae(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return bn(this,void 0,void 0,function(){var t,r,i,s,o=this;return An(this,function(a){switch(a.label){case 0:return t=PO.isSameOrigin(e),r=!rv(e)&&this._options.useCORS===!0&&Yt.SUPPORT_CORS_IMAGES&&!t,i=!rv(e)&&!t&&!iv(e)&&typeof this._options.proxy=="string"&&Yt.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!rv(e)&&!iv(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,c){var l=new Image;l.onload=function(){return A(l)},l.onerror=c,(Kae(s)||r)&&(l.crossOrigin="anonymous"),l.src=s,l.complete===!0&&setTimeout(function(){return A(l)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,o){var a=Yt.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(a==="text")s(A.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(u){return o(u)},!1),h.readAsDataURL(A.response)}else o("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=o;var c=r.indexOf("?")>-1?"&":"?";if(A.open("GET",""+r+c+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=a),t._options.imageTimeout){var l=t._options.imageTimeout;A.timeout=l,A.ontimeout=function(){return o("Timed out ("+l+"ms) proxying "+i)}}A.send()})},n}(),Rae=/^data:image\/svg\+xml/i,Hae=/^data:image\/.*;base64,/i,$ae=/^data:image\/.*/i,jae=function(n){return Yt.SUPPORT_SVG_DRAWING||!Gae(n)},rv=function(n){return $ae.test(n)},Kae=function(n){return Hae.test(n)},iv=function(n){return n.substr(0,4)==="blob"},Gae=function(n){return n.substr(-3).toLowerCase()==="svg"||Rae.test(n)},q=function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n}(),Qa=function(n,e,t){return new q(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},Ru=function(){function n(e,t,r,i){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=i}return n.prototype.subdivide=function(e,t){var r=Qa(this.start,this.startControl,e),i=Qa(this.startControl,this.endControl,e),s=Qa(this.endControl,this.end,e),o=Qa(r,i,e),a=Qa(i,s,e),A=Qa(o,a,e);return t?new n(this.start,r,o,A):new n(A,a,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n}(),lr=function(n){return n.type===1},Vae=function(){function n(e){var t=e.styles,r=e.bounds,i=Jl(t.borderTopLeftRadius,r.width,r.height),s=i[0],o=i[1],a=Jl(t.borderTopRightRadius,r.width,r.height),A=a[0],c=a[1],l=Jl(t.borderBottomRightRadius,r.width,r.height),h=l[0],u=l[1],d=Jl(t.borderBottomLeftRadius,r.width,r.height),p=d[0],f=d[1],v=[];v.push((s+A)/r.width),v.push((p+h)/r.width),v.push((o+f)/r.height),v.push((c+u)/r.height);var m=Math.max.apply(Math,v);m>1&&(s/=m,o/=m,A/=m,c/=m,h/=m,u/=m,p/=m,f/=m);var y=r.width-A,w=r.height-u,C=r.width-h,S=r.height-f,x=t.borderTopWidth,E=t.borderRightWidth,T=t.borderBottomWidth,P=t.borderLeftWidth,F=Ze(t.paddingTop,e.bounds.width),U=Ze(t.paddingRight,e.bounds.width),I=Ze(t.paddingBottom,e.bounds.width),D=Ze(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?st(r.left+P/3,r.top+x/3,s-P/3,o-x/3,De.TOP_LEFT):new q(r.left+P/3,r.top+x/3),this.topRightBorderDoubleOuterBox=s>0||o>0?st(r.left+y,r.top+x/3,A-E/3,c-x/3,De.TOP_RIGHT):new q(r.left+r.width-E/3,r.top+x/3),this.bottomRightBorderDoubleOuterBox=h>0||u>0?st(r.left+C,r.top+w,h-E/3,u-T/3,De.BOTTOM_RIGHT):new q(r.left+r.width-E/3,r.top+r.height-T/3),this.bottomLeftBorderDoubleOuterBox=p>0||f>0?st(r.left+P/3,r.top+S,p-P/3,f-T/3,De.BOTTOM_LEFT):new q(r.left+P/3,r.top+r.height-T/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?st(r.left+P*2/3,r.top+x*2/3,s-P*2/3,o-x*2/3,De.TOP_LEFT):new q(r.left+P*2/3,r.top+x*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?st(r.left+y,r.top+x*2/3,A-E*2/3,c-x*2/3,De.TOP_RIGHT):new q(r.left+r.width-E*2/3,r.top+x*2/3),this.bottomRightBorderDoubleInnerBox=h>0||u>0?st(r.left+C,r.top+w,h-E*2/3,u-T*2/3,De.BOTTOM_RIGHT):new q(r.left+r.width-E*2/3,r.top+r.height-T*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||f>0?st(r.left+P*2/3,r.top+S,p-P*2/3,f-T*2/3,De.BOTTOM_LEFT):new q(r.left+P*2/3,r.top+r.height-T*2/3),this.topLeftBorderStroke=s>0||o>0?st(r.left+P/2,r.top+x/2,s-P/2,o-x/2,De.TOP_LEFT):new q(r.left+P/2,r.top+x/2),this.topRightBorderStroke=s>0||o>0?st(r.left+y,r.top+x/2,A-E/2,c-x/2,De.TOP_RIGHT):new q(r.left+r.width-E/2,r.top+x/2),this.bottomRightBorderStroke=h>0||u>0?st(r.left+C,r.top+w,h-E/2,u-T/2,De.BOTTOM_RIGHT):new q(r.left+r.width-E/2,r.top+r.height-T/2),this.bottomLeftBorderStroke=p>0||f>0?st(r.left+P/2,r.top+S,p-P/2,f-T/2,De.BOTTOM_LEFT):new q(r.left+P/2,r.top+r.height-T/2),this.topLeftBorderBox=s>0||o>0?st(r.left,r.top,s,o,De.TOP_LEFT):new q(r.left,r.top),this.topRightBorderBox=A>0||c>0?st(r.left+y,r.top,A,c,De.TOP_RIGHT):new q(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||u>0?st(r.left+C,r.top+w,h,u,De.BOTTOM_RIGHT):new q(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=p>0||f>0?st(r.left,r.top+S,p,f,De.BOTTOM_LEFT):new q(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||o>0?st(r.left+P,r.top+x,Math.max(0,s-P),Math.max(0,o-x),De.TOP_LEFT):new q(r.left+P,r.top+x),this.topRightPaddingBox=A>0||c>0?st(r.left+Math.min(y,r.width-E),r.top+x,y>r.width+E?0:Math.max(0,A-E),Math.max(0,c-x),De.TOP_RIGHT):new q(r.left+r.width-E,r.top+x),this.bottomRightPaddingBox=h>0||u>0?st(r.left+Math.min(C,r.width-P),r.top+Math.min(w,r.height-T),Math.max(0,h-E),Math.max(0,u-T),De.BOTTOM_RIGHT):new q(r.left+r.width-E,r.top+r.height-T),this.bottomLeftPaddingBox=p>0||f>0?st(r.left+P,r.top+Math.min(S,r.height-T),Math.max(0,p-P),Math.max(0,f-T),De.BOTTOM_LEFT):new q(r.left+P,r.top+r.height-T),this.topLeftContentBox=s>0||o>0?st(r.left+P+D,r.top+x+F,Math.max(0,s-(P+D)),Math.max(0,o-(x+F)),De.TOP_LEFT):new q(r.left+P+D,r.top+x+F),this.topRightContentBox=A>0||c>0?st(r.left+Math.min(y,r.width+P+D),r.top+x+F,y>r.width+P+D?0:A-P+D,c-(x+F),De.TOP_RIGHT):new q(r.left+r.width-(E+U),r.top+x+F),this.bottomRightContentBox=h>0||u>0?st(r.left+Math.min(C,r.width-(P+D)),r.top+Math.min(w,r.height+x+F),Math.max(0,h-(E+U)),u-(T+I),De.BOTTOM_RIGHT):new q(r.left+r.width-(E+U),r.top+r.height-(T+I)),this.bottomLeftContentBox=p>0||f>0?st(r.left+P+D,r.top+S,Math.max(0,p-(P+D)),f-(T+I),De.BOTTOM_LEFT):new q(r.left+P+D,r.top+r.height-(T+I))}return n}(),De;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(De||(De={}));var st=function(n,e,t,r,i){var s=4*((Math.sqrt(2)-1)/3),o=t*s,a=r*s,A=n+t,c=e+r;switch(i){case De.TOP_LEFT:return new Ru(new q(n,c),new q(n,c-a),new q(A-o,e),new q(A,e));case De.TOP_RIGHT:return new Ru(new q(n,e),new q(n+o,e),new q(A,c-a),new q(A,c));case De.BOTTOM_RIGHT:return new Ru(new q(A,e),new q(A,e+a),new q(n+o,c),new q(n,c));case De.BOTTOM_LEFT:default:return new Ru(new q(A,c),new q(A-o,c),new q(n,e+a),new q(n,e))}},mp=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},zae=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},vp=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},Wae=function(){function n(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return n}(),Hu=function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n}(),Xae=function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n}(),Yae=function(n){return n.type===0},OO=function(n){return n.type===1},Jae=function(n){return n.type===2},AS=function(n,e){return n.length===e.length?n.some(function(t,r){return t===e[r]}):!1},Zae=function(n,e,t,r,i){return n.map(function(s,o){switch(o){case 0:return s.add(e,t);case 1:return s.add(e+r,t);case 2:return s.add(e+r,t+i);case 3:return s.add(e,t+i)}return s})},IO=function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n}(),UO=function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Vae(this.container),this.container.styles.opacity<1&&this.effects.push(new Xae(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Wae(r,i,s))}if(this.container.styles.overflowX!==0){var o=mp(this.curves),a=vp(this.curves);AS(o,a)?this.effects.push(new Hu(o,6)):(this.effects.push(new Hu(o,2)),this.effects.push(new Hu(a,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(A){return!OO(A)});if(t||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=mp(r.curves),a=vp(r.curves);AS(o,a)||i.unshift(new Hu(a,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(A){return Mt(A.target,e)})},n}(),x1=function(n,e,t,r){n.container.elements.forEach(function(i){var s=Mt(i.flags,4),o=Mt(i.flags,2),a=new UO(i,n);Mt(i.styles.display,2048)&&r.push(a);var A=Mt(i.flags,8)?[]:r;if(s||o){var c=s||i.styles.isPositioned()?t:e,l=new IO(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var h=i.styles.zIndex.order;if(h<0){var u=0;c.negativeZIndex.some(function(p,f){return h>p.element.container.styles.zIndex.order?(u=f,!1):u>0}),c.negativeZIndex.splice(u,0,l)}else if(h>0){var d=0;c.positiveZIndex.some(function(p,f){return h>=p.element.container.styles.zIndex.order?(d=f+1,!1):d>0}),c.positiveZIndex.splice(d,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else i.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);x1(a,l,s?l:t,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),x1(a,e,t,A);Mt(i.flags,8)&&kO(i,A)})},kO=function(n,e){for(var t=n instanceof y1?n.start:1,r=n instanceof y1?n.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof mO&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=qc(t,s.container.styles.listStyleType,!0),t+=r?-1:1}},qae=function(n){var e=new UO(n,null),t=new IO(e),r=[];return x1(e,t,t,r),kO(e.container,r),t},lS=function(n,e){switch(e){case 0:return ur(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return ur(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return ur(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return ur(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},eAe=function(n,e){switch(e){case 0:return ur(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return ur(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return ur(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return ur(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},tAe=function(n,e){switch(e){case 0:return ur(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return ur(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return ur(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return ur(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},nAe=function(n,e){switch(e){case 0:return $u(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return $u(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return $u(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return $u(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},$u=function(n,e){var t=[];return lr(n)?t.push(n.subdivide(.5,!1)):t.push(n),lr(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},ur=function(n,e,t,r){var i=[];return lr(n)?i.push(n.subdivide(.5,!1)):i.push(n),lr(t)?i.push(t.subdivide(.5,!0)):i.push(t),lr(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),lr(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},DO=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},yp=function(n){var e=n.styles,t=n.bounds,r=Ze(e.paddingLeft,t.width),i=Ze(e.paddingRight,t.width),s=Ze(e.paddingTop,t.width),o=Ze(e.paddingBottom,t.width);return t.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+o))},rAe=function(n,e){return n===0?e.bounds:n===2?yp(e):DO(e)},iAe=function(n,e){return n===0?e.bounds:n===2?yp(e):DO(e)},sv=function(n,e,t){var r=rAe(Wa(n.styles.backgroundOrigin,e),n),i=iAe(Wa(n.styles.backgroundClip,e),n),s=sAe(Wa(n.styles.backgroundSize,e),t,r),o=s[0],a=s[1],A=Jl(Wa(n.styles.backgroundPosition,e),r.width-o,r.height-a),c=oAe(Wa(n.styles.backgroundRepeat,e),A,s,r,i),l=Math.round(r.left+A[0]),h=Math.round(r.top+A[1]);return[c,l,h,o,a]},Ma=function(n){return je(n)&&n.value===bA.AUTO},ju=function(n){return typeof n=="number"},sAe=function(n,e,t){var r=e[0],i=e[1],s=e[2],o=n[0],a=n[1];if(!o)return[0,0];if(Pt(o)&&a&&Pt(a))return[Ze(o,t.width),Ze(a,t.height)];var A=ju(s);if(je(o)&&(o.value===bA.CONTAIN||o.value===bA.COVER)){if(ju(s)){var c=t.width/t.height;return c<s!=(o.value===bA.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var l=ju(r),h=ju(i),u=l||h;if(Ma(o)&&(!a||Ma(a))){if(l&&h)return[r,i];if(!A&&!u)return[t.width,t.height];if(u&&A){var d=l?r:i*s,p=h?i:r/s;return[d,p]}var f=l?r:t.width,v=h?i:t.height;return[f,v]}if(A){var m=0,y=0;return Pt(o)?m=Ze(o,t.width):Pt(a)&&(y=Ze(a,t.height)),Ma(o)?m=y*s:(!a||Ma(a))&&(y=m/s),[m,y]}var w=null,C=null;if(Pt(o)?w=Ze(o,t.width):a&&Pt(a)&&(C=Ze(a,t.height)),w!==null&&(!a||Ma(a))&&(C=l&&h?w/r*i:t.height),C!==null&&Ma(o)&&(w=l&&h?C/i*r:t.width),w!==null&&C!==null)return[w,C];throw new Error("Unable to calculate background-size for element")},Wa=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},oAe=function(n,e,t,r,i){var s=e[0],o=e[1],a=t[0],A=t[1];switch(n){case 2:return[new q(Math.round(r.left),Math.round(r.top+o)),new q(Math.round(r.left+r.width),Math.round(r.top+o)),new q(Math.round(r.left+r.width),Math.round(A+r.top+o)),new q(Math.round(r.left),Math.round(A+r.top+o))];case 3:return[new q(Math.round(r.left+s),Math.round(r.top)),new q(Math.round(r.left+s+a),Math.round(r.top)),new q(Math.round(r.left+s+a),Math.round(r.height+r.top)),new q(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new q(Math.round(r.left+s),Math.round(r.top+o)),new q(Math.round(r.left+s+a),Math.round(r.top+o)),new q(Math.round(r.left+s+a),Math.round(r.top+o+A)),new q(Math.round(r.left+s),Math.round(r.top+o+A))];default:return[new q(Math.round(i.left),Math.round(i.top)),new q(Math.round(i.left+i.width),Math.round(i.top)),new q(Math.round(i.left+i.width),Math.round(i.height+i.top)),new q(Math.round(i.left),Math.round(i.height+i.top))]}},aAe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",cS="Hidden Text",AAe=function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=aAe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(cS)),r.appendChild(s),r.appendChild(i);var a=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(cS)),r.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:a,middle:A}},n.prototype.getMetrics=function(e,t){var r=e+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},n}(),QO=function(){function n(e,t){this.context=e,this.options=t}return n}(),lAe=1e4,cAe=function(n){Wr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new AAe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),Jae(t)&&(this.ctx.globalAlpha=t.opacity),Yae(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),OO(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return bn(this,void 0,void 0,function(){var r;return An(this,function(i){switch(i.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return bn(this,void 0,void 0,function(){return An(this,function(r){switch(r.label){case 0:if(Mt(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,r,i){var s=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var o=jw(t.text);o.reduce(function(a,A){return s.ctx.fillText(A,a,t.bounds.top+i),a+s.ctx.measureText(A).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=pAe(t.fontFamily).join(", "),s=Th(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,r){return bn(this,void 0,void 0,function(){var i,s,o,a,A,c,l,h,u=this;return An(this,function(d){return i=this.createFontStyle(r),s=i[0],o=i[1],a=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,a),c=A.baseline,l=A.middle,h=r.paintOrder,t.textBounds.forEach(function(p){h.forEach(function(f){switch(f){case 0:u.ctx.fillStyle=jt(r.color),u.renderTextWithLetterSpacing(p,r.letterSpacing,c);var v=r.textShadow;v.length&&p.text.trim().length&&(v.slice(0).reverse().forEach(function(m){u.ctx.shadowColor=jt(m.color),u.ctx.shadowOffsetX=m.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=m.offsetY.number*u.options.scale,u.ctx.shadowBlur=m.blur.number,u.renderTextWithLetterSpacing(p,r.letterSpacing,c)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),r.textDecorationLine.length&&(u.ctx.fillStyle=jt(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(m){switch(m){case 1:u.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+c),p.bounds.width,1);break;case 2:u.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:u.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+l),p.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&p.text.trim().length&&(u.ctx.strokeStyle=jt(r.webkitTextStrokeColor),u.ctx.lineWidth=r.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+c)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,r,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=yp(t),o=vp(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return bn(this,void 0,void 0,function(){var r,i,s,o,a,A,y,y,c,l,h,u,C,d,p,S,f,v,m,y,w,C,S;return An(this,function(x){switch(x.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,i=t.curves,s=r.styles,o=0,a=r.textNodes,x.label=1;case 1:return o<a.length?(A=a[o],[4,this.renderTextNode(A,s)]):[3,4];case 2:x.sent(),x.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof fO))return[3,8];x.label=5;case 5:return x.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return y=x.sent(),this.renderReplacedElement(r,i,y),[3,8];case 7:return x.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof pO&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof gO))return[3,12];x.label=9;case 9:return x.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return y=x.sent(),this.renderReplacedElement(r,i,y),[3,12];case 11:return x.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof bO&&r.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:l=x.sent(),r.width&&r.height&&this.ctx.drawImage(l,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),x.label=14;case 14:if(r instanceof Kw&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===dp?r.checked&&(this.ctx.save(),this.path([new q(r.bounds.left+h*.39363,r.bounds.top+h*.79),new q(r.bounds.left+h*.16,r.bounds.top+h*.5549),new q(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new q(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new q(r.bounds.left+h*.72983,r.bounds.top+h*.23),new q(r.bounds.left+h*.84,r.bounds.top+h*.34085),new q(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=jt(J_),this.ctx.fill(),this.ctx.restore()):r.type===fp&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=jt(J_),this.ctx.fill(),this.ctx.restore())),hAe(r)&&r.value.length){switch(u=this.createFontStyle(s),C=u[0],d=u[1],p=this.fontMetrics.getMetrics(C,d).baseline,this.ctx.font=C,this.ctx.fillStyle=jt(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=dAe(r.styles.textAlign),S=yp(r),f=0,r.styles.textAlign){case 1:f+=S.width/2;break;case 2:f+=S.width;break}v=S.add(f,0,0,-S.height/2+1),this.ctx.save(),this.path([new q(S.left,S.top),new q(S.left+S.width,S.top),new q(S.left+S.width,S.top+S.height),new q(S.left,S.top+S.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new yc(r.value,v),s.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Mt(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(m=r.styles.listStyleImage,m.type!==0)return[3,18];y=void 0,w=m.url,x.label=15;case 15:return x.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return y=x.sent(),this.ctx.drawImage(y,r.bounds.left-(y.width+10),r.bounds.top),[3,18];case 17:return x.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(C=this.createFontStyle(s)[0],this.ctx.font=C,this.ctx.fillStyle=jt(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",S=new Wi(r.bounds.left,r.bounds.top+Ze(r.styles.paddingTop,r.bounds.width),r.bounds.width,k_(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new yc(t.listValue,S),s.letterSpacing,k_(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),x.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return bn(this,void 0,void 0,function(){var r,i,m,s,o,m,a,A,m,c,l,m,h,u,m,d,p,m,f,v,m;return An(this,function(y){switch(y.label){case 0:if(Mt(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:y.sent(),r=0,i=t.negativeZIndex,y.label=2;case 2:return r<i.length?(m=i[r],[4,this.renderStack(m)]):[3,5];case 3:y.sent(),y.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:y.sent(),s=0,o=t.nonInlineLevel,y.label=7;case 7:return s<o.length?(m=o[s],[4,this.renderNode(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return s++,[3,7];case 10:a=0,A=t.nonPositionedFloats,y.label=11;case 11:return a<A.length?(m=A[a],[4,this.renderStack(m)]):[3,14];case 12:y.sent(),y.label=13;case 13:return a++,[3,11];case 14:c=0,l=t.nonPositionedInlineLevel,y.label=15;case 15:return c<l.length?(m=l[c],[4,this.renderStack(m)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:h=0,u=t.inlineLevel,y.label=19;case 19:return h<u.length?(m=u[h],[4,this.renderNode(m)]):[3,22];case 20:y.sent(),y.label=21;case 21:return h++,[3,19];case 22:d=0,p=t.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return d<p.length?(m=p[d],[4,this.renderStack(m)]):[3,26];case 24:y.sent(),y.label=25;case 25:return d++,[3,23];case 26:f=0,v=t.positiveZIndex,y.label=27;case 27:return f<v.length?(m=v[f],[4,this.renderStack(m)]):[3,30];case 28:y.sent(),y.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var r=this;t.forEach(function(i,s){var o=lr(i)?i.start:i;s===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),lr(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,r,i,s){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,r,i){var s;if(t.width===r&&t.height===i)return t;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,a=o.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,i);var A=a.getContext("2d");return A.drawImage(t,0,0,t.width,t.height,0,0,r,i),a},e.prototype.renderBackgroundImage=function(t){return bn(this,void 0,void 0,function(){var r,i,s,o,a,A;return An(this,function(c){switch(c.label){case 0:r=t.styles.backgroundImage.length-1,i=function(l){var h,u,d,F,G,V,D,$,T,p,F,G,V,D,$,f,v,m,y,w,C,S,x,E,T,P,F,U,I,D,$,M,G,V,Q,R,B,O,k,L,j,K;return An(this,function(J){switch(J.label){case 0:if(l.type!==0)return[3,5];h=void 0,u=l.url,J.label=1;case 1:return J.trys.push([1,3,,4]),[4,s.context.cache.match(u)];case 2:return h=J.sent(),[3,4];case 3:return J.sent(),s.context.logger.error("Error loading background-image "+u),[3,4];case 4:return h&&(d=sv(t,r,[h.width,h.height,h.width/h.height]),F=d[0],G=d[1],V=d[2],D=d[3],$=d[4],T=s.ctx.createPattern(s.resizeImage(h,D,$),"repeat"),s.renderRepeat(F,T,G,V)),[3,6];case 5:Yie(l)?(p=sv(t,r,[null,null,null]),F=p[0],G=p[1],V=p[2],D=p[3],$=p[4],f=Gie(l.angle,D,$),v=f[0],m=f[1],y=f[2],w=f[3],C=f[4],S=document.createElement("canvas"),S.width=D,S.height=$,x=S.getContext("2d"),E=x.createLinearGradient(m,w,y,C),I_(l.stops,v).forEach(function(Y){return E.addColorStop(Y.stop,jt(Y.color))}),x.fillStyle=E,x.fillRect(0,0,D,$),D>0&&$>0&&(T=s.ctx.createPattern(S,"repeat"),s.renderRepeat(F,T,G,V))):Jie(l)&&(P=sv(t,r,[null,null,null]),F=P[0],U=P[1],I=P[2],D=P[3],$=P[4],M=l.position.length===0?[Rw]:l.position,G=Ze(M[0],D),V=Ze(M[M.length-1],$),Q=Vie(l,G,V,D,$),R=Q[0],B=Q[1],R>0&&B>0&&(O=s.ctx.createRadialGradient(U+G,I+V,0,U+G,I+V,R),I_(l.stops,R*2).forEach(function(Y){return O.addColorStop(Y.stop,jt(Y.color))}),s.path(F),s.ctx.fillStyle=O,R!==B?(k=t.bounds.left+.5*t.bounds.width,L=t.bounds.top+.5*t.bounds.height,j=B/R,K=1/j,s.ctx.save(),s.ctx.translate(k,L),s.ctx.transform(1,0,0,j,0,0),s.ctx.translate(-k,-L),s.ctx.fillRect(U,K*(I-L)+L,D,$*K),s.ctx.restore()):s.ctx.fill())),J.label=6;case 6:return r--,[2]}})},s=this,o=0,a=t.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<a.length?(A=a[o],[5,i(A)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,r,i){return bn(this,void 0,void 0,function(){return An(this,function(s){return this.path(lS(i,r)),this.ctx.fillStyle=jt(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,r,i,s){return bn(this,void 0,void 0,function(){var o,a;return An(this,function(A){switch(A.label){case 0:return r<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return A.sent(),[2];case 2:return o=eAe(s,i),this.path(o),this.ctx.fillStyle=jt(t),this.ctx.fill(),a=tAe(s,i),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return bn(this,void 0,void 0,function(){var r,i,s,o,a,A,c,l,h=this;return An(this,function(u){switch(u.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,i=!$s(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=uAe(Wa(r.backgroundClip,0),t.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),$s(r.backgroundColor)||(this.ctx.fillStyle=jt(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:u.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(d){h.ctx.save();var p=mp(t.curves),f=d.inset?0:lAe,v=Zae(p,-f+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(h.path(p),h.ctx.clip(),h.mask(v)):(h.mask(p),h.ctx.clip(),h.path(v)),h.ctx.shadowOffsetX=d.offsetX.number+f,h.ctx.shadowOffsetY=d.offsetY.number,h.ctx.shadowColor=jt(d.color),h.ctx.shadowBlur=d.blur.number,h.ctx.fillStyle=d.inset?jt(d.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),u.label=2;case 2:a=0,A=0,c=s,u.label=3;case 3:return A<c.length?(l=c[A],l.style!==0&&!$s(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,a,t.curves,2)]:[3,11]):[3,13];case 4:return u.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,a,t.curves,3)];case 6:return u.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,a,t.curves)];case 8:return u.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,a,t.curves)];case 10:u.sent(),u.label=11;case 11:a++,u.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,r,i,s,o){return bn(this,void 0,void 0,function(){var a,A,c,l,h,u,d,p,f,v,m,y,w,C,S,x,S,x;return An(this,function(E){return this.ctx.save(),a=nAe(s,i),A=lS(s,i),o===2&&(this.path(A),this.ctx.clip()),lr(A[0])?(c=A[0].start.x,l=A[0].start.y):(c=A[0].x,l=A[0].y),lr(A[1])?(h=A[1].end.x,u=A[1].end.y):(h=A[1].x,u=A[1].y),i===0||i===2?d=Math.abs(c-h):d=Math.abs(l-u),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(A.slice(0,2)),p=r<3?r*3:r*2,f=r<3?r*2:r,o===3&&(p=r,f=r),v=!0,d<=p*2?v=!1:d<=p*2+f?(m=d/(2*p+f),p*=m,f*=m):(y=Math.floor((d+f)/(p+f)),w=(d-y*p)/(y-1),C=(d-(y+1)*p)/y,f=C<=0||Math.abs(f-w)<Math.abs(f-C)?w:C),v&&(o===3?this.ctx.setLineDash([0,p+f]):this.ctx.setLineDash([p,f])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=jt(t),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(lr(A[0])&&(S=A[3],x=A[0],this.ctx.beginPath(),this.formatPath([new q(S.end.x,S.end.y),new q(x.start.x,x.start.y)]),this.ctx.stroke()),lr(A[1])&&(S=A[1],x=A[2],this.ctx.beginPath(),this.formatPath([new q(S.end.x,S.end.y),new q(x.start.x,x.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return bn(this,void 0,void 0,function(){var r;return An(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=jt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=qae(t),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(QO),hAe=function(n){return n instanceof yO||n instanceof vO?!0:n instanceof Kw&&n.type!==fp&&n.type!==dp},uAe=function(n,e){switch(n){case 0:return mp(e);case 2:return zae(e);case 1:default:return vp(e)}},dAe=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},fAe=["-apple-system","system-ui"],pAe=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return fAe.indexOf(e)===-1}):n},gAe=function(n){Wr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(t){return bn(this,void 0,void 0,function(){var r,i;return An(this,function(s){switch(s.label){case 0:return r=v1(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,mAe(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=jt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(QO),mAe=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},vAe=function(){function n(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,wu([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,wu([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,wu([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,wu([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n}(),yAe=function(){function n(e,t){var r;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new vAe({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new Nae(this,e)}return n.instanceCount=1,n}(),bAe=function(n,e){return e===void 0&&(e={}),wAe(n,e)};typeof window<"u"&&PO.setContext(window);var wAe=function(n,e){return bn(void 0,void 0,void 0,function(){var t,r,i,s,o,a,A,c,l,h,u,d,p,f,v,m,y,w,C,S,E,x,E,T,P,F,U,I,D,$,M,G,V,Q,R,B,O,k,L,j;return An(this,function(K){switch(K.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(T=e.allowTaint)!==null&&T!==void 0?T:!1,imageTimeout:(P=e.imageTimeout)!==null&&P!==void 0?P:15e3,proxy:e.proxy,useCORS:(F=e.useCORS)!==null&&F!==void 0?F:!1},s=r1({logging:(U=e.logging)!==null&&U!==void 0?U:!0,cache:e.cache},i),o={windowWidth:(I=e.windowWidth)!==null&&I!==void 0?I:r.innerWidth,windowHeight:(D=e.windowHeight)!==null&&D!==void 0?D:r.innerHeight,scrollX:($=e.scrollX)!==null&&$!==void 0?$:r.pageXOffset,scrollY:(M=e.scrollY)!==null&&M!==void 0?M:r.pageYOffset},a=new Wi(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new yAe(s,a),c=(G=e.foreignObjectRendering)!==null&&G!==void 0?G:!1,l={allowTaint:(V=e.allowTaint)!==null&&V!==void 0?V:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},A.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),h=new oS(A,n,l),u=h.clonedReferenceElement,u?[4,h.toIFrame(t,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=K.sent(),p=Gw(u)||Cae(u)?Zne(u.ownerDocument):Xg(A,u),f=p.width,v=p.height,m=p.left,y=p.top,w=CAe(A,u,e.backgroundColor),C={canvas:e.canvas,backgroundColor:w,scale:(R=(Q=e.scale)!==null&&Q!==void 0?Q:r.devicePixelRatio)!==null&&R!==void 0?R:1,x:((B=e.x)!==null&&B!==void 0?B:0)+m,y:((O=e.y)!==null&&O!==void 0?O:0)+y,width:(k=e.width)!==null&&k!==void 0?k:Math.ceil(f),height:(L=e.height)!==null&&L!==void 0?L:Math.ceil(v)},c?(A.logger.debug("Document cloned, using foreign object rendering"),E=new gAe(A,C),[4,E.render(u)]):[3,3];case 2:return S=K.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+m+","+y+" with size "+f+"x"+v+" using computed rendering"),A.logger.debug("Starting DOM parsing"),x=CO(A,u),w===x.styles.backgroundColor&&(x.styles.backgroundColor=Hi.TRANSPARENT),A.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),E=new cAe(A,C),[4,E.render(x)];case 4:S=K.sent(),K.label=5;case 5:return(!((j=e.removeContainer)!==null&&j!==void 0)||j)&&(oS.destroy(d)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,S]}})})},CAe=function(n,e,t){var r=e.ownerDocument,i=r.documentElement?mc(n,getComputedStyle(r.documentElement).backgroundColor):Hi.TRANSPARENT,s=r.body?mc(n,getComputedStyle(r.body).backgroundColor):Hi.TRANSPARENT,o=typeof t=="string"?mc(n,t):t===null?Hi.TRANSPARENT:4294967295;return e===r.documentElement?$s(i)?$s(s)?o:s:i:o};const BAe=({canvasTool:n,setTool:e,setpenWidth:t,penWidth:r,penColor:i,lineWidth:s,setLineWidth:o,fontSize:a,setFontSize:A,editor:c,setPenColor:l,colors:h,setColors:u,selectedColor:d,setSelectedColor:p,save:f,load:v})=>{const[m,y]=b.useState(!1),[w,C]=b.useState(!1),S=H.useContext(yr);c==null||c.on("selection:change",$=>{$.shapes.length>0?C(!0):C(!1)});const x=b.useRef(null),E=b.useRef(null),T=b.useRef(null),P=b.useRef(null),F=b.useRef(null),U=b.useRef(null),I=b.useRef(null),D=b.useRef(null);return H.useLayoutEffect(()=>{const $=M=>{var G,V,Q,R,B,O,k,L;!M.ctrlKey&&!M.shiftKey&&!M.altKey&&!M.metaKey&&M.code==="KeyS"?((G=x.current)==null?void 0:G.firstChild).click():!M.ctrlKey&&!M.shiftKey&&!M.altKey&&!M.metaKey&&M.code==="KeyD"?((V=E.current)==null?void 0:V.firstChild).click():!M.ctrlKey&&!M.shiftKey&&!M.altKey&&!M.metaKey&&M.code==="KeyE"?((Q=T.current)==null?void 0:Q.firstChild).click():!M.ctrlKey&&!M.shiftKey&&!M.altKey&&!M.metaKey&&M.code==="KeyA"?((R=P.current)==null?void 0:R.firstChild).click():!M.ctrlKey&&!M.shiftKey&&!M.altKey&&!M.metaKey&&M.code==="KeyT"?((B=F.current)==null?void 0:B.firstChild).click():(M.ctrlKey||M.metaKey)&&!M.shiftKey&&!M.altKey&&M.code==="KeyI"?(M.preventDefault(),((O=U.current)==null?void 0:O.firstChild).click()):(M.ctrlKey||M.metaKey)&&!M.shiftKey&&!M.altKey&&M.code==="KeyS"?(M.preventDefault(),((k=D.current)==null?void 0:k.firstChild).click()):(M.ctrlKey||M.metaKey)&&!M.shiftKey&&!M.altKey&&M.code==="KeyO"&&(M.preventDefault(),((L=I.current)==null?void 0:L.firstChild).click())};return document.body.addEventListener("keydown",$),()=>{document.body.removeEventListener("keydown",$)}},[]),_.jsxs("div",{children:[_.jsx("span",{ref:x,children:_.jsx(uo,{Icon:gZ,isActiveTool:n==="SELECT",onClick:()=>e("SELECT")})}),_.jsx("span",{ref:E,children:_.jsx(L0,{icon:bne,isActiveTool:n===rt.Pencil,onClick:()=>e(rt.Pencil),penWidth:r,setpenWidth:t,penColor:i})}),_.jsx("span",{ref:T,children:_.jsx(L0,{icon:Yne,isActiveTool:n===rt.Line,onClick:()=>e(rt.Line),penWidth:s,setpenWidth:o,penColor:i})}),_.jsx("span",{ref:P,children:_.jsx(L0,{icon:Xne,isActiveTool:n===rt.Arrow,onClick:()=>e(rt.Arrow),penWidth:s,setpenWidth:o,penColor:i})}),_.jsx("span",{ref:F,children:_.jsx(Vne,{icon:Wne,isActiveTool:n==="TEXT",onClick:()=>e("TEXT"),penWidth:a,setpenWidth:A,penColor:i})}),_.jsx(zne,{setPenColor:l,colors:h,setColors:u,selectedColor:d,setSelectedColor:p,children:_.jsx("div",{style:{width:"4rem",height:"4rem",backgroundColor:"var(--semi-color-tertiary-light-hover)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:_.jsx(t1,{color:i,onClick:()=>{},text:i})})}),_.jsx(uo,{Icon:mne,isActiveTool:!1,onClick:()=>c==null?void 0:c.undo()}),_.jsx(uo,{Icon:gne,isActiveTool:!1,onClick:()=>c==null?void 0:c.redo()}),_.jsx(IA,{visible:m,title:S.markbox.clearwarning.title,content:S.markbox.clearwarning.content,okText:S.markbox.clearwarning.ok,cancelText:S.markbox.clearwarning.cancel,onConfirm:()=>{c==null||c.reset(),y(!m),Eo.success(S.markbox.clearwarning.success)},onCancel:()=>{y(!m)},position:"left",children:_.jsx(uo,{Icon:w?dne:une,typeOverride:w?"secondary":"danger",isActiveTool:!1,onClick:()=>w?c==null?void 0:c.selection.delete():y(!m)})}),_.jsx("span",{ref:U,children:_.jsx(uo,{Icon:Jne,isActiveTool:!1,onClick:()=>{const $=document.querySelector("#capture");bAe($).then(M=>{const G=new Date,V=M,Q=document.createElement("a");Q.href=V.toDataURL();const R=G.getFullYear().toString()+(G.getMonth()+1<10?"0":"")+(G.getMonth()+1).toString()+(G.getDate()<10?"0":"")+G.getDate().toString()+G.getHours().toString()+G.getMinutes().toString()+G.getSeconds().toString();Q.download="SMA_"+R+".png",Q.click()})}})}),_.jsx("span",{ref:I,children:_.jsx(uo,{Icon:mZ,isActiveTool:!1,onClick:()=>{v()}})}),_.jsx("span",{ref:D,children:_.jsx(uo,{Icon:fZ,isActiveTool:!1,onClick:()=>{f()}})})]})};var bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xAe(n){var e=n.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var MO={},wp={},LO={},ve={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n._registerNode=n.Konva=n.glob=void 0;var e=Math.PI/180;n.glob=bp!==void 0?bp:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},n.Konva={_global:n.glob,version:"8.3.9",isBrowser:typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]"),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle:t=>n.Konva.angleDeg?t*e:t,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>n.Konva.DD.isDragging,isDragReady:()=>!!n.Konva.DD.node,document:n.glob.document,_injectGlobal(t){n.glob.Konva=t}},n._registerNode=t=>{n.Konva[t.prototype.getClassName()]=t},n.Konva._injectGlobal(n.Konva)})(ve);var bt={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.Transform=void 0;const e=ve;class t{constructor(h=[1,0,0,1,0,0]){this.dirty=!1,this.m=h&&h.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new t(this.m)}copyInto(h){h.m[0]=this.m[0],h.m[1]=this.m[1],h.m[2]=this.m[2],h.m[3]=this.m[3],h.m[4]=this.m[4],h.m[5]=this.m[5]}point(h){var u=this.m;return{x:u[0]*h.x+u[2]*h.y+u[4],y:u[1]*h.x+u[3]*h.y+u[5]}}translate(h,u){return this.m[4]+=this.m[0]*h+this.m[2]*u,this.m[5]+=this.m[1]*h+this.m[3]*u,this}scale(h,u){return this.m[0]*=h,this.m[1]*=h,this.m[2]*=u,this.m[3]*=u,this}rotate(h){var u=Math.cos(h),d=Math.sin(h),p=this.m[0]*u+this.m[2]*d,f=this.m[1]*u+this.m[3]*d,v=this.m[0]*-d+this.m[2]*u,m=this.m[1]*-d+this.m[3]*u;return this.m[0]=p,this.m[1]=f,this.m[2]=v,this.m[3]=m,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(h,u){var d=this.m[0]+this.m[2]*u,p=this.m[1]+this.m[3]*u,f=this.m[2]+this.m[0]*h,v=this.m[3]+this.m[1]*h;return this.m[0]=d,this.m[1]=p,this.m[2]=f,this.m[3]=v,this}multiply(h){var u=this.m[0]*h.m[0]+this.m[2]*h.m[1],d=this.m[1]*h.m[0]+this.m[3]*h.m[1],p=this.m[0]*h.m[2]+this.m[2]*h.m[3],f=this.m[1]*h.m[2]+this.m[3]*h.m[3],v=this.m[0]*h.m[4]+this.m[2]*h.m[5]+this.m[4],m=this.m[1]*h.m[4]+this.m[3]*h.m[5]+this.m[5];return this.m[0]=u,this.m[1]=d,this.m[2]=p,this.m[3]=f,this.m[4]=v,this.m[5]=m,this}invert(){var h=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),u=this.m[3]*h,d=-this.m[1]*h,p=-this.m[2]*h,f=this.m[0]*h,v=h*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),m=h*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=u,this.m[1]=d,this.m[2]=p,this.m[3]=f,this.m[4]=v,this.m[5]=m,this}getMatrix(){return this.m}decompose(){var h=this.m[0],u=this.m[1],d=this.m[2],p=this.m[3],f=h*p-u*d;let v={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(h!=0||u!=0){var m=Math.sqrt(h*h+u*u);v.rotation=u>0?Math.acos(h/m):-Math.acos(h/m),v.scaleX=m,v.scaleY=f/m,v.skewX=(h*d+u*p)/f,v.skewY=0}else if(d!=0||p!=0){var y=Math.sqrt(d*d+p*p);v.rotation=Math.PI/2-(p>0?Math.acos(-d/y):-Math.acos(d/y)),v.scaleX=f/y,v.scaleY=y,v.skewX=0,v.skewY=(h*d+u*p)/f}return v.rotation=n.Util._getRotation(v.rotation),v}}n.Transform=t;var r=Math.PI/180,i=180/Math.PI,s="Konva error: ",o={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},a=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,A=[];const c=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(l){setTimeout(l,60)};n.Util={_isElement:l=>!(!l||l.nodeType!=1),_isFunction:l=>!!(l&&l.constructor&&l.call&&l.apply),_isPlainObject:l=>!!l&&l.constructor===Object,_isArray:l=>Object.prototype.toString.call(l)==="[object Array]",_isNumber:l=>Object.prototype.toString.call(l)==="[object Number]"&&!isNaN(l)&&isFinite(l),_isString:l=>Object.prototype.toString.call(l)==="[object String]",_isBoolean:l=>Object.prototype.toString.call(l)==="[object Boolean]",isObject:l=>l instanceof Object,isValidSelector(l){if(typeof l!="string")return!1;var h=l[0];return h==="#"||h==="."||h===h.toUpperCase()},_sign:l=>l===0||l>0?1:-1,requestAnimFrame(l){A.push(l),A.length===1&&c(function(){const h=A;A=[],h.forEach(function(u){u()})})},createCanvasElement(){var l=document.createElement("canvas");try{l.style=l.style||{}}catch{}return l},createImageElement:()=>document.createElement("img"),_isInDocument(l){for(;l=l.parentNode;)if(l==document)return!0;return!1},_urlToImage(l,h){var u=n.Util.createImageElement();u.onload=function(){h(u)},u.src=l},_rgbToHex:(l,h,u)=>((1<<24)+(l<<16)+(h<<8)+u).toString(16).slice(1),_hexToRgb(l){l=l.replace("#","");var h=parseInt(l,16);return{r:h>>16&255,g:h>>8&255,b:255&h}},getRandomColor(){for(var l=(16777215*Math.random()<<0).toString(16);l.length<6;)l="0"+l;return"#"+l},getRGB(l){var h;return l in o?{r:(h=o[l])[0],g:h[1],b:h[2]}:l[0]==="#"?this._hexToRgb(l.substring(1)):l.substr(0,4)==="rgb("?(h=a.exec(l.replace(/ /g,"")),{r:parseInt(h[1],10),g:parseInt(h[2],10),b:parseInt(h[3],10)}):{r:0,g:0,b:0}},colorToRGBA:l=>(l=l||"black",n.Util._namedColorToRBA(l)||n.Util._hex3ColorToRGBA(l)||n.Util._hex6ColorToRGBA(l)||n.Util._rgbColorToRGBA(l)||n.Util._rgbaColorToRGBA(l)||n.Util._hslColorToRGBA(l)),_namedColorToRBA(l){var h=o[l.toLowerCase()];return h?{r:h[0],g:h[1],b:h[2],a:1}:null},_rgbColorToRGBA(l){if(l.indexOf("rgb(")===0){var h=(l=l.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:h[0],g:h[1],b:h[2],a:1}}},_rgbaColorToRGBA(l){if(l.indexOf("rgba(")===0){var h=(l=l.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((u,d)=>u.slice(-1)==="%"?d===3?parseInt(u)/100:parseInt(u)/100*255:Number(u));return{r:h[0],g:h[1],b:h[2],a:h[3]}}},_hex6ColorToRGBA(l){if(l[0]==="#"&&l.length===7)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:1}},_hex3ColorToRGBA(l){if(l[0]==="#"&&l.length===4)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:1}},_hslColorToRGBA(l){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(l)){const[h,...u]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(l),d=Number(u[0])/360,p=Number(u[1])/100,f=Number(u[2])/100;let v,m,y;if(p===0)return y=255*f,{r:Math.round(y),g:Math.round(y),b:Math.round(y),a:1};v=f<.5?f*(1+p):f+p-f*p;const w=2*f-v,C=[0,0,0];for(let S=0;S<3;S++)m=d+1/3*-(S-1),m<0&&m++,m>1&&m--,y=6*m<1?w+6*(v-w)*m:2*m<1?v:3*m<2?w+(v-w)*(2/3-m)*6:w,C[S]=255*y;return{r:Math.round(C[0]),g:Math.round(C[1]),b:Math.round(C[2]),a:1}}},haveIntersection:(l,h)=>!(h.x>l.x+l.width||h.x+h.width<l.x||h.y>l.y+l.height||h.y+h.height<l.y),cloneObject(l){var h={};for(var u in l)this._isPlainObject(l[u])?h[u]=this.cloneObject(l[u]):this._isArray(l[u])?h[u]=this.cloneArray(l[u]):h[u]=l[u];return h},cloneArray:l=>l.slice(0),degToRad:l=>l*r,radToDeg:l=>l*i,_degToRad:l=>(n.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),n.Util.degToRad(l)),_radToDeg:l=>(n.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),n.Util.radToDeg(l)),_getRotation:l=>e.Konva.angleDeg?n.Util.radToDeg(l):l,_capitalize:l=>l.charAt(0).toUpperCase()+l.slice(1),throw(l){throw new Error(s+l)},error(l){console.error(s+l)},warn(l){e.Konva.showWarnings&&console.warn("Konva warning: "+l)},each(l,h){for(var u in l)h(u,l[u])},_inRange:(l,h,u)=>h<=l&&l<u,_getProjectionToSegment(l,h,u,d,p,f){var v,m,y,w=(l-u)*(l-u)+(h-d)*(h-d);if(w==0)v=l,m=h,y=(p-u)*(p-u)+(f-d)*(f-d);else{var C=((p-l)*(u-l)+(f-h)*(d-h))/w;C<0?(v=l,m=h,y=(l-p)*(l-p)+(h-f)*(h-f)):C>1?(v=u,m=d,y=(u-p)*(u-p)+(d-f)*(d-f)):y=((v=l+C*(u-l))-p)*(v-p)+((m=h+C*(d-h))-f)*(m-f)}return[v,m,y]},_getProjectionToLine(l,h,u){var d=n.Util.cloneObject(l),p=Number.MAX_VALUE;return h.forEach(function(f,v){if(u||v!==h.length-1){var m=h[(v+1)%h.length],y=n.Util._getProjectionToSegment(f.x,f.y,m.x,m.y,l.x,l.y),w=y[0],C=y[1],S=y[2];S<p&&(d.x=w,d.y=C,p=S)}}),d},_prepareArrayForTween(l,h,u){var d,p=[],f=[];if(l.length>h.length){var v=h;h=l,l=v}for(d=0;d<l.length;d+=2)p.push({x:l[d],y:l[d+1]});for(d=0;d<h.length;d+=2)f.push({x:h[d],y:h[d+1]});var m=[];return f.forEach(function(y){var w=n.Util._getProjectionToLine(y,p,u);m.push(w.x),m.push(w.y)}),m},_prepareToStringify(l){var h;for(var u in l.visitedByCircularReferenceRemoval=!0,l)if(l.hasOwnProperty(u)&&l[u]&&typeof l[u]=="object"){if(h=Object.getOwnPropertyDescriptor(l,u),l[u].visitedByCircularReferenceRemoval||n.Util._isElement(l[u])){if(!h.configurable)return null;delete l[u]}else if(n.Util._prepareToStringify(l[u])===null){if(!h.configurable)return null;delete l[u]}}return delete l.visitedByCircularReferenceRemoval,l},_assign(l,h){for(var u in h)l[u]=h[u];return l},_getFirstPointerId:l=>l.touches?l.changedTouches[0].identifier:l.pointerId||999}})(bt);var lt={},pe={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.getComponentValidator=Ae.getBooleanValidator=Ae.getNumberArrayValidator=Ae.getFunctionValidator=Ae.getStringOrGradientValidator=Ae.getStringValidator=Ae.getNumberOrAutoValidator=Ae.getNumberOrArrayOfNumbersValidator=Ae.getNumberValidator=Ae.alphaComponent=Ae.RGBComponent=void 0;const _i=ve,mt=bt;function Si(n){return mt.Util._isString(n)?'"'+n+'"':Object.prototype.toString.call(n)==="[object Number]"||mt.Util._isBoolean(n)?n:Object.prototype.toString.call(n)}Ae.RGBComponent=function(n){return n>255?255:n<0?0:Math.round(n)},Ae.alphaComponent=function(n){return n>1?1:n<1e-4?1e-4:n},Ae.getNumberValidator=function(){if(_i.Konva.isUnminified)return function(n,e){return mt.Util._isNumber(n)||mt.Util.warn(Si(n)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),n}},Ae.getNumberOrArrayOfNumbersValidator=function(n){if(_i.Konva.isUnminified)return function(e,t){let r=mt.Util._isNumber(e),i=mt.Util._isArray(e)&&e.length==n;return r||i||mt.Util.warn(Si(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or Array<number>('+n+")"),e}},Ae.getNumberOrAutoValidator=function(){if(_i.Konva.isUnminified)return function(n,e){return mt.Util._isNumber(n)||n==="auto"||mt.Util.warn(Si(n)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),n}},Ae.getStringValidator=function(){if(_i.Konva.isUnminified)return function(n,e){return mt.Util._isString(n)||mt.Util.warn(Si(n)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),n}},Ae.getStringOrGradientValidator=function(){if(_i.Konva.isUnminified)return function(n,e){const t=mt.Util._isString(n),r=Object.prototype.toString.call(n)==="[object CanvasGradient]"||n&&n.addColorStop;return t||r||mt.Util.warn(Si(n)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),n}},Ae.getFunctionValidator=function(){if(_i.Konva.isUnminified)return function(n,e){return mt.Util._isFunction(n)||mt.Util.warn(Si(n)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),n}},Ae.getNumberArrayValidator=function(){if(_i.Konva.isUnminified)return function(n,e){return mt.Util._isArray(n)?n.forEach(function(t){mt.Util._isNumber(t)||mt.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")}):mt.Util.warn(Si(n)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),n}},Ae.getBooleanValidator=function(){if(_i.Konva.isUnminified)return function(n,e){return n===!0||n===!1||mt.Util.warn(Si(n)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),n}},Ae.getComponentValidator=function(n){if(_i.Konva.isUnminified)return function(e,t){return mt.Util.isObject(e)||mt.Util.warn(Si(e)+' is a not valid value for "'+t+'" attribute. The value should be an object with properties '+n),e}},function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Factory=void 0;const e=bt,t=Ae;var r="get",i="set";n.Factory={addGetterSetter(s,o,a,A,c){n.Factory.addGetter(s,o,a),n.Factory.addSetter(s,o,A,c),n.Factory.addOverloadedGetterSetter(s,o)},addGetter(s,o,a){var A=r+e.Util._capitalize(o);s.prototype[A]=s.prototype[A]||function(){var c=this.attrs[o];return c===void 0?a:c}},addSetter(s,o,a,A){var c=i+e.Util._capitalize(o);s.prototype[c]||n.Factory.overWriteSetter(s,o,a,A)},overWriteSetter(s,o,a,A){var c=i+e.Util._capitalize(o);s.prototype[c]=function(l){return a&&l!=null&&(l=a.call(this,l,o)),this._setAttr(o,l),A&&A.call(this),this}},addComponentsGetterSetter(s,o,a,A,c){var l,h,u=a.length,d=e.Util._capitalize,p=r+d(o),f=i+d(o);s.prototype[p]=function(){var m={};for(l=0;l<u;l++)m[h=a[l]]=this.getAttr(o+d(h));return m};var v=(0,t.getComponentValidator)(a);s.prototype[f]=function(m){var y,w=this.attrs[o];for(y in A&&(m=A.call(this,m)),v&&v.call(this,m,o),m)m.hasOwnProperty(y)&&this._setAttr(o+d(y),m[y]);return this._fireChangeEvent(o,w,m),c&&c.call(this),this},n.Factory.addOverloadedGetterSetter(s,o)},addOverloadedGetterSetter(s,o){var a=e.Util._capitalize(o),A=i+a,c=r+a;s.prototype[o]=function(){return arguments.length?(this[A](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(s,o,a,A){e.Util.error("Adding deprecated "+o);var c=r+e.Util._capitalize(o),l=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[c]=function(){e.Util.error(l);var h=this.attrs[o];return h===void 0?a:h},n.Factory.addSetter(s,o,A,function(){e.Util.error(l)}),n.Factory.addOverloadedGetterSetter(s,o)},backCompat(s,o){e.Util.each(o,function(a,A){var c=s.prototype[A],l=r+e.Util._capitalize(a),h=i+e.Util._capitalize(a);function u(){c.apply(this,arguments),e.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+A+'" instead.')}s.prototype[a]=u,s.prototype[l]=u,s.prototype[h]=u})},afterSetFilter(){this._filterUpToDate=!1}}}(pe);var Rr={},Qi={};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.HitContext=Qi.SceneContext=Qi.Context=void 0;const NO=bt,_Ae=ve;function SAe(n){var e,t,r=[],i=n.length,s=NO.Util;for(e=0;e<i;e++)t=n[e],s._isNumber(t)?t=Math.round(1e3*t)/1e3:s._isString(t)||(t+=""),r.push(t);return r}var hS=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class Cp{constructor(e){this.canvas=e,this._context=e._canvas.getContext("2d"),_Ae.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){var r,i,s,o,a=this.traceArr,A=a.length,c="";for(r=0;r<A;r++)(s=(i=a[r]).method)?(o=i.args,c+=s,e?c+="()":NO.Util._isArray(o[0])?c+="(["+o.join(",")+"])":(t&&(o=o.map(l=>typeof l=="number"?Math.floor(l):l)),c+="("+o.join(",")+")")):(c+=i.property,e||(c+="="+i.val)),c+=";";return c}clearTrace(){this.traceArr=[]}_trace(e){var t=this.traceArr;t.push(e),t.length>=100&&t.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){var t=e.getLineCap();t&&this.setAttr("lineCap",t)}_applyOpacity(e){var t=e.getAbsoluteOpacity();t!==1&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){var t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,r,i,s,o){this._context.arc(e,t,r,i,s,o)}arcTo(e,t,r,i,s){this._context.arcTo(e,t,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,r,i,s,o){this._context.bezierCurveTo(e,t,r,i,s,o)}clearRect(e,t,r,i){this._context.clearRect(e,t,r,i)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,t){var r=arguments;return r.length===2?this._context.createImageData(e,t):r.length===1?this._context.createImageData(e):void 0}createLinearGradient(e,t,r,i){return this._context.createLinearGradient(e,t,r,i)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,r,i,s,o){return this._context.createRadialGradient(e,t,r,i,s,o)}drawImage(e,t,r,i,s,o,a,A,c){var l=arguments,h=this._context;l.length===3?h.drawImage(e,t,r):l.length===5?h.drawImage(e,t,r,i,s):l.length===9&&h.drawImage(e,t,r,i,s,o,a,A,c)}ellipse(e,t,r,i,s,o,a,A){this._context.ellipse(e,t,r,i,s,o,a,A)}isPointInPath(e,t){return this._context.isPointInPath(e,t)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,t,r,i){this._context.fillRect(e,t,r,i)}strokeRect(e,t,r,i){this._context.strokeRect(e,t,r,i)}fillText(e,t,r,i){i?this._context.fillText(e,t,r,i):this._context.fillText(e,t,r)}measureText(e){return this._context.measureText(e)}getImageData(e,t,r,i){return this._context.getImageData(e,t,r,i)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,r,i){this._context.rect(e,t,r,i)}putImageData(e,t,r){this._context.putImageData(e,t,r)}quadraticCurveTo(e,t,r,i){this._context.quadraticCurveTo(e,t,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,r,i,s,o){this._context.setTransform(e,t,r,i,s,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,r,i){this._context.strokeText(e,t,r,i)}transform(e,t,r,i,s,o){this._context.transform(e,t,r,i,s,o)}translate(e,t){this._context.translate(e,t)}_enableTrace(){var e,t,r=this,i=hS.length,s=this.setAttr,o=function(a){var A,c=r[a];r[a]=function(){return t=SAe(Array.prototype.slice.call(arguments,0)),A=c.apply(r,arguments),r._trace({method:a,args:t}),A}};for(e=0;e<i;e++)o(hS[e]);r.setAttr=function(){s.apply(r,arguments);var a=arguments[0],A=arguments[1];a!=="shadowOffsetX"&&a!=="shadowOffsetY"&&a!=="shadowBlur"||(A/=this.canvas.getPixelRatio()),r._trace({property:a,val:A})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;!t||t==="source-over"||this.setAttr("globalCompositeOperation",t)}}Qi.Context=Cp,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(n){Object.defineProperty(Cp.prototype,n,{get(){return this._context[n]},set(e){this._context[n]=e}})});Qi.SceneContext=class extends Cp{_fillColor(n){var e=n.fill();this.setAttr("fillStyle",e),n._fillFunc(this)}_fillPattern(n){this.setAttr("fillStyle",n._getFillPattern()),n._fillFunc(this)}_fillLinearGradient(n){var e=n._getLinearGradient();e&&(this.setAttr("fillStyle",e),n._fillFunc(this))}_fillRadialGradient(n){var e=n._getRadialGradient();e&&(this.setAttr("fillStyle",e),n._fillFunc(this))}_fill(n){var e=n.fill(),t=n.getFillPriority();if(e&&t==="color")this._fillColor(n);else{var r=n.getFillPatternImage();if(r&&t==="pattern")this._fillPattern(n);else{var i=n.getFillLinearGradientColorStops();if(i&&t==="linear-gradient")this._fillLinearGradient(n);else{var s=n.getFillRadialGradientColorStops();s&&t==="radial-gradient"?this._fillRadialGradient(n):e?this._fillColor(n):r?this._fillPattern(n):i?this._fillLinearGradient(n):s&&this._fillRadialGradient(n)}}}}_strokeLinearGradient(n){var e=n.getStrokeLinearGradientStartPoint(),t=n.getStrokeLinearGradientEndPoint(),r=n.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,t.x,t.y);if(r){for(var s=0;s<r.length;s+=2)i.addColorStop(r[s],r[s+1]);this.setAttr("strokeStyle",i)}}_stroke(n){var e=n.dash(),t=n.getStrokeScaleEnabled();if(n.hasStroke()){if(!t){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(n),e&&n.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",n.dashOffset())),this.setAttr("lineWidth",n.strokeWidth()),n.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),n.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(n):this.setAttr("strokeStyle",n.stroke()),n._strokeFunc(this),t||this.restore()}}_applyShadow(n){var e,t,r,i=(e=n.getShadowRGBA())!==null&&e!==void 0?e:"black",s=(t=n.getShadowBlur())!==null&&t!==void 0?t:5,o=(r=n.getShadowOffset())!==null&&r!==void 0?r:{x:0,y:0},a=n.getAbsoluteScale(),A=this.canvas.getPixelRatio(),c=a.x*A,l=a.y*A;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",s*Math.min(Math.abs(c),Math.abs(l))),this.setAttr("shadowOffsetX",o.x*c),this.setAttr("shadowOffsetY",o.y*l)}};Qi.HitContext=class extends Cp{_fill(n){this.save(),this.setAttr("fillStyle",n.colorKey),n._fillFuncHit(this),this.restore()}strokeShape(n){n.hasHitStroke()&&this._stroke(n)}_stroke(n){if(n.hasHitStroke()){var e=n.getStrokeScaleEnabled();if(!e){this.save();var t=this.getCanvas().getPixelRatio();this.setTransform(t,0,0,t,0,0)}this._applyLineCap(n);var r=n.hitStrokeWidth(),i=r==="auto"?n.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",n.colorKey),n._strokeFuncHit(this),e||this.restore()}}},Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.HitCanvas=Rr.SceneCanvas=Rr.Canvas=void 0;const ov=bt,RO=Qi,uS=ve,EAe=pe,FAe=Ae;var av;class Bp{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var t=(e||{}).pixelRatio||uS.Konva.pixelRatio||function(){if(av)return av;var r=ov.Util.createCanvasElement().getContext("2d");return av=(uS.Konva._global.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)}();this.pixelRatio=t,this._canvas=ov.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch{try{return this._canvas.toDataURL()}catch(i){return ov.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Rr.Canvas=Bp,EAe.Factory.addGetterSetter(Bp,"pixelRatio",void 0,(0,FAe.getNumberValidator)());Rr.SceneCanvas=class extends Bp{constructor(n={width:0,height:0}){super(n),this.context=new RO.SceneContext(this),this.setSize(n.width,n.height)}};Rr.HitCanvas=class extends Bp{constructor(n={width:0,height:0}){super(n),this.hitCanvas=!0,this.context=new RO.HitContext(this),this.setSize(n.width,n.height)}};var sm={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DD=void 0;const e=ve,t=bt;n.DD={get isDragging(){var r=!1;return n.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){var r;return n.DD._dragElements.forEach(i=>{r=i.node}),r},_dragElements:new Map,_drag(r){const i=[];n.DD._dragElements.forEach((s,o)=>{const{node:a}=s,A=a.getStage();A.setPointersPositions(r),s.pointerId===void 0&&(s.pointerId=t.Util._getFirstPointerId(r));const c=A._changedPointerPositions.find(h=>h.id===s.pointerId);if(c){if(s.dragStatus!=="dragging"){var l=a.dragDistance();if(Math.max(Math.abs(c.x-s.startPointerPos.x),Math.abs(c.y-s.startPointerPos.y))<l||(a.startDrag({evt:r}),!a.isDragging()))return}a._setDragPosition(r,s),i.push(a)}}),i.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:r},!0)})},_endDragBefore(r){n.DD._dragElements.forEach(i=>{const{node:s}=i,o=s.getStage();if(r&&o.setPointersPositions(r),!o._changedPointerPositions.find(A=>A.id===i.pointerId))return;i.dragStatus!=="dragging"&&i.dragStatus!=="stopped"||(n.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,i.dragStatus="stopped");const a=i.node.getLayer()||i.node instanceof e.Konva.Stage&&i.node;a&&a.batchDraw()})},_endDragAfter(r){n.DD._dragElements.forEach((i,s)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:r},!0),i.dragStatus!=="dragging"&&n.DD._dragElements.delete(s)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",n.DD._endDragBefore,!0),window.addEventListener("touchend",n.DD._endDragBefore,!0),window.addEventListener("mousemove",n.DD._drag),window.addEventListener("touchmove",n.DD._drag),window.addEventListener("mouseup",n.DD._endDragAfter,!1),window.addEventListener("touchend",n.DD._endDragAfter,!1))})(sm),Object.defineProperty(lt,"__esModule",{value:!0}),lt.Node=void 0;const xe=bt,ec=pe,Ku=Rr,po=ve,sr=sm,Bt=Ae;var TAe=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" ");let PAe=1;class ce{constructor(e){this._id=PAe++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){e!=="transform"&&e!=="absoluteTransform"||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}_getCache(e,t){var r=this._cache.get(e);return(r===void 0||(e==="transform"||e==="absoluteTransform")&&r.dirty===!0)&&(r=t.call(this),this._cache.set(e,r)),r}_calculate(e,t,r){if(!this._attachedDepsListeners.get(e)){const i=t.map(s=>s+"Change.konva").join(" ");this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get("canvas")}_clearSelfAndDescendantCache(e){this._clearCache(e),e==="absoluteTransform"&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete("canvas"),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var t=e||{},r={};t.x!==void 0&&t.y!==void 0&&t.width!==void 0&&t.height!==void 0||(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(t.width||r.width),s=Math.ceil(t.height||r.height),o=t.pixelRatio,a=t.x===void 0?Math.floor(r.x):t.x,A=t.y===void 0?Math.floor(r.y):t.y,c=t.offset||0,l=t.drawBorder||!1,h=t.hitCanvasPixelRatio||1;if(i&&s){i+=2*c+1,s+=2*c+1,a-=c,A-=c;var u=new Ku.SceneCanvas({pixelRatio:o,width:i,height:s}),d=new Ku.SceneCanvas({pixelRatio:o,width:0,height:0}),p=new Ku.HitCanvas({pixelRatio:h,width:i,height:s}),f=u.getContext(),v=p.getContext();return p.isCache=!0,u.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,t.imageSmoothingEnabled===!1&&(u.getContext()._context.imageSmoothingEnabled=!1,d.getContext()._context.imageSmoothingEnabled=!1),f.save(),v.save(),f.translate(-a,-A),v.translate(-a,-A),this._isUnderCache=!0,this._clearSelfAndDescendantCache("absoluteOpacity"),this._clearSelfAndDescendantCache("absoluteScale"),this.drawScene(u,this),this.drawHit(p,this),this._isUnderCache=!1,f.restore(),v.restore(),l&&(f.save(),f.beginPath(),f.rect(0,0,i,s),f.closePath(),f.setAttr("strokeStyle","red"),f.setAttr("lineWidth",5),f.stroke(),f.restore()),this._cache.set("canvas",{scene:u,filter:d,hit:p,x:a,y:A}),this._requestDraw(),this}xe.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has("canvas")}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){var r,i,s,o,a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],A=this.getAbsoluteTransform(t);return a.forEach(function(c){var l=A.point(c);r===void 0&&(r=s=l.x,i=o=l.y),r=Math.min(r,l.x),i=Math.min(i,l.y),s=Math.max(s,l.x),o=Math.max(o,l.y)}),{x:r,y:i,width:s-r,height:o-i}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);var r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){var t=this._getCanvasCache(),r=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e,t,r,i,s=this.filters(),o=this._getCanvasCache(),a=o.scene,A=o.filter,c=A.getContext();if(s){if(!this._filterUpToDate){var l=a.pixelRatio;A.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(e=s.length,c.clear(),c.drawImage(a._canvas,0,0,a.getWidth()/l,a.getHeight()/l),t=c.getImageData(0,0,A.getWidth(),A.getHeight()),r=0;r<e;r++)typeof(i=s[r])=="function"?(i.call(this,t),c.putImageData(t,0,0)):xe.Util.error("Filter should be type of function, but got "+typeof i+" instead. Please check correct filters")}catch(h){xe.Util.error("Unable to apply filter. "+h.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return A}return a}on(e,t){if(this._cache&&this._cache.delete("allEventListeners"),arguments.length===3)return this._delegate.apply(this,arguments);var r,i,s,o,a=e.split(" "),A=a.length;for(r=0;r<A;r++)s=(i=a[r].split("."))[0],o=i[1]||"",this.eventListeners[s]||(this.eventListeners[s]=[]),this.eventListeners[s].push({name:o,handler:t});return this}off(e,t){var r,i,s,o,a,A=(e||"").split(" "),c=A.length;if(this._cache&&this._cache.delete("allEventListeners"),!e)for(i in this.eventListeners)this._off(i);for(r=0;r<c;r++)if(o=(s=A[r].split("."))[0],a=s[1],o)this.eventListeners[o]&&this._off(o,a,t);else for(i in this.eventListeners)this._off(i,a,t);return this}dispatchEvent(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(r){t.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,r){var i=this;this.on(e,function(s){for(var o=s.target.findAncestors(t,!0,i),a=0;a<o.length;a++)(s=xe.Util.cloneObject(s)).currentTarget=o[a],r.call(o[a],s)})}remove(){return this.isDragging()&&this.stopDrag(),sr.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache("absoluteTransform"),this._clearSelfAndDescendantCache("absoluteOpacity"),this._clearSelfAndDescendantCache("absoluteScale"),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache("visible"),this._clearSelfAndDescendantCache("listening")}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(e){var t="get"+xe.Util._capitalize(e);return xe.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),t=[];e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var t,r;if(!e)return this;for(t in e)t!=="children"&&(r="set"+xe.Util._capitalize(t),xe.Util._isFunction(this[r])?this[r](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache("listening",this._isListening)}_isListening(e){if(!this.listening())return!1;const t=this.getParent();return!t||t===e||this===e||t._isListening(e)}isVisible(){return this._getCache("visible",this._isVisible)}_isVisible(e){if(!this.visible())return!1;const t=this.getParent();return!t||t===e||this===e||t._isVisible(e)}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);var r=this.getLayer(),i=!1;sr.DD._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===r)&&(i=!0)});var s=!t&&!po.Konva.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e,t,r,i,s=this.getDepth(),o=this,a=0;return o.nodeType!=="Stage"&&function A(c){for(e=[],t=c.length,r=0;r<t;r++)i=c[r],a++,i.nodeType!=="Shape"&&(e=e.concat(i.getChildren().slice())),i._id===o._id&&(r=t);e.length>0&&e[0].getDepth()<=s&&A(e)}(o.getStage().getChildren()),a}getDepth(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var t=this.getAbsoluteTransform().copy();return t.invert(),t.point(e)}getAbsolutePosition(e){let t=!1,r=this.parent;for(;r;){if(r.isCached()){t=!0;break}r=r.parent}t&&!e&&(e=!0);var i=this.getAbsoluteTransform(e).getMatrix(),s=new xe.Transform,o=this.offset();return s.m=i.slice(),s.translate(o.x,o.y),s.getTranslation()}setAbsolutePosition(e){var t=this._clearTransform();this.attrs.x=t.x,this.attrs.y=t.y,delete t.x,delete t.y,this._clearCache("transform");var r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(e.x,e.y),e={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(t),this.setPosition({x:e.x,y:e.y}),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform"),this}_setTransform(e){var t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var t=e.x,r=e.y,i=this.x(),s=this.y();return t!==void 0&&(i+=t),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,t){var r,i,s=[],o=this.getParent();if(!t||t._id!==this._id){for(s.unshift(this);o&&(!t||o._id!==t._id);)s.unshift(o),o=o.parent;for(r=s.length,i=0;i<r;i++)e(s[i])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return xe.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return xe.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return xe.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return xe.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(e){if(!this.parent)return xe.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&xe.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache("absoluteOpacity",this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e,t,r,i,s={},o=this.getAttrs();for(e in s.attrs={},o)t=o[e],xe.Util.isObject(t)&&!xe.Util._isPlainObject(t)&&!xe.Util._isArray(t)||(r=typeof this[e]=="function"&&this[e],delete o[e],i=r?r.call(this):null,o[e]=t,i!==t&&(s.attrs[e]=t));return s.className=this.getClassName(),xe.Util._prepareToStringify(s)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,r){var i=[];t&&this._isMatch(e)&&i.push(this);for(var s=this.parent;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,t,r){return this.findAncestors(e,t,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var t,r,i=e.replace(/ /g,"").split(","),s=i.length;for(t=0;t<s;t++)if(r=i[t],xe.Util.isValidSelector(r)||(xe.Util.warn('Selector "'+r+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),xe.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),xe.Util.warn("Konva is awesome, right?")),r.charAt(0)==="#"){if(this.id()===r.slice(1))return!0}else if(r.charAt(0)==="."){if(this.hasName(r.slice(1)))return!0}else if(this.className===r||this.nodeType===r)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache("stage",this._getStage)}_getStage(){var e=this.getParent();return e?e.getStage():void 0}fire(e,t={},r){return t.target=t.target||this,r?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache("absoluteTransform",this._getAbsoluteTransform)}_getAbsoluteTransform(e){var t;if(e)return t=new xe.Transform,this._eachAncestorReverse(function(i){var s=i.transformsEnabled();s==="all"?t.multiply(i.getTransform()):s==="position"&&t.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),t;t=this._cache.get("absoluteTransform")||new xe.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();var r=this.transformsEnabled();if(r==="all")t.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,o=this.attrs.offsetX||0,a=this.attrs.offsetY||0;t.translate(i-o,s-a)}return t.dirty=!1,t}getAbsoluteScale(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();const r=this.getAbsoluteTransform(e).decompose();return{x:r.scaleX,y:r.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache("transform",this._getTransform)}_getTransform(){var e,t,r=this._cache.get("transform")||new xe.Transform;r.reset();var i=this.x(),s=this.y(),o=po.Konva.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,A=(t=this.attrs.scaleY)!==null&&t!==void 0?t:1,c=this.attrs.skewX||0,l=this.attrs.skewY||0,h=this.attrs.offsetX||0,u=this.attrs.offsetY||0;return i===0&&s===0||r.translate(i,s),o!==0&&r.rotate(o),c===0&&l===0||r.skew(c,l),a===1&&A===1||r.scale(a,A),h===0&&u===0||r.translate(-1*h,-1*u),r.dirty=!1,r}clone(e){var t,r,i,s,o,a=xe.Util.cloneObject(this.attrs);for(t in e)a[t]=e[t];var A=new this.constructor(a);for(t in this.eventListeners)for(i=(r=this.eventListeners[t]).length,s=0;s<i;s++)(o=r[s]).name.indexOf("konva")<0&&(A.eventListeners[t]||(A.eventListeners[t]=[]),A.eventListeners[t].push(o));return A}_toKonvaCanvas(e){e=e||{};var t=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(t.x),s=e.y!==void 0?e.y:Math.floor(t.y),o=e.pixelRatio||1,a=new Ku.SceneCanvas({width:e.width||Math.ceil(t.width)||(r?r.width():0),height:e.height||Math.ceil(t.height)||(r?r.height():0),pixelRatio:o}),A=a.getContext();return e.imageSmoothingEnabled===!1&&(A._context.imageSmoothingEnabled=!1),A.save(),(i||s)&&A.translate(-1*i,-1*s),this.drawScene(a),A.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){var t=(e=e||{}).mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(t,r);return e.callback&&e.callback(i),i}toImage(e){if(!e||!e.callback)throw"callback required for toImage method config argument";var t=e.callback;delete e.callback,xe.Util._urlToImage(this.toDataURL(e),function(r){t(r)})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():po.Konva.dragDistance}_off(e,t,r){var i,s,o,a=this.eventListeners[e];for(i=0;i<a.length;i++)if(s=a[i].name,o=a[i].handler,!(s==="konva"&&t!=="konva"||t&&s!==t||r&&r!==o)){if(a.splice(i,1),a.length===0){delete this.eventListeners[e];break}i--}}_fireChangeEvent(e,t,r){this._fire(e+"Change",{oldVal:t,newVal:r})}addName(e){if(!this.hasName(e)){var t=this.name(),r=t?t+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const t=this.name();return!!t&&(t||"").split(/\s/g).indexOf(e)!==-1}removeName(e){var t=(this.name()||"").split(/\s/g),r=t.indexOf(e);return r!==-1&&(t.splice(r,1),this.name(t.join(" "))),this}setAttr(e,t){var r=this["set"+xe.Util._capitalize(e)];return xe.Util._isFunction(r)?r.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(po.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,t){var r=this.attrs[e];(r!==t||xe.Util.isObject(t))&&(t==null?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,t),this._requestDraw())}_setComponentAttr(e,t,r){var i;r!==void 0&&((i=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,t,r){if(t&&this.nodeType==="Shape"&&(t.target=this),!((e==="mouseenter"||e==="mouseleave")&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,t);var i=(e==="mouseenter"||e==="mouseleave")&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!i&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,t,r):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){let t=this._cache.get("allEventListeners");if(!t){t={};let i=Object.getPrototypeOf(this);for(;i;)if(i.eventListeners){for(var r in i.eventListeners){const s=i.eventListeners[r],o=t[r]||[];t[r]=s.concat(o)}i=Object.getPrototypeOf(i)}else i=Object.getPrototypeOf(i);this._cache.set("allEventListeners",t)}return t[e]}_fire(e,t){(t=t||{}).currentTarget=this,t.type=e;const r=this._getProtoListeners(e);if(r)for(var i=0;i<r.length;i++)r[i].handler.call(this,t);const s=this.eventListeners[e];if(s)for(i=0;i<s.length;i++)s[i].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var t=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition(),s=r._getPointerById(t)||r._changedPointerPositions[0]||i;sr.DD._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){sr.DD._dragElements.has(this._id)||this._createDragElement(e),sr.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const r=this.getStage()._getPointerById(t.pointerId);if(r){var i={x:r.x-t.offset.x,y:r.y-t.offset.y},s=this.dragBoundFunc();if(s!==void 0){const o=s.call(this,i,e);o?i=o:xe.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(e){const t=sr.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),sr.DD._endDragBefore(e),sr.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=sr.DD._dragElements.get(this._id);return!!e&&e.dragStatus==="dragging"}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if((e.evt.button===void 0||po.Konva.dragButtons.indexOf(e.evt.button)>=0)&&!this.isDragging()){var t=!1;sr.DD._dragElements.forEach(r=>{this.isAncestorOf(r.node)&&(t=!0)}),t||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const e=sr.DD._dragElements.get(this._id),t=e&&e.dragStatus==="dragging",r=e&&e.dragStatus==="ready";t?this.stopDrag():r&&sr.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const t=this.getStage();if(!t)return!1;const r={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return xe.Util.haveIntersection(r,this.getClientRect())}static create(e,t){return xe.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){var r,i,s,o=ce.prototype.getClassName.call(e),a=e.children;if(t&&(e.attrs.container=t),po.Konva[o]||(xe.Util.warn('Can not find a node with class name "'+o+'". Fallback to "Shape".'),o="Shape"),r=new po.Konva[o](e.attrs),a)for(i=a.length,s=0;s<i;s++)r.add(ce._createNode(a[s]));return r}}lt.Node=ce,ce.prototype.nodeType="Node",ce.prototype._attrsAffectingSize=[],ce.prototype.eventListeners={},ce.prototype.on.call(ce.prototype,TAe,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform"))}),ce.prototype.on.call(ce.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache("visible")}),ce.prototype.on.call(ce.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache("listening")}),ce.prototype.on.call(ce.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache("absoluteOpacity")});const ze=ec.Factory.addGetterSetter;ze(ce,"zIndex"),ze(ce,"absolutePosition"),ze(ce,"position"),ze(ce,"x",0,(0,Bt.getNumberValidator)()),ze(ce,"y",0,(0,Bt.getNumberValidator)()),ze(ce,"globalCompositeOperation","source-over",(0,Bt.getStringValidator)()),ze(ce,"opacity",1,(0,Bt.getNumberValidator)()),ze(ce,"name","",(0,Bt.getStringValidator)()),ze(ce,"id","",(0,Bt.getStringValidator)()),ze(ce,"rotation",0,(0,Bt.getNumberValidator)()),ec.Factory.addComponentsGetterSetter(ce,"scale",["x","y"]),ze(ce,"scaleX",1,(0,Bt.getNumberValidator)()),ze(ce,"scaleY",1,(0,Bt.getNumberValidator)()),ec.Factory.addComponentsGetterSetter(ce,"skew",["x","y"]),ze(ce,"skewX",0,(0,Bt.getNumberValidator)()),ze(ce,"skewY",0,(0,Bt.getNumberValidator)()),ec.Factory.addComponentsGetterSetter(ce,"offset",["x","y"]),ze(ce,"offsetX",0,(0,Bt.getNumberValidator)()),ze(ce,"offsetY",0,(0,Bt.getNumberValidator)()),ze(ce,"dragDistance",null,(0,Bt.getNumberValidator)()),ze(ce,"width",0,(0,Bt.getNumberValidator)()),ze(ce,"height",0,(0,Bt.getNumberValidator)()),ze(ce,"listening",!0,(0,Bt.getBooleanValidator)()),ze(ce,"preventDefault",!0,(0,Bt.getBooleanValidator)()),ze(ce,"filters",null,function(n){return this._filterUpToDate=!1,n}),ze(ce,"visible",!0,(0,Bt.getBooleanValidator)()),ze(ce,"transformsEnabled","all",(0,Bt.getStringValidator)()),ze(ce,"size"),ze(ce,"dragBoundFunc"),ze(ce,"draggable",!1,(0,Bt.getBooleanValidator)()),ec.Factory.backCompat(ce,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var sa={};Object.defineProperty(sa,"__esModule",{value:!0}),sa.Container=void 0;const La=pe,Av=lt,Gu=Ae;class go extends Av.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const t=this.children||[];var r=[];return t.forEach(function(i){e(i)&&r.push(i)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}var r=e[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){var r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!(!s||!t)}),r}_descendants(e){let t=!1;const r=this.getChildren();for(const i of r)if(t=e(i),t||i.hasChildren()&&(t=i._descendants(e),t))return!0;return!1}toObject(){var e=Av.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){var t=Av.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){t.add(r.clone())}),t}getAllIntersections(e){var t=[];return this.find("Shape").forEach(function(r){r.isVisible()&&r.intersects(e)&&t.push(r)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),this.isCached()||(t=this.children)===null||t===void 0||t.forEach(function(r){r._clearSelfAndDescendantCache(e)})}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(t,r){t.index=r}),this._requestDraw()}drawScene(e,t){var r=this.getLayer(),i=e||r&&r.getCanvas(),s=i&&i.getContext(),o=this._getCanvasCache(),a=o&&o.scene,A=i&&i.isCache;if(!this.isVisible()&&!A)return this;if(a){s.save();var c=this.getAbsoluteTransform(t).getMatrix();s.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",i,t);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;var r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),o=this._getCanvasCache();if(o&&o.hit){s.save();var a=this.getAbsoluteTransform(t).getMatrix();s.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,t);return this}_drawChildren(e,t,r){var i,s=t&&t.getContext(),o=this.clipWidth(),a=this.clipHeight(),A=this.clipFunc(),c=o&&a||A;const l=r===this;if(c){s.save();var h=this.getAbsoluteTransform(r),u=h.getMatrix();if(s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),s.beginPath(),A)A.call(this,s,this);else{var d=this.clipX(),p=this.clipY();s.rect(d,p,o,a)}s.clip(),u=h.copy().invert().getMatrix(),s.transform(u[0],u[1],u[2],u[3],u[4],u[5])}var f=!l&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";f&&(s.save(),s._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(v){v[e](t,r)}),f&&s.restore(),c&&s.restore()}getClientRect(e){var t,r,i,s,o,a=(e=e||{}).skipTransform,A=e.relativeTo,c={x:1/0,y:1/0,width:0,height:0},l=this;(t=this.children)===null||t===void 0||t.forEach(function(p){if(p.visible()){var f=p.getClientRect({relativeTo:l,skipShadow:e.skipShadow,skipStroke:e.skipStroke});f.width===0&&f.height===0||(r===void 0?(r=f.x,i=f.y,s=f.x+f.width,o=f.y+f.height):(r=Math.min(r,f.x),i=Math.min(i,f.y),s=Math.max(s,f.x+f.width),o=Math.max(o,f.y+f.height)))}});for(var h=this.find("Shape"),u=!1,d=0;d<h.length;d++)if(h[d]._isVisible(this)){u=!0;break}return c=u&&r!==void 0?{x:r,y:i,width:s-r,height:o-i}:{x:0,y:0,width:0,height:0},a?c:this._transformedRect(c,A)}}sa.Container=go,La.Factory.addComponentsGetterSetter(go,"clip",["x","y","width","height"]),La.Factory.addGetterSetter(go,"clipX",void 0,(0,Gu.getNumberValidator)()),La.Factory.addGetterSetter(go,"clipY",void 0,(0,Gu.getNumberValidator)()),La.Factory.addGetterSetter(go,"clipWidth",void 0,(0,Gu.getNumberValidator)()),La.Factory.addGetterSetter(go,"clipHeight",void 0,(0,Gu.getNumberValidator)()),La.Factory.addGetterSetter(go,"clipFunc");var HO={},Gn={};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.releaseCapture=Gn.setPointerCapture=Gn.hasPointerCapture=Gn.createEvent=Gn.getCapturedShape=void 0;const OAe=ve,wc=new Map,$O=OAe.Konva._global.PointerEvent!==void 0;function _1(n){return{evt:n,pointerId:n.pointerId}}function dS(n,e){const t=wc.get(n);if(!t)return;const r=t.getStage();r&&r.content,wc.delete(n),$O&&t._fire("lostpointercapture",_1(new PointerEvent("lostpointercapture")))}Gn.getCapturedShape=function(n){return wc.get(n)},Gn.createEvent=_1,Gn.hasPointerCapture=function(n,e){return wc.get(n)===e},Gn.setPointerCapture=function(n,e){dS(n),e.getStage()&&(wc.set(n,e),$O&&e._fire("gotpointercapture",_1(new PointerEvent("gotpointercapture"))))},Gn.releaseCapture=dS,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Stage=n.stages=void 0;const e=bt,t=pe,r=sa,i=ve,s=Rr,o=sm,a=ve,A=Gn;var c="mouseleave",l="mouseover",h="mouseenter",u="mousemove",d="mousedown",p="mouseup",f="pointermove",v="pointerdown",m="pointerup",y="pointercancel",w="pointerout",C="pointerleave",S="pointerover",x="pointerenter",E="contextmenu",T="touchstart",P="touchend",F="touchmove",U="touchcancel",I="wheel",D=[[h,"_pointerenter"],[d,"_pointerdown"],[u,"_pointermove"],[p,"_pointerup"],[c,"_pointerleave"],[T,"_pointerdown"],[F,"_pointermove"],[P,"_pointerup"],[U,"_pointercancel"],[l,"_pointerover"],[I,"_wheel"],[E,"_contextmenu"],[v,"_pointerdown"],[f,"_pointermove"],[m,"_pointerup"],[y,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const $={mouse:{[w]:"mouseout",[C]:c,[S]:l,[x]:h,[f]:u,[v]:d,[m]:p,[y]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[w]:"touchout",[C]:"touchleave",[S]:"touchover",[x]:"touchenter",[f]:F,[v]:T,[m]:P,[y]:U,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[w]:w,[C]:C,[S]:S,[x]:x,[f]:f,[v]:v,[m]:m,[y]:y,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},M=R=>R.indexOf("pointer")>=0?"pointer":R.indexOf("touch")>=0?"touch":"mouse",G=R=>{const B=M(R);return B==="pointer"?i.Konva.pointerEventsEnabled&&$.pointer:B==="touch"?$.touch:B==="mouse"?$.mouse:void 0};function V(R={}){return(R.clipFunc||R.clipWidth||R.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),R}n.stages=[];class Q extends r.Container{constructor(B){super(V(B)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),n.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{V(this.attrs)}),this._checkVisibility()}_validateAdd(B){const O=B.getType()==="Layer",k=B.getType()==="FastLayer";O||k||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const B=this.visible()?"":"none";this.content.style.display=B}setContainer(B){if(typeof B=="string"){if(B.charAt(0)==="."){var O=B.slice(1);B=document.getElementsByClassName(O)[0]}else{var k;k=B.charAt(0)!=="#"?B:B.slice(1),B=document.getElementById(k)}if(!B)throw"Can not find container in document with id "+k}return this._setAttr("container",B),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),B.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var B,O=this.children,k=O.length;for(B=0;B<k;B++)O[B].clear();return this}clone(B){return B||(B={}),B.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,B)}destroy(){super.destroy();var B=this.content;B&&e.Util._isInDocument(B)&&this.container().removeChild(B);var O=n.stages.indexOf(this);return O>-1&&n.stages.splice(O,1),this}getPointerPosition(){const B=this._pointerPositions[0]||this._changedPointerPositions[0];return B?{x:B.x,y:B.y}:(e.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(B){return this._pointerPositions.find(O=>O.id===B)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(B){(B=B||{}).x=B.x||0,B.y=B.y||0,B.width=B.width||this.width(),B.height=B.height||this.height();var O=new s.SceneCanvas({width:B.width,height:B.height,pixelRatio:B.pixelRatio||1}),k=O.getContext()._context,L=this.children;return(B.x||B.y)&&k.translate(-1*B.x,-1*B.y),L.forEach(function(j){if(j.isVisible()){var K=j._toKonvaCanvas(B);k.drawImage(K._canvas,B.x,B.y,K.getWidth()/K.getPixelRatio(),K.getHeight()/K.getPixelRatio())}}),O}getIntersection(B){if(!B)return null;var O,k=this.children;for(O=k.length-1;O>=0;O--){const L=k[O].getIntersection(B);if(L)return L}return null}_resizeDOM(){var B=this.width(),O=this.height();this.content&&(this.content.style.width=B+"px",this.content.style.height=O+"px"),this.bufferCanvas.setSize(B,O),this.bufferHitCanvas.setSize(B,O),this.children.forEach(k=>{k.setSize({width:B,height:O}),k.draw()})}add(B,...O){if(arguments.length>1){for(var k=0;k<arguments.length;k++)this.add(arguments[k]);return this}super.add(B);var L=this.children.length;return L>5&&e.Util.warn("The stage has "+L+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),B.setSize({width:this.width(),height:this.height()}),B.draw(),i.Konva.isBrowser&&this.content.appendChild(B.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(B){return A.hasPointerCapture(B,this)}setPointerCapture(B){A.setPointerCapture(B,this)}releaseCapture(B){A.releaseCapture(B,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&D.forEach(([B,O])=>{this.content.addEventListener(B,k=>{this[O](k)})})}_pointerenter(B){this.setPointersPositions(B);const O=G(B.type);this._fire(O.pointerenter,{evt:B,target:this,currentTarget:this})}_pointerover(B){this.setPointersPositions(B);const O=G(B.type);this._fire(O.pointerover,{evt:B,target:this,currentTarget:this})}_getTargetShape(B){let O=this[B+"targetShape"];return O&&!O.getStage()&&(O=null),O}_pointerleave(B){const O=G(B.type),k=M(B.type);if(O){this.setPointersPositions(B);var L=this._getTargetShape(k),j=!o.DD.isDragging||i.Konva.hitOnDragEnabled;L&&j?(L._fireAndBubble(O.pointerout,{evt:B}),L._fireAndBubble(O.pointerleave,{evt:B}),this._fire(O.pointerleave,{evt:B,target:this,currentTarget:this}),this[k+"targetShape"]=null):j&&(this._fire(O.pointerleave,{evt:B,target:this,currentTarget:this}),this._fire(O.pointerout,{evt:B,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(B){const O=G(B.type),k=M(B.type);if(O){this.setPointersPositions(B);var L=!1;this._changedPointerPositions.forEach(j=>{var K=this.getIntersection(j);if(o.DD.justDragged=!1,i.Konva["_"+k+"ListenClick"]=!0,!(K&&K.isListening()))return;i.Konva.capturePointerEventsEnabled&&K.setPointerCapture(j.id),this[k+"ClickStartShape"]=K,K._fireAndBubble(O.pointerdown,{evt:B,pointerId:j.id}),L=!0;const J=B.type.indexOf("touch")>=0;K.preventDefault()&&B.cancelable&&J&&B.preventDefault()}),L||this._fire(O.pointerdown,{evt:B,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(B){const O=G(B.type),k=M(B.type);if(!O||(o.DD.isDragging&&o.DD.node.preventDefault()&&B.cancelable&&B.preventDefault(),this.setPointersPositions(B),!(!o.DD.isDragging||i.Konva.hitOnDragEnabled)))return;var L={};let j=!1;var K=this._getTargetShape(k);this._changedPointerPositions.forEach(J=>{const Y=A.getCapturedShape(J.id)||this.getIntersection(J),ie=J.id,Z={evt:B,pointerId:ie};var Te=K!==Y;if(Te&&K&&(K._fireAndBubble(O.pointerout,Object.assign({},Z),Y),K._fireAndBubble(O.pointerleave,Object.assign({},Z),Y)),Y){if(L[Y._id])return;L[Y._id]=!0}Y&&Y.isListening()?(j=!0,Te&&(Y._fireAndBubble(O.pointerover,Object.assign({},Z),K),Y._fireAndBubble(O.pointerenter,Object.assign({},Z),K),this[k+"targetShape"]=Y),Y._fireAndBubble(O.pointermove,Object.assign({},Z))):K&&(this._fire(O.pointerover,{evt:B,target:this,currentTarget:this,pointerId:ie}),this[k+"targetShape"]=null)}),j||this._fire(O.pointermove,{evt:B,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(B){const O=G(B.type),k=M(B.type);if(!O)return;this.setPointersPositions(B);const L=this[k+"ClickStartShape"],j=this[k+"ClickEndShape"];var K={};let J=!1;this._changedPointerPositions.forEach(Y=>{const ie=A.getCapturedShape(Y.id)||this.getIntersection(Y);if(ie){if(ie.releaseCapture(Y.id),K[ie._id])return;K[ie._id]=!0}const Z=Y.id,Te={evt:B,pointerId:Z};let mn=!1;i.Konva["_"+k+"InDblClickWindow"]?(mn=!0,clearTimeout(this[k+"DblTimeout"])):o.DD.justDragged||(i.Konva["_"+k+"InDblClickWindow"]=!0,clearTimeout(this[k+"DblTimeout"])),this[k+"DblTimeout"]=setTimeout(function(){i.Konva["_"+k+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),ie&&ie.isListening()?(J=!0,this[k+"ClickEndShape"]=ie,ie._fireAndBubble(O.pointerup,Object.assign({},Te)),i.Konva["_"+k+"ListenClick"]&&L&&L===ie&&(ie._fireAndBubble(O.pointerclick,Object.assign({},Te)),mn&&j&&j===ie&&ie._fireAndBubble(O.pointerdblclick,Object.assign({},Te)))):(this[k+"ClickEndShape"]=null,i.Konva["_"+k+"ListenClick"]&&this._fire(O.pointerclick,{evt:B,target:this,currentTarget:this,pointerId:Z}),mn&&this._fire(O.pointerdblclick,{evt:B,target:this,currentTarget:this,pointerId:Z}))}),J||this._fire(O.pointerup,{evt:B,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+k+"ListenClick"]=!1,B.cancelable&&B.preventDefault()}_contextmenu(B){this.setPointersPositions(B);var O=this.getIntersection(this.getPointerPosition());O&&O.isListening()?O._fireAndBubble(E,{evt:B}):this._fire(E,{evt:B,target:this,currentTarget:this})}_wheel(B){this.setPointersPositions(B);var O=this.getIntersection(this.getPointerPosition());O&&O.isListening()?O._fireAndBubble(I,{evt:B}):this._fire(I,{evt:B,target:this,currentTarget:this})}_pointercancel(B){this.setPointersPositions(B);const O=A.getCapturedShape(B.pointerId)||this.getIntersection(this.getPointerPosition());O&&O._fireAndBubble(m,A.createEvent(B)),A.releaseCapture(B.pointerId)}_lostpointercapture(B){A.releaseCapture(B.pointerId)}setPointersPositions(B){var O=this._getContentPosition(),k=null,L=null;(B=B||window.event).touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(B.touches,j=>{this._pointerPositions.push({id:j.identifier,x:(j.clientX-O.left)/O.scaleX,y:(j.clientY-O.top)/O.scaleY})}),Array.prototype.forEach.call(B.changedTouches||B.touches,j=>{this._changedPointerPositions.push({id:j.identifier,x:(j.clientX-O.left)/O.scaleX,y:(j.clientY-O.top)/O.scaleY})})):(k=(B.clientX-O.left)/O.scaleX,L=(B.clientY-O.top)/O.scaleY,this.pointerPos={x:k,y:L},this._pointerPositions=[{x:k,y:L,id:e.Util._getFirstPointerId(B)}],this._changedPointerPositions=[{x:k,y:L,id:e.Util._getFirstPointerId(B)}])}_setPointerPosition(B){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(B)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var B=this.content.getBoundingClientRect();return{top:B.top,left:B.left,scaleX:B.width/this.content.clientWidth||1,scaleY:B.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),i.Konva.isBrowser){var B=this.container();if(!B)throw"Stage has no container. A container is required.";B.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),B.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(B){B.batchDraw()}),this}}n.Stage=Q,Q.prototype.nodeType="Stage",(0,a._registerNode)(Q),t.Factory.addGetterSetter(Q,"container")}(HO);var eh={},Ht={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Shape=n.shapes=void 0;const e=ve,t=bt,r=pe,i=lt,s=Ae,o=ve,a=Gn;var A="hasShadow",c="shadowRGBA",l="patternImage",h="linearGradient",u="radialGradient";let d;function p(){return d||(d=t.Util.createCanvasElement().getContext("2d"),d)}n.shapes={};class f extends i.Node{constructor(m){let y;for(super(m);y=t.Util.getRandomColor(),!y||y in n.shapes;);this.colorKey=y,n.shapes[y]=this}getContext(){return t.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return t.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(A,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(l,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const m=p().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(m&&m.setTransform){const y=new t.Transform;y.translate(this.fillPatternX(),this.fillPatternY()),y.rotate(e.Konva.getAngle(this.fillPatternRotation())),y.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),y.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const w=y.getMatrix(),C=typeof DOMMatrix>"u"?{a:w[0],b:w[1],c:w[2],d:w[3],e:w[4],f:w[5]}:new DOMMatrix(w);m.setTransform(C)}return m}}_getLinearGradient(){return this._getCache(h,this.__getLinearGradient)}__getLinearGradient(){var m=this.fillLinearGradientColorStops();if(m){for(var y=p(),w=this.fillLinearGradientStartPoint(),C=this.fillLinearGradientEndPoint(),S=y.createLinearGradient(w.x,w.y,C.x,C.y),x=0;x<m.length;x+=2)S.addColorStop(m[x],m[x+1]);return S}}_getRadialGradient(){return this._getCache(u,this.__getRadialGradient)}__getRadialGradient(){var m=this.fillRadialGradientColorStops();if(m){for(var y=p(),w=this.fillRadialGradientStartPoint(),C=this.fillRadialGradientEndPoint(),S=y.createRadialGradient(w.x,w.y,this.fillRadialGradientStartRadius(),C.x,C.y,this.fillRadialGradientEndRadius()),x=0;x<m.length;x+=2)S.addColorStop(m[x],m[x+1]);return S}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var m=t.Util.colorToRGBA(this.shadowColor());return"rgba("+m.r+","+m.g+","+m.b+","+m.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops()))}hasHitStroke(){const m=this.hitStrokeWidth();return m==="auto"?this.hasStroke():this.strokeEnabled()&&!!m}intersects(m){var y=this.getStage().bufferHitCanvas;return y.getContext().clear(),this.drawHit(y,null,!0),y.context.getImageData(Math.round(m.x),Math.round(m.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete n.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(m){var y;if(!this.getStage()||!((y=this.attrs.perfectDrawEnabled)===null||y===void 0||y))return!1;const w=m||this.hasFill(),C=this.hasStroke(),S=this.getAbsoluteOpacity()!==1;if(w&&C&&S)return!0;const x=this.hasShadow(),E=this.shadowForStrokeEnabled();return!!(w&&C&&x&&E)}setStrokeHitEnabled(m){t.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),m?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var m=this.size();return{x:this._centroid?-m.width/2:0,y:this._centroid?-m.height/2:0,width:m.width,height:m.height}}getClientRect(m={}){const y=m.skipTransform,w=m.relativeTo,C=this.getSelfRect(),S=!m.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,x=C.width+S,E=C.height+S,T=!m.skipShadow&&this.hasShadow(),P=T?this.shadowOffsetX():0,F=T?this.shadowOffsetY():0,U=x+Math.abs(P),I=E+Math.abs(F),D=T&&this.shadowBlur()||0,$={width:U+2*D,height:I+2*D,x:-(S/2+D)+Math.min(P,0)+C.x,y:-(S/2+D)+Math.min(F,0)+C.y};return y?$:this._transformedRect($,w)}drawScene(m,y){var w,C,S=this.getLayer(),x=m||S.getCanvas(),E=x.getContext(),T=this._getCanvasCache(),P=this.getSceneFunc(),F=this.hasShadow(),U=x.isCache,I=y===this;if(!this.isVisible()&&!I)return this;if(T){E.save();var D=this.getAbsoluteTransform(y).getMatrix();return E.transform(D[0],D[1],D[2],D[3],D[4],D[5]),this._drawCachedSceneCanvas(E),E.restore(),this}if(!P)return this;if(E.save(),this._useBufferCanvas()&&!U){(C=(w=this.getStage().bufferCanvas).getContext()).clear(),C.save(),C._applyLineJoin(this);var $=this.getAbsoluteTransform(y).getMatrix();C.transform($[0],$[1],$[2],$[3],$[4],$[5]),P.call(this,C,this),C.restore();var M=w.pixelRatio;F&&E._applyShadow(this),E._applyOpacity(this),E._applyGlobalCompositeOperation(this),E.drawImage(w._canvas,0,0,w.width/M,w.height/M)}else E._applyLineJoin(this),!I&&($=this.getAbsoluteTransform(y).getMatrix(),E.transform($[0],$[1],$[2],$[3],$[4],$[5]),E._applyOpacity(this),E._applyGlobalCompositeOperation(this)),F&&E._applyShadow(this),P.call(this,E,this);return E.restore(),this}drawHit(m,y,w=!1){if(!this.shouldDrawHit(y,w))return this;var C=this.getLayer(),S=m||C.hitCanvas,x=S&&S.getContext(),E=this.hitFunc()||this.sceneFunc(),T=this._getCanvasCache(),P=T&&T.hit;if(this.colorKey||t.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),P){x.save();var F=this.getAbsoluteTransform(y).getMatrix();return x.transform(F[0],F[1],F[2],F[3],F[4],F[5]),this._drawCachedHitCanvas(x),x.restore(),this}if(!E)return this;if(x.save(),x._applyLineJoin(this),this!==y){var U=this.getAbsoluteTransform(y).getMatrix();x.transform(U[0],U[1],U[2],U[3],U[4],U[5])}return E.call(this,x,this),x.restore(),this}drawHitFromCache(m=0){var y,w,C,S,x,E=this._getCanvasCache(),T=this._getCachedSceneCanvas(),P=E.hit,F=P.getContext(),U=P.getWidth(),I=P.getHeight();F.clear(),F.drawImage(T._canvas,0,0,U,I);try{for(C=(w=(y=F.getImageData(0,0,U,I)).data).length,S=t.Util._hexToRgb(this.colorKey),x=0;x<C;x+=4)w[x+3]>m?(w[x]=S.r,w[x+1]=S.g,w[x+2]=S.b,w[x+3]=255):w[x+3]=0;F.putImageData(y,0,0)}catch(D){t.Util.error("Unable to draw hit graph from cached scene canvas. "+D.message)}return this}hasPointerCapture(m){return a.hasPointerCapture(m,this)}setPointerCapture(m){a.setPointerCapture(m,this)}releaseCapture(m){a.releaseCapture(m,this)}}n.Shape=f,f.prototype._fillFunc=function(v){v.fill()},f.prototype._strokeFunc=function(v){v.stroke()},f.prototype._fillFuncHit=function(v){v.fill()},f.prototype._strokeFuncHit=function(v){v.stroke()},f.prototype._centroid=!1,f.prototype.nodeType="Shape",(0,o._registerNode)(f),f.prototype.eventListeners={},f.prototype.on.call(f.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(A)}),f.prototype.on.call(f.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(c)}),f.prototype.on.call(f.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function(){this._clearCache(l)}),f.prototype.on.call(f.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function(){this._clearCache(h)}),f.prototype.on.call(f.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function(){this._clearCache(u)}),r.Factory.addGetterSetter(f,"stroke",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(f,"strokeWidth",2,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(f,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(f,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(f,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(f,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(f,"lineJoin"),r.Factory.addGetterSetter(f,"lineCap"),r.Factory.addGetterSetter(f,"sceneFunc"),r.Factory.addGetterSetter(f,"hitFunc"),r.Factory.addGetterSetter(f,"dash"),r.Factory.addGetterSetter(f,"dashOffset",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"shadowColor",void 0,(0,s.getStringValidator)()),r.Factory.addGetterSetter(f,"shadowBlur",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"shadowOpacity",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(f,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(f,"shadowOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"shadowOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"fillPatternImage"),r.Factory.addGetterSetter(f,"fill",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(f,"fillPatternX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"fillPatternY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(f,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(f,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(f,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(f,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(f,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(f,"fillEnabled",!0),r.Factory.addGetterSetter(f,"strokeEnabled",!0),r.Factory.addGetterSetter(f,"shadowEnabled",!0),r.Factory.addGetterSetter(f,"dashEnabled",!0),r.Factory.addGetterSetter(f,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(f,"fillPriority","color"),r.Factory.addComponentsGetterSetter(f,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(f,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(f,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(f,"fillPatternScaleX",1,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(f,"fillPatternScaleY",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(f,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(f,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(f,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(f,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(f,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(f,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(f,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(f,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(f,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(f,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(f,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(f,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(f,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(f,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(f,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(f,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(f,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(f,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(f,"fillPatternRotation",0),r.Factory.backCompat(f,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Ht),Object.defineProperty(eh,"__esModule",{value:!0}),eh.Layer=void 0;const As=bt,lv=sa,Na=lt,cv=pe,fS=Rr,IAe=Ae,UAe=Ht,kAe=ve;var jO=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],DAe=jO.length;class Ra extends lv.Container{constructor(e){super(e),this.canvas=new fS.SceneCanvas,this.hitCanvas=new fS.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Na.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Na.Node.prototype.moveUp.call(this))return!1;var e=this.getStage();return!(!e||!e.content)&&(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Na.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Na.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return Na.Node.prototype.remove.call(this),e&&e.parentNode&&As.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){var t=e.getType();t!=="Group"&&t!=="Shape"&&As.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Na.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){const e=this.visible();this.canvas._canvas.style.display=e?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){As.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){As.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,As.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var t=1,r=!1;;){for(let i=0;i<DAe;i++){const s=jO[i],o=this._getIntersection({x:e.x+s.x*t,y:e.y+s.y*t}),a=o.shape;if(a)return a;if(r=!!o.antialiased,!o.antialiased)break}if(!r)return null;t+=1}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,i=r[3];if(i===255){const s=As.Util._rgbToHex(r[0],r[1],r[2]),o=UAe.shapes["#"+s];return o?{shape:o}:{antialiased:!0}}return i>0?{antialiased:!0}:{}}drawScene(e,t){var r=this.getLayer(),i=e||r&&r.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),lv.Container.prototype.drawScene.call(this,i,t),this._fire("draw",{node:this}),this}drawHit(e,t){var r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),lv.Container.prototype.drawHit.call(this,i,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){As.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return As.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var e=this.parent;this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}}eh.Layer=Ra,Ra.prototype.nodeType="Layer",(0,kAe._registerNode)(Ra),cv.Factory.addGetterSetter(Ra,"imageSmoothingEnabled",!0),cv.Factory.addGetterSetter(Ra,"clearBeforeDraw",!0),cv.Factory.addGetterSetter(Ra,"hitGraphEnabled",!0,(0,IAe.getBooleanValidator)());var xp={};Object.defineProperty(xp,"__esModule",{value:!0}),xp.FastLayer=void 0;const QAe=bt,MAe=eh,LAe=ve;class hv extends MAe.Layer{constructor(e){super(e),this.listening(!1),QAe.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}xp.FastLayer=hv,hv.prototype.nodeType="FastLayer",(0,LAe._registerNode)(hv);var NA={};Object.defineProperty(NA,"__esModule",{value:!0}),NA.Group=void 0;const NAe=bt,RAe=sa,HAe=ve;class uv extends RAe.Container{_validateAdd(e){var t=e.getType();t!=="Group"&&t!=="Shape"&&NAe.Util.throw("You may only add groups and shapes to groups.")}}NA.Group=uv,uv.prototype.nodeType="Group",(0,HAe._registerNode)(uv);var RA={};Object.defineProperty(RA,"__esModule",{value:!0}),RA.Animation=void 0;const dv=ve,pS=bt;var fv=dv.glob.performance&&dv.glob.performance.now?function(){return dv.glob.performance.now()}:function(){return new Date().getTime()};class ii{constructor(e,t){this.id=ii.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:fv(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){var t=[];return t=e?e.length>0?e:[e]:[],this.layers=t,this}getLayers(){return this.layers}addLayer(e){var t,r=this.layers,i=r.length;for(t=0;t<i;t++)if(r[t]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e,t=ii.animations,r=t.length;for(e=0;e<r;e++)if(t[e].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=fv(),ii._addAnimation(this),this}stop(){return ii._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var t,r=e.id,i=this.animations,s=i.length;for(t=0;t<s;t++)if(i[t].id===r){this.animations.splice(t,1);break}}static _runFrames(){var e,t,r,i,s,o,a,A,c={},l=this.animations;for(i=0;i<l.length;i++)if(t=(e=l[i]).layers,r=e.func,e._updateFrameObject(fv()),o=t.length,!r||r.call(e,e.frame)!==!1)for(s=0;s<o;s++)(a=t[s])._id!==void 0&&(c[a._id]=a);for(A in c)c.hasOwnProperty(A)&&c[A].batchDraw()}static _animationLoop(){var e=ii;e.animations.length?(e._runFrames(),pS.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,pS.Util.requestAnimFrame(this._animationLoop))}}RA.Animation=ii,ii.animations=[],ii.animIdCounter=0,ii.animRunning=!1;var gS={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Easings=n.Tween=void 0;const e=bt,t=RA,r=lt,i=ve;var s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=0,a=["fill","stroke","shadowColor"];class A{constructor(h,u,d,p,f,v,m){this.prop=h,this.propFunc=u,this.begin=p,this._pos=p,this.duration=v,this._change=0,this.prevPos=0,this.yoyo=m,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=d,this._change=f-this.begin,this.pause()}fire(h){var u=this[h];u&&u()}setTime(h){h>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():h<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=h,this.update())}getTime(){return this._time}setPosition(h){this.prevPos=this._pos,this.propFunc(h),this._pos=h}getPosition(h){return h===void 0&&(h=this._time),this.func(h,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(h){this.pause(),this._time=h,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var h=this.getTimer()-this._startTime;this.state===2?this.setTime(h):this.state===3&&this.setTime(this.duration-h)}pause(){this.state=1,this.fire("onPause")}getTimer(){return new Date().getTime()}}class c{constructor(h){var u,d,p=this,f=h.node,v=f._id,m=h.easing||n.Easings.Linear,y=!!h.yoyo;u=h.duration===void 0?.3:h.duration===0?.001:h.duration,this.node=f,this._id=o++;var w=f.getLayer()||(f instanceof i.Konva.Stage?f.getLayers():null);for(d in w||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new t.Animation(function(){p.tween.onEnterFrame()},w),this.tween=new A(d,function(C){p._tweenFunc(C)},m,0,1,1e3*u,y),this._addListeners(),c.attrs[v]||(c.attrs[v]={}),c.attrs[v][this._id]||(c.attrs[v][this._id]={}),c.tweens[v]||(c.tweens[v]={}),h)s[d]===void 0&&this._addAttr(d,h[d]);this.reset(),this.onFinish=h.onFinish,this.onReset=h.onReset,this.onUpdate=h.onUpdate}_addAttr(h,u){var d,p,f,v,m,y,w,C,S=this.node,x=S._id;if((f=c.tweens[x][h])&&delete c.attrs[x][f][h],d=S.getAttr(h),e.Util._isArray(u))if(p=[],m=Math.max(u.length,d.length),h==="points"&&u.length!==d.length&&(u.length>d.length?(w=d,d=e.Util._prepareArrayForTween(d,u,S.closed())):(y=u,u=e.Util._prepareArrayForTween(u,d,S.closed()))),h.indexOf("fill")===0)for(v=0;v<m;v++)if(v%2==0)p.push(u[v]-d[v]);else{var E=e.Util.colorToRGBA(d[v]);C=e.Util.colorToRGBA(u[v]),d[v]=E,p.push({r:C.r-E.r,g:C.g-E.g,b:C.b-E.b,a:C.a-E.a})}else for(v=0;v<m;v++)p.push(u[v]-d[v]);else a.indexOf(h)!==-1?(d=e.Util.colorToRGBA(d),p={r:(C=e.Util.colorToRGBA(u)).r-d.r,g:C.g-d.g,b:C.b-d.b,a:C.a-d.a}):p=u-d;c.attrs[x][this._id][h]={start:d,diff:p,end:u,trueEnd:y,trueStart:w},c.tweens[x][h]=this._id}_tweenFunc(h){var u,d,p,f,v,m,y,w,C=this.node,S=c.attrs[C._id][this._id];for(u in S){if(p=(d=S[u]).start,f=d.diff,w=d.end,e.Util._isArray(p))if(v=[],y=Math.max(p.length,w.length),u.indexOf("fill")===0)for(m=0;m<y;m++)m%2==0?v.push((p[m]||0)+f[m]*h):v.push("rgba("+Math.round(p[m].r+f[m].r*h)+","+Math.round(p[m].g+f[m].g*h)+","+Math.round(p[m].b+f[m].b*h)+","+(p[m].a+f[m].a*h)+")");else for(m=0;m<y;m++)v.push((p[m]||0)+f[m]*h);else v=a.indexOf(u)!==-1?"rgba("+Math.round(p.r+f.r*h)+","+Math.round(p.g+f.g*h)+","+Math.round(p.b+f.b*h)+","+(p.a+f.a*h)+")":p+f*h;C.setAttr(u,v)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var h=this.node,u=c.attrs[h._id][this._id];u.points&&u.points.trueEnd&&h.setAttr("points",u.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var h=this.node,u=c.attrs[h._id][this._id];u.points&&u.points.trueStart&&h.points(u.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(h){return this.tween.seek(1e3*h),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var h,u=this.node._id,d=this._id,p=c.tweens[u];for(h in this.pause(),p)delete c.tweens[u][h];delete c.attrs[u][d]}}n.Tween=c,c.attrs={},c.tweens={},r.Node.prototype.to=function(l){var h=l.onFinish;l.node=this,l.onFinish=function(){this.destroy(),h&&h()},new c(l).play()},n.Easings={BackEaseIn(l,h,u,d){var p=1.70158;return u*(l/=d)*l*((p+1)*l-p)+h},BackEaseOut(l,h,u,d){var p=1.70158;return u*((l=l/d-1)*l*((p+1)*l+p)+1)+h},BackEaseInOut(l,h,u,d){var p=1.70158;return(l/=d/2)<1?u/2*(l*l*((1+(p*=1.525))*l-p))+h:u/2*((l-=2)*l*((1+(p*=1.525))*l+p)+2)+h},ElasticEaseIn(l,h,u,d,p,f){var v=0;return l===0?h:(l/=d)==1?h+u:(f||(f=.3*d),!p||p<Math.abs(u)?(p=u,v=f/4):v=f/(2*Math.PI)*Math.asin(u/p),-p*Math.pow(2,10*(l-=1))*Math.sin((l*d-v)*(2*Math.PI)/f)+h)},ElasticEaseOut(l,h,u,d,p,f){var v=0;return l===0?h:(l/=d)==1?h+u:(f||(f=.3*d),!p||p<Math.abs(u)?(p=u,v=f/4):v=f/(2*Math.PI)*Math.asin(u/p),p*Math.pow(2,-10*l)*Math.sin((l*d-v)*(2*Math.PI)/f)+u+h)},ElasticEaseInOut(l,h,u,d,p,f){var v=0;return l===0?h:(l/=d/2)==2?h+u:(f||(f=d*(.3*1.5)),!p||p<Math.abs(u)?(p=u,v=f/4):v=f/(2*Math.PI)*Math.asin(u/p),l<1?p*Math.pow(2,10*(l-=1))*Math.sin((l*d-v)*(2*Math.PI)/f)*-.5+h:p*Math.pow(2,-10*(l-=1))*Math.sin((l*d-v)*(2*Math.PI)/f)*.5+u+h)},BounceEaseOut:(l,h,u,d)=>(l/=d)<1/2.75?u*(7.5625*l*l)+h:l<2/2.75?u*(7.5625*(l-=1.5/2.75)*l+.75)+h:l<2.5/2.75?u*(7.5625*(l-=2.25/2.75)*l+.9375)+h:u*(7.5625*(l-=2.625/2.75)*l+.984375)+h,BounceEaseIn:(l,h,u,d)=>u-n.Easings.BounceEaseOut(d-l,0,u,d)+h,BounceEaseInOut:(l,h,u,d)=>l<d/2?.5*n.Easings.BounceEaseIn(2*l,0,u,d)+h:.5*n.Easings.BounceEaseOut(2*l-d,0,u,d)+.5*u+h,EaseIn:(l,h,u,d)=>u*(l/=d)*l+h,EaseOut:(l,h,u,d)=>-u*(l/=d)*(l-2)+h,EaseInOut:(l,h,u,d)=>(l/=d/2)<1?u/2*l*l+h:-u/2*(--l*(l-2)-1)+h,StrongEaseIn:(l,h,u,d)=>u*(l/=d)*l*l*l*l+h,StrongEaseOut:(l,h,u,d)=>u*((l=l/d-1)*l*l*l*l+1)+h,StrongEaseInOut:(l,h,u,d)=>(l/=d/2)<1?u/2*l*l*l*l*l+h:u/2*((l-=2)*l*l*l*l+2)+h,Linear:(l,h,u,d)=>u*l/d+h}})(gS),function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Konva=void 0;const e=ve,t=bt,r=lt,i=sa,s=HO,o=eh,a=xp,A=NA,c=sm,l=Ht,h=RA,u=gS,d=Qi,p=Rr;n.Konva=t.Util._assign(e.Konva,{Util:t.Util,Transform:t.Transform,Node:r.Node,Container:i.Container,Stage:s.Stage,stages:s.stages,Layer:o.Layer,FastLayer:a.FastLayer,Group:A.Group,DD:c.DD,Shape:l.Shape,shapes:l.shapes,Animation:h.Animation,Tween:u.Tween,Easings:u.Easings,Context:d.Context,Canvas:p.Canvas}),n.default=n.Konva}(LO);var _p={};Object.defineProperty(_p,"__esModule",{value:!0}),_p.Arc=void 0;const Vu=pe,$Ae=Ht,mS=ve,zu=Ae,jAe=ve;class Ei extends $Ae.Shape{_sceneFunc(e){var t=mS.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,r),e.arc(0,0,this.innerRadius(),t,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),r=this.clockwise(),i=mS.Konva.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),o=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),a=Math.sin(Math.min(i,Math.PI/2)),A=s*(s>0?e:t),c=o*(o>0?e:t),l=a*(a>0?t:e);return{x:A,y:r?-1*l:c,width:1*t-A,height:l-c}}}_p.Arc=Ei,Ei.prototype._centroid=!0,Ei.prototype.className="Arc",Ei.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,jAe._registerNode)(Ei),Vu.Factory.addGetterSetter(Ei,"innerRadius",0,(0,zu.getNumberValidator)()),Vu.Factory.addGetterSetter(Ei,"outerRadius",0,(0,zu.getNumberValidator)()),Vu.Factory.addGetterSetter(Ei,"angle",0,(0,zu.getNumberValidator)()),Vu.Factory.addGetterSetter(Ei,"clockwise",!1,(0,zu.getBooleanValidator)());var Sp={},th={};Object.defineProperty(th,"__esModule",{value:!0}),th.Line=void 0;const Wu=pe,KAe=Ht,vS=Ae,GAe=ve;function S1(n,e,t,r,i,s,o){var a=Math.sqrt(Math.pow(t-n,2)+Math.pow(r-e,2)),A=Math.sqrt(Math.pow(i-t,2)+Math.pow(s-r,2)),c=o*a/(a+A),l=o*A/(a+A);return[t-c*(i-n),r-c*(s-e),t+l*(i-n),r+l*(s-e)]}function yS(n,e){var t,r,i=n.length,s=[];for(t=2;t<i-2;t+=2)r=S1(n[t-2],n[t-1],n[t],n[t+1],n[t+2],n[t+3],e),isNaN(r[0])||(s.push(r[0]),s.push(r[1]),s.push(n[t]),s.push(n[t+1]),s.push(r[2]),s.push(r[3]));return s}class ls extends KAe.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var t,r,i,s=this.points(),o=s.length,a=this.tension(),A=this.closed(),c=this.bezier();if(o){if(e.beginPath(),e.moveTo(s[0],s[1]),a!==0&&o>4){for(r=(t=this.getTensionPoints()).length,i=A?0:4,A||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);i<r-2;)e.bezierCurveTo(t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]);A||e.quadraticCurveTo(t[r-2],t[r-1],s[o-2],s[o-1])}else if(c)for(i=2;i<o;)e.bezierCurveTo(s[i++],s[i++],s[i++],s[i++],s[i++],s[i++]);else for(i=2;i<o;i+=2)e.lineTo(s[i],s[i+1]);A?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():yS(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),t=e.length,r=this.tension(),i=S1(e[t-2],e[t-1],e[0],e[1],e[2],e[3],r),s=S1(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],r),o=yS(e,r);return[i[2],i[3]].concat(o).concat([s[0],s[1],e[t-2],e[t-1],s[2],s[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};for(var t,r,i=(e=this.tension()!==0?[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.points())[0],s=e[0],o=e[1],a=e[1],A=0;A<e.length/2;A++)t=e[2*A],r=e[2*A+1],i=Math.min(i,t),s=Math.max(s,t),o=Math.min(o,r),a=Math.max(a,r);return{x:i,y:o,width:s-i,height:a-o}}}th.Line=ls,ls.prototype.className="Line",ls.prototype._attrsAffectingSize=["points","bezier","tension"],(0,GAe._registerNode)(ls),Wu.Factory.addGetterSetter(ls,"closed",!1),Wu.Factory.addGetterSetter(ls,"bezier",!1),Wu.Factory.addGetterSetter(ls,"tension",0,(0,vS.getNumberValidator)()),Wu.Factory.addGetterSetter(ls,"points",[],(0,vS.getNumberArrayValidator)());var HA={};Object.defineProperty(HA,"__esModule",{value:!0}),HA.Path=void 0;const VAe=pe,zAe=Ht,WAe=ve;class ln extends zAe.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this.dataArray=ln.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength;this.on("dataChange.konva",function(){this.dataArray=ln.parsePathData(this.data()),this.pathLength=0;for(var r=0;r<this.dataArray.length;++r)this.pathLength+=this.dataArray[r].pathLength})}_sceneFunc(e){var t=this.dataArray;e.beginPath();for(var r=!1,i=0;i<t.length;i++){var s=t[i].command,o=t[i].points;switch(s){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],A=o[1],c=o[2],l=o[3],h=o[4],u=o[5],d=o[6],p=o[7],f=c>l?c:l,v=c>l?1:c/l,m=c>l?l/c:1;e.translate(a,A),e.rotate(d),e.scale(v,m),e.arc(0,0,f,h,h+u,1-p),e.scale(1/v,1/m),e.rotate(-d),e.translate(-a,-A);break;case"z":r=!0,e.closePath()}}r||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(c){if(c.command==="A"){var l=c.points[4],h=c.points[5],u=c.points[4]+h,d=Math.PI/180;if(Math.abs(l-u)<d&&(d=Math.abs(l-u)),h<0)for(let p=l-d;p>u;p-=d){const f=ln.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],p,0);e.push(f.x,f.y)}else for(let p=l+d;p<u;p+=d){const f=ln.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],p,0);e.push(f.x,f.y)}}else if(c.command==="C")for(let p=0;p<=1;p+=.01){const f=ln.getPointOnCubicBezier(p,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);e.push(f.x,f.y)}else e=e.concat(c.points)});for(var t,r,i=e[0],s=e[0],o=e[1],a=e[1],A=0;A<e.length/2;A++)t=e[2*A],r=e[2*A+1],isNaN(t)||(i=Math.min(i,t),s=Math.max(s,t)),isNaN(r)||(o=Math.min(o,r),a=Math.max(a,r));return{x:i,y:o,width:s-i,height:a-o}}getLength(){return this.pathLength}getPointAtLength(e){var t,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&e>this.dataArray[r].pathLength;)e-=this.dataArray[r].pathLength,++r;if(r===i)return{x:(t=this.dataArray[r-1].points.slice(-2))[0],y:t[1]};if(e<.01)return{x:(t=this.dataArray[r].points.slice(0,2))[0],y:t[1]};var s=this.dataArray[r],o=s.points;switch(s.command){case"L":return ln.getPointOnLine(e,s.start.x,s.start.y,o[0],o[1]);case"C":return ln.getPointOnCubicBezier(e/s.pathLength,s.start.x,s.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return ln.getPointOnQuadraticBezier(e/s.pathLength,s.start.x,s.start.y,o[0],o[1],o[2],o[3]);case"A":var a=o[0],A=o[1],c=o[2],l=o[3],h=o[4],u=o[5],d=o[6];return h+=u*e/s.pathLength,ln.getPointOnEllipticalArc(a,A,c,l,h,d)}return null}static getLineLength(e,t,r,i){return Math.sqrt((r-e)*(r-e)+(i-t)*(i-t))}static getPointOnLine(e,t,r,i,s,o,a){o===void 0&&(o=t),a===void 0&&(a=r);var A=(s-r)/(i-t+1e-8),c=Math.sqrt(e*e/(1+A*A));i<t&&(c*=-1);var l,h=A*c;if(i===t)l={x:o,y:a+h};else if((a-r)/(o-t+1e-8)===A)l={x:o+c,y:a+h};else{var u,d,p=this.getLineLength(t,r,i,s),f=(o-t)*(i-t)+(a-r)*(s-r);u=t+(f/=p*p)*(i-t),d=r+f*(s-r);var v=this.getLineLength(o,a,u,d),m=Math.sqrt(e*e-v*v);c=Math.sqrt(m*m/(1+A*A)),i<t&&(c*=-1),l={x:u+c,y:d+(h=A*c)}}return l}static getPointOnCubicBezier(e,t,r,i,s,o,a,A,c){function l(p){return p*p*p}function h(p){return 3*p*p*(1-p)}function u(p){return 3*p*(1-p)*(1-p)}function d(p){return(1-p)*(1-p)*(1-p)}return{x:A*l(e)+o*h(e)+i*u(e)+t*d(e),y:c*l(e)+a*h(e)+s*u(e)+r*d(e)}}static getPointOnQuadraticBezier(e,t,r,i,s,o,a){function A(h){return h*h}function c(h){return 2*h*(1-h)}function l(h){return(1-h)*(1-h)}return{x:o*A(e)+i*c(e)+t*l(e),y:a*A(e)+s*c(e)+r*l(e)}}static getPointOnEllipticalArc(e,t,r,i,s,o){var a=Math.cos(o),A=Math.sin(o),c=r*Math.cos(s),l=i*Math.sin(s);return{x:e+(c*a-l*A),y:t+(c*A+l*a)}}static parsePathData(e){if(!e)return[];var t=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var i=0;i<r.length;i++)t=t.replace(new RegExp(r[i],"g"),"|"+r[i]);var s,o=t.split("|"),a=[],A=[],c=0,l=0,h=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(i=1;i<o.length;i++){var u=o[i],d=u.charAt(0);for(u=u.slice(1),A.length=0;s=h.exec(u);)A.push(s[0]);for(var p=[],f=0,v=A.length;f<v;f++)if(A[f]!=="00"){var m=parseFloat(A[f]);isNaN(m)?p.push(0):p.push(m)}else p.push(0,0);for(;p.length>0&&!isNaN(p[0]);){var y,w,C,S,x,E,T,P,F,U,I=null,D=[],$=c,M=l;switch(d){case"l":c+=p.shift(),l+=p.shift(),I="L",D.push(c,l);break;case"L":c=p.shift(),l=p.shift(),D.push(c,l);break;case"m":var G=p.shift(),V=p.shift();if(c+=G,l+=V,I="M",a.length>2&&a[a.length-1].command==="z"){for(var Q=a.length-2;Q>=0;Q--)if(a[Q].command==="M"){c=a[Q].points[0]+G,l=a[Q].points[1]+V;break}}D.push(c,l),d="l";break;case"M":c=p.shift(),l=p.shift(),I="M",D.push(c,l),d="L";break;case"h":c+=p.shift(),I="L",D.push(c,l);break;case"H":c=p.shift(),I="L",D.push(c,l);break;case"v":l+=p.shift(),I="L",D.push(c,l);break;case"V":l=p.shift(),I="L",D.push(c,l);break;case"C":D.push(p.shift(),p.shift(),p.shift(),p.shift()),c=p.shift(),l=p.shift(),D.push(c,l);break;case"c":D.push(c+p.shift(),l+p.shift(),c+p.shift(),l+p.shift()),c+=p.shift(),l+=p.shift(),I="C",D.push(c,l);break;case"S":w=c,C=l,(y=a[a.length-1]).command==="C"&&(w=c+(c-y.points[2]),C=l+(l-y.points[3])),D.push(w,C,p.shift(),p.shift()),c=p.shift(),l=p.shift(),I="C",D.push(c,l);break;case"s":w=c,C=l,(y=a[a.length-1]).command==="C"&&(w=c+(c-y.points[2]),C=l+(l-y.points[3])),D.push(w,C,c+p.shift(),l+p.shift()),c+=p.shift(),l+=p.shift(),I="C",D.push(c,l);break;case"Q":D.push(p.shift(),p.shift()),c=p.shift(),l=p.shift(),D.push(c,l);break;case"q":D.push(c+p.shift(),l+p.shift()),c+=p.shift(),l+=p.shift(),I="Q",D.push(c,l);break;case"T":w=c,C=l,(y=a[a.length-1]).command==="Q"&&(w=c+(c-y.points[0]),C=l+(l-y.points[1])),c=p.shift(),l=p.shift(),I="Q",D.push(w,C,c,l);break;case"t":w=c,C=l,(y=a[a.length-1]).command==="Q"&&(w=c+(c-y.points[0]),C=l+(l-y.points[1])),c+=p.shift(),l+=p.shift(),I="Q",D.push(w,C,c,l);break;case"A":S=p.shift(),x=p.shift(),E=p.shift(),T=p.shift(),P=p.shift(),F=c,U=l,c=p.shift(),l=p.shift(),I="A",D=this.convertEndpointToCenterParameterization(F,U,c,l,T,P,S,x,E);break;case"a":S=p.shift(),x=p.shift(),E=p.shift(),T=p.shift(),P=p.shift(),F=c,U=l,c+=p.shift(),l+=p.shift(),I="A",D=this.convertEndpointToCenterParameterization(F,U,c,l,T,P,S,x,E)}a.push({command:I||d,points:D,start:{x:$,y:M},pathLength:this.calcLength($,M,I||d,D)})}d!=="z"&&d!=="Z"||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a}static calcLength(e,t,r,i){var s,o,a,A,c=ln;switch(r){case"L":return c.getLineLength(e,t,i[0],i[1]);case"C":for(s=0,o=c.getPointOnCubicBezier(0,e,t,i[0],i[1],i[2],i[3],i[4],i[5]),A=.01;A<=1;A+=.01)a=c.getPointOnCubicBezier(A,e,t,i[0],i[1],i[2],i[3],i[4],i[5]),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return s;case"Q":for(s=0,o=c.getPointOnQuadraticBezier(0,e,t,i[0],i[1],i[2],i[3]),A=.01;A<=1;A+=.01)a=c.getPointOnQuadraticBezier(A,e,t,i[0],i[1],i[2],i[3]),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return s;case"A":s=0;var l=i[4],h=i[5],u=i[4]+h,d=Math.PI/180;if(Math.abs(l-u)<d&&(d=Math.abs(l-u)),o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),h<0)for(A=l-d;A>u;A-=d)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],A,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(A=l+d;A<u;A+=d)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],A,0),s+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),s+=c.getLineLength(o.x,o.y,a.x,a.y)}return 0}static convertEndpointToCenterParameterization(e,t,r,i,s,o,a,A,c){var l=c*(Math.PI/180),h=Math.cos(l)*(e-r)/2+Math.sin(l)*(t-i)/2,u=-1*Math.sin(l)*(e-r)/2+Math.cos(l)*(t-i)/2,d=h*h/(a*a)+u*u/(A*A);d>1&&(a*=Math.sqrt(d),A*=Math.sqrt(d));var p=Math.sqrt((a*a*(A*A)-a*a*(u*u)-A*A*(h*h))/(a*a*(u*u)+A*A*(h*h)));s===o&&(p*=-1),isNaN(p)&&(p=0);var f=p*a*u/A,v=p*-A*h/a,m=(e+r)/2+Math.cos(l)*f-Math.sin(l)*v,y=(t+i)/2+Math.sin(l)*f+Math.cos(l)*v,w=function(F){return Math.sqrt(F[0]*F[0]+F[1]*F[1])},C=function(F,U){return(F[0]*U[0]+F[1]*U[1])/(w(F)*w(U))},S=function(F,U){return(F[0]*U[1]<F[1]*U[0]?-1:1)*Math.acos(C(F,U))},x=S([1,0],[(h-f)/a,(u-v)/A]),E=[(h-f)/a,(u-v)/A],T=[(-1*h-f)/a,(-1*u-v)/A],P=S(E,T);return C(E,T)<=-1&&(P=Math.PI),C(E,T)>=1&&(P=0),o===0&&P>0&&(P-=2*Math.PI),o===1&&P<0&&(P+=2*Math.PI),[m,y,a,A,x,P,l,o]}}HA.Path=ln,ln.prototype.className="Path",ln.prototype._attrsAffectingSize=["data"],(0,WAe._registerNode)(ln),VAe.Factory.addGetterSetter(ln,"data"),Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.Arrow=void 0;const Xu=pe,XAe=th,bS=Ae,YAe=ve,wS=HA;class mo extends XAe.Line{_sceneFunc(e){super._sceneFunc(e);var t=2*Math.PI,r=this.points(),i=r,s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());var o,a,A=this.pointerLength(),c=r.length;if(s){const u=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[c-2],r[c-1]],d=wS.Path.calcLength(i[i.length-4],i[i.length-3],"C",u),p=wS.Path.getPointOnQuadraticBezier(Math.min(1,1-A/d),u[0],u[1],u[2],u[3],u[4],u[5]);o=r[c-2]-p.x,a=r[c-1]-p.y}else o=r[c-2]-r[c-4],a=r[c-1]-r[c-3];var l=(Math.atan2(a,o)+t)%t,h=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[c-2],r[c-1]),e.rotate(l),e.moveTo(0,0),e.lineTo(-A,h/2),e.lineTo(-A,-h/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(o=(i[0]+i[2])/2-r[0],a=(i[1]+i[3])/2-r[1]):(o=r[2]-r[0],a=r[3]-r[1]),e.rotate((Math.atan2(-a,-o)+t)%t),e.moveTo(0,0),e.lineTo(-A,h/2),e.lineTo(-A,-h/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}}}Sp.Arrow=mo,mo.prototype.className="Arrow",(0,YAe._registerNode)(mo),Xu.Factory.addGetterSetter(mo,"pointerLength",10,(0,bS.getNumberValidator)()),Xu.Factory.addGetterSetter(mo,"pointerWidth",10,(0,bS.getNumberValidator)()),Xu.Factory.addGetterSetter(mo,"pointerAtBeginning",!1),Xu.Factory.addGetterSetter(mo,"pointerAtEnding",!0);var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.Circle=void 0;const JAe=pe,ZAe=Ht,qAe=Ae,ele=ve;class Ha extends ZAe.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}Ep.Circle=Ha,Ha.prototype._centroid=!0,Ha.prototype.className="Circle",Ha.prototype._attrsAffectingSize=["radius"],(0,ele._registerNode)(Ha),JAe.Factory.addGetterSetter(Ha,"radius",0,(0,qAe.getNumberValidator)());var Fp={};Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.Ellipse=void 0;const pv=pe,tle=Ht,CS=Ae,nle=ve;class cs extends tle.Shape{_sceneFunc(e){var t=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),t!==r&&e.scale(1,r/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Fp.Ellipse=cs,cs.prototype.className="Ellipse",cs.prototype._centroid=!0,cs.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,nle._registerNode)(cs),pv.Factory.addComponentsGetterSetter(cs,"radius",["x","y"]),pv.Factory.addGetterSetter(cs,"radiusX",0,(0,CS.getNumberValidator)()),pv.Factory.addGetterSetter(cs,"radiusY",0,(0,CS.getNumberValidator)());var Tp={};Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.Image=void 0;const rle=bt,$a=pe,ile=Ht,Yu=Ae,sle=ve;class Tr extends ile.Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),r=this.getHeight(),i=this.attrs.image;let s;if(i){const o=this.attrs.cropWidth,a=this.attrs.cropHeight;s=o&&a?[i,this.cropX(),this.cropY(),o,a,0,0,t,r]:[i,0,0,t,r]}(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)),i&&e.drawImage.apply(e,s)}_hitFunc(e){var t=this.width(),r=this.height();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return(e=this.attrs.width)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.width}getHeight(){var e,t;return(e=this.attrs.height)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.height}static fromURL(e,t,r=null){var i=rle.Util.createImageElement();i.onload=function(){var s=new Tr({image:i});t(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}Tp.Image=Tr,Tr.prototype.className="Image",(0,sle._registerNode)(Tr),$a.Factory.addGetterSetter(Tr,"image"),$a.Factory.addComponentsGetterSetter(Tr,"crop",["x","y","width","height"]),$a.Factory.addGetterSetter(Tr,"cropX",0,(0,Yu.getNumberValidator)()),$a.Factory.addGetterSetter(Tr,"cropY",0,(0,Yu.getNumberValidator)()),$a.Factory.addGetterSetter(Tr,"cropWidth",0,(0,Yu.getNumberValidator)()),$a.Factory.addGetterSetter(Tr,"cropHeight",0,(0,Yu.getNumberValidator)());var wA={};Object.defineProperty(wA,"__esModule",{value:!0}),wA.Tag=wA.Label=void 0;const Ju=pe,ole=Ht,ale=NA,gv=Ae,KO=ve;var GO=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],Ale=GO.length;class mv extends ale.Group{constructor(e){super(e),this.on("add.konva",function(t){this._addListeners(t.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var t,r=this,i=function(){r._sync()};for(t=0;t<Ale;t++)e.on(GO[t]+"Change.konva",i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e,t,r,i,s,o,a,A=this.getText(),c=this.getTag();if(A&&c){switch(e=A.width(),t=A.height(),r=c.pointerDirection(),i=c.pointerWidth(),a=c.pointerHeight(),s=0,o=0,r){case"up":s=e/2,o=-1*a;break;case"right":s=e+i,o=t/2;break;case"down":s=e/2,o=t+a;break;case"left":s=-1*i,o=t/2}c.setAttrs({x:-1*s,y:-1*o,width:e,height:t}),A.setAttrs({x:-1*s,y:-1*o})}}}wA.Label=mv,mv.prototype.className="Label",(0,KO._registerNode)(mv);class vo extends ole.Shape{_sceneFunc(e){var t=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let A=0,c=0,l=0,h=0;typeof a=="number"?A=c=l=h=Math.min(a,t/2,r/2):(A=Math.min(a[0]||0,t/2,r/2),c=Math.min(a[1]||0,t/2,r/2),h=Math.min(a[2]||0,t/2,r/2),l=Math.min(a[3]||0,t/2,r/2)),e.beginPath(),e.moveTo(A,0),i==="up"&&(e.lineTo((t-s)/2,0),e.lineTo(t/2,-1*o),e.lineTo((t+s)/2,0)),e.lineTo(t-c,0),e.arc(t-c,c,c,3*Math.PI/2,0,!1),i==="right"&&(e.lineTo(t,(r-o)/2),e.lineTo(t+s,r/2),e.lineTo(t,(r+o)/2)),e.lineTo(t,r-h),e.arc(t-h,r-h,h,0,Math.PI/2,!1),i==="down"&&(e.lineTo((t+s)/2,r),e.lineTo(t/2,r+o),e.lineTo((t-s)/2,r)),e.lineTo(l,r),e.arc(l,r-l,l,Math.PI/2,Math.PI,!1),i==="left"&&(e.lineTo(0,(r+o)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-o)/2)),e.lineTo(0,A),e.arc(A,A,A,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,t=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),o=this.width(),a=this.height();return s==="up"?(t-=i,a+=i):s==="down"?a+=i:s==="left"?(e-=1.5*r,o+=r):s==="right"&&(o+=1.5*r),{x:e,y:t,width:o,height:a}}}wA.Tag=vo,vo.prototype.className="Tag",(0,KO._registerNode)(vo),Ju.Factory.addGetterSetter(vo,"pointerDirection","none"),Ju.Factory.addGetterSetter(vo,"pointerWidth",0,(0,gv.getNumberValidator)()),Ju.Factory.addGetterSetter(vo,"pointerHeight",0,(0,gv.getNumberValidator)()),Ju.Factory.addGetterSetter(vo,"cornerRadius",0,(0,gv.getNumberOrArrayOfNumbersValidator)(4));var nh={};Object.defineProperty(nh,"__esModule",{value:!0}),nh.Rect=void 0;const lle=pe,cle=Ht,hle=ve,ule=Ae;class Zu extends cle.Shape{_sceneFunc(e){var t=this.cornerRadius(),r=this.width(),i=this.height();if(e.beginPath(),t){let s=0,o=0,a=0,A=0;typeof t=="number"?s=o=a=A=Math.min(t,r/2,i/2):(s=Math.min(t[0]||0,r/2,i/2),o=Math.min(t[1]||0,r/2,i/2),A=Math.min(t[2]||0,r/2,i/2),a=Math.min(t[3]||0,r/2,i/2)),e.moveTo(s,0),e.lineTo(r-o,0),e.arc(r-o,o,o,3*Math.PI/2,0,!1),e.lineTo(r,i-A),e.arc(r-A,i-A,A,0,Math.PI/2,!1),e.lineTo(a,i),e.arc(a,i-a,a,Math.PI/2,Math.PI,!1),e.lineTo(0,s),e.arc(s,s,s,Math.PI,3*Math.PI/2,!1)}else e.rect(0,0,r,i);e.closePath(),e.fillStrokeShape(this)}}nh.Rect=Zu,Zu.prototype.className="Rect",(0,hle._registerNode)(Zu),lle.Factory.addGetterSetter(Zu,"cornerRadius",0,(0,ule.getNumberOrArrayOfNumbersValidator)(4));var Pp={};Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.RegularPolygon=void 0;const BS=pe,dle=Ht,xS=Ae,fle=ve;class yo extends dle.Shape{_sceneFunc(e){const t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length;r++)e.lineTo(t[r].x,t[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,r=[];for(var i=0;i<e;i++)r.push({x:t*Math.sin(2*i*Math.PI/e),y:-1*t*Math.cos(2*i*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();var t=e[0].x,r=e[0].y,i=e[0].x,s=e[0].y;return e.forEach(o=>{t=Math.min(t,o.x),r=Math.max(r,o.x),i=Math.min(i,o.y),s=Math.max(s,o.y)}),{x:t,y:i,width:r-t,height:s-i}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Pp.RegularPolygon=yo,yo.prototype.className="RegularPolygon",yo.prototype._centroid=!0,yo.prototype._attrsAffectingSize=["radius"],(0,fle._registerNode)(yo),BS.Factory.addGetterSetter(yo,"radius",0,(0,xS.getNumberValidator)()),BS.Factory.addGetterSetter(yo,"sides",0,(0,xS.getNumberValidator)());var Op={};Object.defineProperty(Op,"__esModule",{value:!0}),Op.Ring=void 0;const _S=pe,ple=Ht,SS=Ae,gle=ve;var ES=2*Math.PI;class bo extends ple.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,ES,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),ES,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Op.Ring=bo,bo.prototype.className="Ring",bo.prototype._centroid=!0,bo.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,gle._registerNode)(bo),_S.Factory.addGetterSetter(bo,"innerRadius",0,(0,SS.getNumberValidator)()),_S.Factory.addGetterSetter(bo,"outerRadius",0,(0,SS.getNumberValidator)());var Ip={};Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.Sprite=void 0;const wo=pe,mle=Ht,vle=RA,FS=Ae,yle=ve;class qr extends mle.Shape{constructor(e){super(e),this._updated=!0,this.anim=new vle.Animation(()=>{var t=this._updated;return this._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var t=this.animation(),r=this.frameIndex(),i=4*r,s=this.animations()[t],o=this.frameOffsets(),a=s[i+0],A=s[i+1],c=s[i+2],l=s[i+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,l),e.closePath(),e.fillStrokeShape(this)),h)if(o){var u=o[t],d=2*r;e.drawImage(h,a,A,c,l,u[d+0],u[d+1],c,l)}else e.drawImage(h,a,A,c,l,0,0,c,l)}_hitFunc(e){var t=this.animation(),r=this.frameIndex(),i=4*r,s=this.animations()[t],o=this.frameOffsets(),a=s[i+2],A=s[i+3];if(e.beginPath(),o){var c=o[t],l=2*r;e.rect(c[l+0],c[l+1],a,A)}else e.rect(0,0,a,A);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}}Ip.Sprite=qr,qr.prototype.className="Sprite",(0,yle._registerNode)(qr),wo.Factory.addGetterSetter(qr,"animation"),wo.Factory.addGetterSetter(qr,"animations"),wo.Factory.addGetterSetter(qr,"frameOffsets"),wo.Factory.addGetterSetter(qr,"image"),wo.Factory.addGetterSetter(qr,"frameIndex",0,(0,FS.getNumberValidator)()),wo.Factory.addGetterSetter(qr,"frameRate",17,(0,FS.getNumberValidator)()),wo.Factory.backCompat(qr,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Up={};Object.defineProperty(Up,"__esModule",{value:!0}),Up.Star=void 0;const vv=pe,ble=Ht,yv=Ae,wle=ve;class hs extends ble.Shape{_sceneFunc(e){var t=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(var s=1;s<2*i;s++){var o=s%2==0?r:t,a=o*Math.sin(s*Math.PI/i),A=-1*o*Math.cos(s*Math.PI/i);e.lineTo(a,A)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Up.Star=hs,hs.prototype.className="Star",hs.prototype._centroid=!0,hs.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,wle._registerNode)(hs),vv.Factory.addGetterSetter(hs,"numPoints",5,(0,yv.getNumberValidator)()),vv.Factory.addGetterSetter(hs,"innerRadius",0,(0,yv.getNumberValidator)()),vv.Factory.addGetterSetter(hs,"outerRadius",0,(0,yv.getNumberValidator)());var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.Text=Vo.stringToArray=void 0;const E1=bt,yn=pe,Cle=Ht,us=Ae,Ble=ve;function VO(n){return Array.from(n)}Vo.stringToArray=VO;var TS,zO=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],xle=zO.length;function bv(){return TS||(TS=E1.Util.createCanvasElement().getContext("2d"))}class xt extends Cle.Shape{constructor(e){super(function(r){return(r=r||{}).fillLinearGradientColorStops||r.fillRadialGradientColorStops||r.fillPatternImage||(r.fill=r.fill||"black"),r}(e)),this._partialTextX=0,this._partialTextY=0;for(var t=0;t<xle;t++)this.on(zO[t]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(e){var t=this.textArr,r=t.length;if(this.text()){var i,s=this.padding(),o=this.fontSize(),a=this.lineHeight()*o,A=this.verticalAlign(),c=0,l=this.align(),h=this.getWidth(),u=this.letterSpacing(),d=this.fill(),p=this.textDecoration(),f=p.indexOf("underline")!==-1,v=p.indexOf("line-through")!==-1,m=0,y=(m=a/2,0),w=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline","middle"),e.setAttr("textAlign","left"),A==="middle"?c=(this.getHeight()-r*a-2*s)/2:A==="bottom"&&(c=this.getHeight()-r*a-2*s),e.translate(s,c+s),i=0;i<r;i++){y=0,w=0;var C,S,x,E=t[i],T=E.text,P=E.width,F=E.lastInParagraph;if(e.save(),l==="right"?y+=h-P-2*s:l==="center"&&(y+=(h-P-2*s)/2),f&&(e.save(),e.beginPath(),e.moveTo(y,m+w+Math.round(o/2)),S=(C=T.split(" ").length-1)===0,x=l==="justify"&&F&&!S?h-2*s:P,e.lineTo(y+Math.round(x),m+w+Math.round(o/2)),e.lineWidth=o/15,e.strokeStyle=d,e.stroke(),e.restore()),v&&(e.save(),e.beginPath(),e.moveTo(y,m+w),S=(C=T.split(" ").length-1)===0,x=l==="justify"&&F&&!S?h-2*s:P,e.lineTo(y+Math.round(x),m+w),e.lineWidth=o/15,e.strokeStyle=d,e.stroke(),e.restore()),u!==0||l==="justify"){C=T.split(" ").length-1;for(var U=VO(T),I=0;I<U.length;I++){var D=U[I];D!==" "||F||l!=="justify"||(y+=(h-2*s-P)/C),this._partialTextX=y,this._partialTextY=m+w,this._partialText=D,e.fillStrokeShape(this),y+=this.measureSize(D).width+u}}else this._partialTextX=y,this._partialTextY=m+w,this._partialText=T,e.fillStrokeShape(this);e.restore(),r>1&&(m+=a)}}}_hitFunc(e){var t=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}setText(e){var t=E1.Util._isString(e)?e:e==null?"":e+"";return this._setAttr("text",t),this}getWidth(){return this.attrs.width==="auto"||this.attrs.width===void 0?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height==="auto"||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return E1.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,r=bv(),i=this.fontSize();return r.save(),r.font=this._getContextFont(),t=r.measureText(e),r.restore(),{width:t.width,height:i}}_getContextFont(){return this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+this.fontFamily().split(",").map(e=>{const t=(e=e.trim()).indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!r&&(e=`"${e}"`),e}).join(", ")}_addTextLine(e){this.align()==="justify"&&(e=e.trim());var t=this._getTextWidth(e);return this.textArr.push({text:e,width:t,lastInParagraph:!1})}_getTextWidth(e){var t=this.letterSpacing(),r=e.length;return bv().measureText(e).width+(r?t*(r-1):0)}_setTextData(){var e=this.text().split(`
`),t=+this.fontSize(),r=0,i=this.lineHeight()*t,s=this.attrs.width,o=this.attrs.height,a=s!=="auto"&&s!==void 0,A=o!=="auto"&&o!==void 0,c=this.padding(),l=s-2*c,h=o-2*c,u=0,d=this.wrap(),p=d!=="none",f=d!=="char"&&p,v=this.ellipsis();this.textArr=[],bv().font=this._getContextFont();for(var m=v?this._getTextWidth("…"):0,y=0,w=e.length;y<w;++y){var C=e[y],S=this._getTextWidth(C);if(a&&S>l)for(;C.length>0;){for(var x=0,E=C.length,T="",P=0;x<E;){var F=x+E>>>1,U=C.slice(0,F+1),I=this._getTextWidth(U)+m;I<=l?(x=F+1,T=U,P=I):E=F}if(!T)break;if(f){var D,$=C[T.length];(D=($===" "||$==="-")&&P<=l?T.length:Math.max(T.lastIndexOf(" "),T.lastIndexOf("-"))+1)>0&&(x=D,T=T.slice(0,x),P=this._getTextWidth(T))}if(T=T.trimRight(),this._addTextLine(T),r=Math.max(r,P),u+=i,!p||A&&u+i>h){var M=this.textArr[this.textArr.length-1];M&&v&&(this._getTextWidth(M.text+"…")<l||(M.text=M.text.slice(0,M.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(M.text+"…"));break}if((C=(C=C.slice(x)).trimLeft()).length>0&&(S=this._getTextWidth(C))<=l){this._addTextLine(C),u+=i,r=Math.max(r,S);break}}else this._addTextLine(C),u+=i,r=Math.max(r,S);if(A&&u+i>h)break;this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0)}this.textHeight=t,this.textWidth=r}getStrokeScaleEnabled(){return!0}}Vo.Text=xt,xt.prototype._fillFunc=function(n){n.fillText(this._partialText,this._partialTextX,this._partialTextY)},xt.prototype._strokeFunc=function(n){n.strokeText(this._partialText,this._partialTextX,this._partialTextY)},xt.prototype.className="Text",xt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,Ble._registerNode)(xt),yn.Factory.overWriteSetter(xt,"width",(0,us.getNumberOrAutoValidator)()),yn.Factory.overWriteSetter(xt,"height",(0,us.getNumberOrAutoValidator)()),yn.Factory.addGetterSetter(xt,"fontFamily","Arial"),yn.Factory.addGetterSetter(xt,"fontSize",12,(0,us.getNumberValidator)()),yn.Factory.addGetterSetter(xt,"fontStyle","normal"),yn.Factory.addGetterSetter(xt,"fontVariant","normal"),yn.Factory.addGetterSetter(xt,"padding",0,(0,us.getNumberValidator)()),yn.Factory.addGetterSetter(xt,"align","left"),yn.Factory.addGetterSetter(xt,"verticalAlign","top"),yn.Factory.addGetterSetter(xt,"lineHeight",1,(0,us.getNumberValidator)()),yn.Factory.addGetterSetter(xt,"wrap","word"),yn.Factory.addGetterSetter(xt,"ellipsis",!1,(0,us.getBooleanValidator)()),yn.Factory.addGetterSetter(xt,"letterSpacing",0,(0,us.getNumberValidator)()),yn.Factory.addGetterSetter(xt,"text","",(0,us.getStringValidator)()),yn.Factory.addGetterSetter(xt,"textDecoration","");var kp={};Object.defineProperty(kp,"__esModule",{value:!0}),kp.TextPath=void 0;const PS=bt,_r=pe,_le=Ht,ei=HA,wv=Vo,OS=Ae,Sle=ve;function IS(n){n.fillText(this.partialText,0,0)}function US(n){n.strokeText(this.partialText,0,0)}class Dt extends _le.Shape{constructor(e){super(e),this.dummyCanvas=PS.Util.createCanvasElement(),this.dataArray=[],this.dataArray=ei.Path.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=ei.Path.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo;t==="underline"&&e.beginPath();for(var o=0;o<s.length;o++){e.save();var a=s[o].p0;e.translate(a.x,a.y),e.rotate(s[o].rotation),this.partialText=s[o].text,e.fillStrokeShape(this),t==="underline"&&(o===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}t==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var t=this.glyphInfo;if(t.length>=1){var r=t[0].p0;e.moveTo(r.x,r.y)}for(var i=0;i<t.length;i++){var s=t[i].p1;e.lineTo(s.x,s.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return PS.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return wv.Text.prototype.setText.call(this,e)}_getContextFont(){return wv.Text.prototype._getContextFont.call(this)}_getTextSize(e){var t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();var r=t.measureText(e);return t.restore(),{width:r.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var e=this,t=this._getTextSize(this.attrs.text),r=this.letterSpacing(),i=this.align(),s=this.kerningFunc();this.textWidth=t.width,this.textHeight=t.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);this.glyphInfo=[];for(var a=0,A=0;A<e.dataArray.length;A++)e.dataArray[A].pathLength>0&&(a+=e.dataArray[A].pathLength);var c=0;i==="center"&&(c=Math.max(0,a/2-o/2)),i==="right"&&(c=Math.max(0,a-o));for(var l,h,u,d=(0,wv.stringToArray)(this.text()),p=this.text().split(" ").length-1,f=-1,v=0,m=function(){v=0;for(var F=e.dataArray,U=f+1;U<F.length;U++){if(F[U].pathLength>0)return f=U,F[U];F[U].command==="M"&&(l={x:F[U].points[0],y:F[U].points[1]})}return{}},y=function(F){var U=e._getTextSize(F).width+r;F===" "&&i==="justify"&&(U+=(a-o)/p);var I=0,D=0;for(h=void 0;Math.abs(U-I)/U>.01&&D<20;){D++;for(var $=I;u===void 0;)(u=m())&&$+u.pathLength<U&&($+=u.pathLength,u=void 0);if(u==={}||l===void 0)return;var M=!1;switch(u.command){case"L":ei.Path.getLineLength(l.x,l.y,u.points[0],u.points[1])>U?h=ei.Path.getPointOnLine(U,l.x,l.y,u.points[0],u.points[1],l.x,l.y):u=void 0;break;case"A":var G=u.points[4],V=u.points[5],Q=u.points[4]+V;v===0?v=G+1e-8:U>I?v+=Math.PI/180*V/Math.abs(V):v-=Math.PI/360*V/Math.abs(V),(V<0&&v<Q||V>=0&&v>Q)&&(v=Q,M=!0),h=ei.Path.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],v,u.points[6]);break;case"C":v===0?v=U>u.pathLength?1e-8:U/u.pathLength:U>I?v+=(U-I)/u.pathLength/2:v=Math.max(v-(I-U)/u.pathLength/2,0),v>1&&(v=1,M=!0),h=ei.Path.getPointOnCubicBezier(v,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);break;case"Q":v===0?v=U/u.pathLength:U>I?v+=(U-I)/u.pathLength:v-=(I-U)/u.pathLength,v>1&&(v=1,M=!0),h=ei.Path.getPointOnQuadraticBezier(v,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3])}h!==void 0&&(I=ei.Path.getLineLength(l.x,l.y,h.x,h.y)),M&&(M=!1,u=void 0)}},w=c/(e._getTextSize("C").width+r)-1,C=0;C<w&&(y("C"),l!==void 0&&h!==void 0);C++)l=h;for(var S=0;S<d.length&&(y(d[S]),l!==void 0&&h!==void 0);S++){var x=ei.Path.getLineLength(l.x,l.y,h.x,h.y),E=0;if(s)try{E=s(d[S-1],d[S])*this.fontSize()}catch{E=0}l.x+=E,h.x+=E,this.textWidth+=E;var T=ei.Path.getPointOnLine(E+x/2,l.x,l.y,h.x,h.y),P=Math.atan2(h.y-l.y,h.x-l.x);this.glyphInfo.push({transposeX:T.x,transposeY:T.y,text:d[S],rotation:P,p0:l,p1:h}),l=h}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(l){e.push(l.p0.x),e.push(l.p0.y),e.push(l.p1.x),e.push(l.p1.y)});for(var t,r,i=e[0]||0,s=e[0]||0,o=e[1]||0,a=e[1]||0,A=0;A<e.length/2;A++)t=e[2*A],r=e[2*A+1],i=Math.min(i,t),s=Math.max(s,t),o=Math.min(o,r),a=Math.max(a,r);var c=this.fontSize();return{x:i-c/2,y:o-c/2,width:s-i+c,height:a-o+c}}}kp.TextPath=Dt,Dt.prototype._fillFunc=IS,Dt.prototype._strokeFunc=US,Dt.prototype._fillFuncHit=IS,Dt.prototype._strokeFuncHit=US,Dt.prototype.className="TextPath",Dt.prototype._attrsAffectingSize=["text","fontSize","data"],(0,Sle._registerNode)(Dt),_r.Factory.addGetterSetter(Dt,"data"),_r.Factory.addGetterSetter(Dt,"fontFamily","Arial"),_r.Factory.addGetterSetter(Dt,"fontSize",12,(0,OS.getNumberValidator)()),_r.Factory.addGetterSetter(Dt,"fontStyle","normal"),_r.Factory.addGetterSetter(Dt,"align","left"),_r.Factory.addGetterSetter(Dt,"letterSpacing",0,(0,OS.getNumberValidator)()),_r.Factory.addGetterSetter(Dt,"textBaseline","middle"),_r.Factory.addGetterSetter(Dt,"fontVariant","normal"),_r.Factory.addGetterSetter(Dt,"text",""),_r.Factory.addGetterSetter(Dt,"textDecoration",null),_r.Factory.addGetterSetter(Dt,"kerningFunc",null);var Dp={};Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.Transformer=void 0;const Xe=bt,We=pe,Ele=lt,Fle=Ht,Tle=nh,kS=NA,Fr=ve,ds=Ae,Ple=ve;var Ole=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(n=>n+".tr-konva").join(" "),Ile=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],Ule={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const kle="ontouchstart"in Fr.Konva._global;var Qd=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function WO(n,e,t){const r=t.x+(n.x-t.x)*Math.cos(e)-(n.y-t.y)*Math.sin(e),i=t.y+(n.x-t.x)*Math.sin(e)+(n.y-t.y)*Math.cos(e);return Object.assign(Object.assign({},n),{rotation:n.rotation+e,x:r,y:i})}function Dle(n,e){const t=function(r){return{x:r.x+r.width/2*Math.cos(r.rotation)+r.height/2*Math.sin(-r.rotation),y:r.y+r.height/2*Math.cos(r.rotation)+r.width/2*Math.sin(r.rotation)}}(n);return WO(n,e,t)}class Ue extends kS.Group{constructor(e){super(e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(Ole,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Xe.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return"tr-konva"+this._id}setNodes(e=[]){return this._nodes&&this._nodes.length&&this.detach(),this._nodes=e,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(t=>{const r=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},i=t._attrsAffectingSize.map(s=>s+"Change."+this._getEventNamespace()).join(" ");t.on(i,r),t.on(Ile.map(s=>s+`.${this._getEventNamespace()}`).join(" "),r),t.on(`absoluteTransformChange.${this._getEventNamespace()}`,r),this._proxyDrag(t)}),this._resetTransformCache(),this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,r=>{t=e.getAbsolutePosition(),this.isDragging()||e===this.findOne(".back")||this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!t)return;const i=e.getAbsolutePosition(),s=i.x-t.x,o=i.y-t.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;const A=a.getAbsolutePosition();a.setAbsolutePosition({x:A.x+s,y:A.y+o}),a.startDrag(r)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache("nodesRect"),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache("nodesRect",this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),r){var i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),o=e.getAbsolutePosition(r),a=i.x*s.x-e.offsetX()*s.x,A=i.y*s.y-e.offsetY()*s.y;const c=(Fr.Konva.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return WO({x:o.x+a*Math.cos(c)+A*Math.sin(-c),y:o.y+A*Math.cos(c)+a*Math.sin(c),width:i.width*s.x,height:i.height*s.y,rotation:c},-Fr.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const e=[];this.nodes().map(A=>{const c=A.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var l=[{x:c.x,y:c.y},{x:c.x+c.width,y:c.y},{x:c.x+c.width,y:c.y+c.height},{x:c.x,y:c.y+c.height}],h=A.getAbsoluteTransform();l.forEach(function(u){var d=h.point(u);e.push(d)})});const t=new Xe.Transform;var r,i,s,o;t.rotate(-Fr.Konva.getAngle(this.rotation())),e.forEach(function(A){var c=t.point(A);r===void 0&&(r=s=c.x,i=o=c.y),r=Math.min(r,c.x),i=Math.min(i,c.y),s=Math.max(s,c.x),o=Math.max(o,c.y)}),t.invert();const a=t.point({x:r,y:i});return{x:a.x,y:a.y,width:s-r,height:o-i,rotation:Fr.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Qd.forEach((function(e){this._createAnchor(e)}).bind(this)),this._createAnchor("rotater")}_createAnchor(e){var t=new Tle.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:kle?10:"auto"}),r=this;t.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),t.on("dragstart",i=>{t.stopDrag(),i.cancelBubble=!0}),t.on("dragend",i=>{i.cancelBubble=!0}),t.on("mouseenter",()=>{var i=Fr.Konva.getAngle(this.rotation()),s=function(o,a){if(o==="rotater")return"crosshair";a+=Xe.Util.degToRad(Ule[o]||0);var A=(Xe.Util.radToDeg(a)%360+360)%360;return Xe.Util._inRange(A,337.5,360)||Xe.Util._inRange(A,0,22.5)?"ns-resize":Xe.Util._inRange(A,22.5,67.5)?"nesw-resize":Xe.Util._inRange(A,67.5,112.5)?"ew-resize":Xe.Util._inRange(A,112.5,157.5)?"nwse-resize":Xe.Util._inRange(A,157.5,202.5)?"ns-resize":Xe.Util._inRange(A,202.5,247.5)?"nesw-resize":Xe.Util._inRange(A,247.5,292.5)?"ew-resize":Xe.Util._inRange(A,292.5,337.5)?"nwse-resize":(Xe.Util.error("Transformer has unknown angle for cursor detection: "+A),"pointer")}(e,i);t.getStage().content&&(t.getStage().content.style.cursor=s),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){var e=new Fle.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(t){var r=this.getParent(),i=r.padding();t.beginPath(),t.rect(-i,-i,this.width()+2*i,this.height()+2*i),t.moveTo(this.width()/2,-i),r.rotateEnabled()&&t.lineTo(this.width()/2,-r.rotateAnchorOffset()*Xe.Util._sign(this.height())-i),t.fillStrokeShape(this)},hitFunc:(t,r)=>{if(this.shouldOverdrawWholeArea()){var i=this.padding();t.beginPath(),t.rect(-i,-i,r.width()+2*i,r.height()+2*i),t.fillStrokeShape(r)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",t=>{t.cancelBubble=!0}),e.on("dragmove",t=>{t.cancelBubble=!0}),e.on("dragend",t=>{t.cancelBubble=!0}),this.on("dragmove",t=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var t=this._getNodeRect(),r=t.width,i=t.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(A=>{A._fire("transformstart",{evt:e.evt,target:A})})}_handleMouseMove(e){var t,r,i,s=this.findOne("."+this._movingAnchorName),o=s.getStage();o.setPointersPositions(e);const a=o.getPointerPosition();let A={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(A=this.anchorDragBoundFunc()(c,A,e)),s.setAbsolutePosition(A);const l=s.getAbsolutePosition();if(c.x!==l.x||c.y!==l.y)if(this._movingAnchorName!=="rotater"){var h=this.keepRatio()||e.shiftKey,u=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(h){var d=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(d.x-s.x(),2)+Math.pow(d.y-s.y(),2));var p=this.findOne(".top-left").x()>d.x?-1:1,f=this.findOne(".top-left").y()>d.y?-1:1;t=i*this.cos*p,r=i*this.sin*f,this.findOne(".top-left").x(d.x-t),this.findOne(".top-left").y(d.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){h&&(d=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},i=Math.sqrt(Math.pow(s.x()-d.x,2)+Math.pow(d.y-s.y(),2)),p=this.findOne(".top-right").x()<d.x?-1:1,f=this.findOne(".top-right").y()>d.y?-1:1,t=i*this.cos*p,r=i*this.sin*f,this.findOne(".top-right").x(d.x+t),this.findOne(".top-right").y(d.y-r));var v=s.position();this.findOne(".top-left").y(v.y),this.findOne(".bottom-right").x(v.x)}else this._movingAnchorName==="middle-left"?this.findOne(".top-left").x(s.x()):this._movingAnchorName==="middle-right"?this.findOne(".bottom-right").x(s.x()):this._movingAnchorName==="bottom-left"?(h&&(d=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},i=Math.sqrt(Math.pow(d.x-s.x(),2)+Math.pow(s.y()-d.y,2)),p=d.x<s.x()?-1:1,f=s.y()<d.y?-1:1,t=i*this.cos*p,r=i*this.sin*f,s.x(d.x-t),s.y(d.y+r)),v=s.position(),this.findOne(".top-left").x(v.x),this.findOne(".bottom-right").y(v.y)):this._movingAnchorName==="bottom-center"?this.findOne(".bottom-right").y(s.y()):this._movingAnchorName==="bottom-right"?h&&(d=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},i=Math.sqrt(Math.pow(s.x()-d.x,2)+Math.pow(s.y()-d.y,2)),p=this.findOne(".bottom-right").x()<d.x?-1:1,f=this.findOne(".bottom-right").y()<d.y?-1:1,t=i*this.cos*p,r=i*this.sin*f,this.findOne(".bottom-right").x(d.x+t),this.findOne(".bottom-right").y(d.y+r)):console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(u=this.centeredScaling()||e.altKey){var m=this.findOne(".top-left"),y=this.findOne(".bottom-right"),w=m.x(),C=m.y(),S=this.getWidth()-y.x(),x=this.getHeight()-y.y();y.move({x:-w,y:-C}),m.move({x:S,y:x})}var E=this.findOne(".top-left").getAbsolutePosition();t=E.x,r=E.y;var T=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),P=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:r,width:T,height:P,rotation:Fr.Konva.getAngle(this.rotation())},e)}else{var F=this._getNodeRect();t=s.x()-F.width/2,r=-s.y()+F.height/2;let U=Math.atan2(-r,t)+Math.PI/2;F.height<0&&(U-=Math.PI);const I=Fr.Konva.getAngle(this.rotation())+U,D=Fr.Konva.getAngle(this.rotationSnapTolerance()),$=function(G,V,Q){let R=V;for(let B=0;B<G.length;B++){const O=Fr.Konva.getAngle(G[B]),k=Math.abs(O-V)%(2*Math.PI);Math.min(k,2*Math.PI-k)<Q&&(R=O)}return R}(this.rotationSnaps(),I,D),M=Dle(F,$-F.rotation);this._fitNodesInto(M,e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var t=this.getNode();this._fire("transformend",{evt:e,target:t}),t&&this._nodes.forEach(r=>{r._fire("transformend",{evt:e,target:r})}),this._movingAnchorName=null}}_fitNodesInto(e,t){var r=this._getNodeRect();if(Xe.Util._inRange(e.width,2*-this.padding()-1,1))return void this.update();if(Xe.Util._inRange(e.height,2*-this.padding()-1,1))return void this.update();const i=this.flipEnabled();var s=new Xe.Transform;if(s.rotate(Fr.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const l=s.point({x:2*-this.padding(),y:0});if(e.x+=l.x,e.y+=l.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=l.x,this._anchorDragOffset.y-=l.y,!i)return void this.update()}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const l=s.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=l.x,this._anchorDragOffset.y-=l.y,e.width+=2*this.padding(),!i)return void this.update()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const l=s.point({x:0,y:2*-this.padding()});if(e.x+=l.x,e.y+=l.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=l.x,this._anchorDragOffset.y-=l.y,e.height+=2*this.padding(),!i)return void this.update()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const l=s.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=l.x,this._anchorDragOffset.y-=l.y,e.height+=2*this.padding(),!i)return void this.update()}if(this.boundBoxFunc()){const l=this.boundBoxFunc()(r,e);l?e=l:Xe.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,a=new Xe.Transform;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/o,r.height/o);const A=new Xe.Transform;A.translate(e.x,e.y),A.rotate(e.rotation),A.scale(e.width/o,e.height/o);const c=A.multiply(a.invert());this._nodes.forEach(l=>{var h;const u=l.getParent().getAbsoluteTransform(),d=l.getTransform().copy();d.translate(l.offsetX(),l.offsetY());const p=new Xe.Transform;p.multiply(u.copy().invert()).multiply(c).multiply(u).multiply(d);const f=p.decompose();l.setAttrs(f),this._fire("transform",{evt:t,target:l}),l._fire("transform",{evt:t,target:l}),(h=l.getLayer())===null||h===void 0||h.batchDraw()}),this.rotation(Xe.Util._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e,t=this._getNodeRect();this.rotation(Xe.Util._getRotation(t.rotation));var r=t.width,i=t.height,s=this.enabledAnchors(),o=this.resizeEnabled(),a=this.padding(),A=this.anchorSize();this.find("._anchor").forEach(c=>{c.setAttrs({width:A,height:A,offsetX:A/2,offsetY:A/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:A/2+a,offsetY:A/2+a,visible:o&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:A/2+a,visible:o&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:A/2-a,offsetY:A/2+a,visible:o&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:A/2+a,visible:o&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:A/2-a,visible:o&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:A/2+a,offsetY:A/2-a,visible:o&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:A/2-a,visible:o&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:A/2-a,offsetY:A/2-a,visible:o&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*Xe.Util._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),kS.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Ele.Node.prototype.toObject.call(this)}}Dp.Transformer=Ue,Ue.prototype.className="Transformer",(0,Ple._registerNode)(Ue),We.Factory.addGetterSetter(Ue,"enabledAnchors",Qd,function(n){return n instanceof Array||Xe.Util.warn("enabledAnchors value should be an array"),n instanceof Array&&n.forEach(function(e){Qd.indexOf(e)===-1&&Xe.Util.warn("Unknown anchor name: "+e+". Available names are: "+Qd.join(", "))}),n||[]}),We.Factory.addGetterSetter(Ue,"flipEnabled",!0,(0,ds.getBooleanValidator)()),We.Factory.addGetterSetter(Ue,"resizeEnabled",!0),We.Factory.addGetterSetter(Ue,"anchorSize",10,(0,ds.getNumberValidator)()),We.Factory.addGetterSetter(Ue,"rotateEnabled",!0),We.Factory.addGetterSetter(Ue,"rotationSnaps",[]),We.Factory.addGetterSetter(Ue,"rotateAnchorOffset",50,(0,ds.getNumberValidator)()),We.Factory.addGetterSetter(Ue,"rotationSnapTolerance",5,(0,ds.getNumberValidator)()),We.Factory.addGetterSetter(Ue,"borderEnabled",!0),We.Factory.addGetterSetter(Ue,"anchorStroke","rgb(0, 161, 255)"),We.Factory.addGetterSetter(Ue,"anchorStrokeWidth",1,(0,ds.getNumberValidator)()),We.Factory.addGetterSetter(Ue,"anchorFill","white"),We.Factory.addGetterSetter(Ue,"anchorCornerRadius",0,(0,ds.getNumberValidator)()),We.Factory.addGetterSetter(Ue,"borderStroke","rgb(0, 161, 255)"),We.Factory.addGetterSetter(Ue,"borderStrokeWidth",1,(0,ds.getNumberValidator)()),We.Factory.addGetterSetter(Ue,"borderDash"),We.Factory.addGetterSetter(Ue,"keepRatio",!0),We.Factory.addGetterSetter(Ue,"centeredScaling",!1),We.Factory.addGetterSetter(Ue,"ignoreStroke",!1),We.Factory.addGetterSetter(Ue,"padding",0,(0,ds.getNumberValidator)()),We.Factory.addGetterSetter(Ue,"node"),We.Factory.addGetterSetter(Ue,"nodes"),We.Factory.addGetterSetter(Ue,"boundBoxFunc"),We.Factory.addGetterSetter(Ue,"anchorDragBoundFunc"),We.Factory.addGetterSetter(Ue,"shouldOverdrawWholeArea",!1),We.Factory.addGetterSetter(Ue,"useSingleNodeRotation",!0),We.Factory.backCompat(Ue,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Qp={};Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.Wedge=void 0;const qu=pe,Qle=Ht,Mle=ve,DS=Ae,Lle=ve;class Fi extends Qle.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Mle.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Qp.Wedge=Fi,Fi.prototype.className="Wedge",Fi.prototype._centroid=!0,Fi.prototype._attrsAffectingSize=["radius"],(0,Lle._registerNode)(Fi),qu.Factory.addGetterSetter(Fi,"radius",0,(0,DS.getNumberValidator)()),qu.Factory.addGetterSetter(Fi,"angle",0,(0,DS.getNumberValidator)()),qu.Factory.addGetterSetter(Fi,"clockwise",!1),qu.Factory.backCompat(Fi,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Mp={};Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.Blur=void 0;const QS=pe,Nle=lt,Rle=Ae;function MS(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var Hle=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],$le=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Mp.Blur=function(n){var e=Math.round(this.blurRadius());e>0&&function(t,r){var i,s,o,a,A,c,l,h,u,d,p,f,v,m,y,w,C,S,x,E,T,P,F,U,I=t.data,D=t.width,$=t.height,M=r+r+1,G=D-1,V=$-1,Q=r+1,R=Q*(Q+1)/2,B=new MS,O=null,k=B,L=null,j=null,K=Hle[r],J=$le[r];for(o=1;o<M;o++)k=k.next=new MS,o===Q&&(O=k);for(k.next=B,l=c=0,s=0;s<$;s++){for(w=C=S=x=h=u=d=p=0,f=Q*(E=I[c]),v=Q*(T=I[c+1]),m=Q*(P=I[c+2]),y=Q*(F=I[c+3]),h+=R*E,u+=R*T,d+=R*P,p+=R*F,k=B,o=0;o<Q;o++)k.r=E,k.g=T,k.b=P,k.a=F,k=k.next;for(o=1;o<Q;o++)a=c+((G<o?G:o)<<2),h+=(k.r=E=I[a])*(U=Q-o),u+=(k.g=T=I[a+1])*U,d+=(k.b=P=I[a+2])*U,p+=(k.a=F=I[a+3])*U,w+=E,C+=T,S+=P,x+=F,k=k.next;for(L=B,j=O,i=0;i<D;i++)I[c+3]=F=p*K>>J,F!==0?(F=255/F,I[c]=(h*K>>J)*F,I[c+1]=(u*K>>J)*F,I[c+2]=(d*K>>J)*F):I[c]=I[c+1]=I[c+2]=0,h-=f,u-=v,d-=m,p-=y,f-=L.r,v-=L.g,m-=L.b,y-=L.a,a=l+((a=i+r+1)<G?a:G)<<2,h+=w+=L.r=I[a],u+=C+=L.g=I[a+1],d+=S+=L.b=I[a+2],p+=x+=L.a=I[a+3],L=L.next,f+=E=j.r,v+=T=j.g,m+=P=j.b,y+=F=j.a,w-=E,C-=T,S-=P,x-=F,j=j.next,c+=4;l+=D}for(i=0;i<D;i++){for(C=S=x=w=u=d=p=h=0,f=Q*(E=I[c=i<<2]),v=Q*(T=I[c+1]),m=Q*(P=I[c+2]),y=Q*(F=I[c+3]),h+=R*E,u+=R*T,d+=R*P,p+=R*F,k=B,o=0;o<Q;o++)k.r=E,k.g=T,k.b=P,k.a=F,k=k.next;for(A=D,o=1;o<=r;o++)c=A+i<<2,h+=(k.r=E=I[c])*(U=Q-o),u+=(k.g=T=I[c+1])*U,d+=(k.b=P=I[c+2])*U,p+=(k.a=F=I[c+3])*U,w+=E,C+=T,S+=P,x+=F,k=k.next,o<V&&(A+=D);for(c=i,L=B,j=O,s=0;s<$;s++)I[3+(a=c<<2)]=F=p*K>>J,F>0?(F=255/F,I[a]=(h*K>>J)*F,I[a+1]=(u*K>>J)*F,I[a+2]=(d*K>>J)*F):I[a]=I[a+1]=I[a+2]=0,h-=f,u-=v,d-=m,p-=y,f-=L.r,v-=L.g,m-=L.b,y-=L.a,a=i+((a=s+Q)<V?a:V)*D<<2,h+=w+=L.r=I[a],u+=C+=L.g=I[a+1],d+=S+=L.b=I[a+2],p+=x+=L.a=I[a+3],L=L.next,f+=E=j.r,v+=T=j.g,m+=P=j.b,y+=F=j.a,w-=E,C-=T,S-=P,x-=F,j=j.next,c+=D}}(n,e)},QS.Factory.addGetterSetter(Nle.Node,"blurRadius",0,(0,Rle.getNumberValidator)(),QS.Factory.afterSetFilter);var Lp={};Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.Brighten=void 0;const LS=pe,jle=lt,Kle=Ae;Lp.Brighten=function(n){var e,t=255*this.brightness(),r=n.data,i=r.length;for(e=0;e<i;e+=4)r[e]+=t,r[e+1]+=t,r[e+2]+=t},LS.Factory.addGetterSetter(jle.Node,"brightness",0,(0,Kle.getNumberValidator)(),LS.Factory.afterSetFilter);var Np={};Object.defineProperty(Np,"__esModule",{value:!0}),Np.Contrast=void 0;const NS=pe,Gle=lt,Vle=Ae;Np.Contrast=function(n){var e,t=Math.pow((this.contrast()+100)/100,2),r=n.data,i=r.length,s=150,o=150,a=150;for(e=0;e<i;e+=4)s=r[e],o=r[e+1],a=r[e+2],s/=255,s-=.5,s*=t,s+=.5,o/=255,o-=.5,o*=t,o+=.5,a/=255,a-=.5,a*=t,a+=.5,s=(s*=255)<0?0:s>255?255:s,o=(o*=255)<0?0:o>255?255:o,a=(a*=255)<0?0:a>255?255:a,r[e]=s,r[e+1]=o,r[e+2]=a},NS.Factory.addGetterSetter(Gle.Node,"contrast",0,(0,Vle.getNumberValidator)(),NS.Factory.afterSetFilter);var Rp={};Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.Emboss=void 0;const fs=pe,ed=lt,zle=bt,RS=Ae;Rp.Emboss=function(n){var e=10*this.embossStrength(),t=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),s=0,o=0,a=n.data,A=n.width,c=n.height,l=4*A,h=c;switch(r){case"top-left":s=-1,o=-1;break;case"top":s=-1,o=0;break;case"top-right":s=-1,o=1;break;case"right":s=0,o=1;break;case"bottom-right":s=1,o=1;break;case"bottom":s=1,o=0;break;case"bottom-left":s=1,o=-1;break;case"left":s=0,o=-1;break;default:zle.Util.error("Unknown emboss direction: "+r)}do{var u=(h-1)*l,d=s;h+d<1&&(d=0),h+d>c&&(d=0);var p=(h-1+d)*A*4,f=A;do{var v=u+4*(f-1),m=o;f+m<1&&(m=0),f+m>A&&(m=0);var y=p+4*(f-1+m),w=a[v]-a[y],C=a[v+1]-a[y+1],S=a[v+2]-a[y+2],x=w,E=x>0?x:-x;if((C>0?C:-C)>E&&(x=C),(S>0?S:-S)>E&&(x=S),x*=e,i){var T=a[v]+x,P=a[v+1]+x,F=a[v+2]+x;a[v]=T>255?255:T<0?0:T,a[v+1]=P>255?255:P<0?0:P,a[v+2]=F>255?255:F<0?0:F}else{var U=t-x;U<0?U=0:U>255&&(U=255),a[v]=a[v+1]=a[v+2]=U}}while(--f)}while(--h)},fs.Factory.addGetterSetter(ed.Node,"embossStrength",.5,(0,RS.getNumberValidator)(),fs.Factory.afterSetFilter),fs.Factory.addGetterSetter(ed.Node,"embossWhiteLevel",.5,(0,RS.getNumberValidator)(),fs.Factory.afterSetFilter),fs.Factory.addGetterSetter(ed.Node,"embossDirection","top-left",null,fs.Factory.afterSetFilter),fs.Factory.addGetterSetter(ed.Node,"embossBlend",!1,null,fs.Factory.afterSetFilter);var Hp={};Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.Enhance=void 0;const HS=pe,Wle=lt,Xle=Ae;function Cv(n,e,t,r,i){var s=t-e,o=i-r;return s===0?r+o/2:o===0?r:o*((n-e)/s)+r}Hp.Enhance=function(n){var e,t,r,i,s=n.data,o=s.length,a=s[0],A=a,c=s[1],l=c,h=s[2],u=h,d=this.enhance();if(d!==0){for(i=0;i<o;i+=4)(e=s[i+0])<a?a=e:e>A&&(A=e),(t=s[i+1])<c?c=t:t>l&&(l=t),(r=s[i+2])<h?h=r:r>u&&(u=r);var p,f,v,m,y,w,C,S,x;for(A===a&&(A=255,a=0),l===c&&(l=255,c=0),u===h&&(u=255,h=0),d>0?(f=A+d*(255-A),v=a-d*(a-0),y=l+d*(255-l),w=c-d*(c-0),S=u+d*(255-u),x=h-d*(h-0)):(f=A+d*(A-(p=.5*(A+a))),v=a+d*(a-p),y=l+d*(l-(m=.5*(l+c))),w=c+d*(c-m),S=u+d*(u-(C=.5*(u+h))),x=h+d*(h-C)),i=0;i<o;i+=4)s[i+0]=Cv(s[i+0],a,A,v,f),s[i+1]=Cv(s[i+1],c,l,w,y),s[i+2]=Cv(s[i+2],h,u,x,S)}},HS.Factory.addGetterSetter(Wle.Node,"enhance",0,(0,Xle.getNumberValidator)(),HS.Factory.afterSetFilter);var $p={};Object.defineProperty($p,"__esModule",{value:!0}),$p.Grayscale=void 0;$p.Grayscale=function(n){var e,t,r=n.data,i=r.length;for(e=0;e<i;e+=4)t=.34*r[e]+.5*r[e+1]+.16*r[e+2],r[e]=t,r[e+1]=t,r[e+2]=t};var jp={};Object.defineProperty(jp,"__esModule",{value:!0}),jp.HSL=void 0;const ja=pe,Bv=lt,xv=Ae;ja.Factory.addGetterSetter(Bv.Node,"hue",0,(0,xv.getNumberValidator)(),ja.Factory.afterSetFilter),ja.Factory.addGetterSetter(Bv.Node,"saturation",0,(0,xv.getNumberValidator)(),ja.Factory.afterSetFilter),ja.Factory.addGetterSetter(Bv.Node,"luminance",0,(0,xv.getNumberValidator)(),ja.Factory.afterSetFilter);jp.HSL=function(n){var e,t,r,i,s,o=n.data,a=o.length,A=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,l=127*this.luminance(),h=1*A*Math.cos(c*Math.PI/180),u=1*A*Math.sin(c*Math.PI/180),d=.299+.701*h+.167*u,p=.587-.587*h+.33*u,f=.114-.114*h-.497*u,v=.299-.299*h-.328*u,m=.587+.413*h+.035*u,y=.114-.114*h+.293*u,w=.299-.3*h+1.25*u,C=.587-.586*h-1.05*u,S=.114+.886*h-.2*u;for(e=0;e<a;e+=4)t=o[e+0],r=o[e+1],i=o[e+2],s=o[e+3],o[e+0]=d*t+p*r+f*i+l,o[e+1]=v*t+m*r+y*i+l,o[e+2]=w*t+C*r+S*i+l,o[e+3]=s};var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.HSV=void 0;const Ka=pe,_v=lt,Sv=Ae;Kp.HSV=function(n){var e,t,r,i,s,o=n.data,a=o.length,A=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,h=A*c*Math.cos(l*Math.PI/180),u=A*c*Math.sin(l*Math.PI/180),d=.299*A+.701*h+.167*u,p=.587*A-.587*h+.33*u,f=.114*A-.114*h-.497*u,v=.299*A-.299*h-.328*u,m=.587*A+.413*h+.035*u,y=.114*A-.114*h+.293*u,w=.299*A-.3*h+1.25*u,C=.587*A-.586*h-1.05*u,S=.114*A+.886*h-.2*u;for(e=0;e<a;e+=4)t=o[e+0],r=o[e+1],i=o[e+2],s=o[e+3],o[e+0]=d*t+p*r+f*i,o[e+1]=v*t+m*r+y*i,o[e+2]=w*t+C*r+S*i,o[e+3]=s},Ka.Factory.addGetterSetter(_v.Node,"hue",0,(0,Sv.getNumberValidator)(),Ka.Factory.afterSetFilter),Ka.Factory.addGetterSetter(_v.Node,"saturation",0,(0,Sv.getNumberValidator)(),Ka.Factory.afterSetFilter),Ka.Factory.addGetterSetter(_v.Node,"value",0,(0,Sv.getNumberValidator)(),Ka.Factory.afterSetFilter);var Gp={};Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.Invert=void 0;Gp.Invert=function(n){var e,t=n.data,r=t.length;for(e=0;e<r;e+=4)t[e]=255-t[e],t[e+1]=255-t[e+1],t[e+2]=255-t[e+2]};var Vp={};Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.Kaleidoscope=void 0;const td=pe,$S=lt,Yle=bt,jS=Ae;Vp.Kaleidoscope=function(n){var e,t,r,i,s,o,a,A,c,l=n.width,h=n.height,u=Math.round(this.kaleidoscopePower()),d=Math.round(this.kaleidoscopeAngle()),p=Math.floor(l*(d%360)/360);if(!(u<1)){var f=Yle.Util.createCanvasElement();f.width=l,f.height=h;var v=f.getContext("2d").getImageData(0,0,l,h);(function(x,E,T){var P,F,U,I,D=x.data,$=E.data,M=x.width,G=x.height,V=T.polarCenterX||M/2,Q=T.polarCenterY||G/2,R=0,B=0,O=0,k=0,L=Math.sqrt(V*V+Q*Q);F=M-V,U=G-Q,L=(I=Math.sqrt(F*F+U*U))>L?I:L;var j,K,J,Y,ie=G,Z=M,Te=360/Z*Math.PI/180;for(K=0;K<Z;K+=1)for(J=Math.sin(K*Te),Y=Math.cos(K*Te),j=0;j<ie;j+=1)F=Math.floor(V+L*j/ie*Y),R=D[0+(P=4*((U=Math.floor(Q+L*j/ie*J))*M+F))],B=D[P+1],O=D[P+2],k=D[P+3],$[0+(P=4*(K+j*M))]=R,$[P+1]=B,$[P+2]=O,$[P+3]=k})(n,v,{polarCenterX:l/2,polarCenterY:h/2});for(var m=l/Math.pow(2,u);m<=8;)m*=2,u-=1;var y=m=Math.ceil(m),w=0,C=y,S=1;for(p+m>l&&(w=y,C=0,S=-1),t=0;t<h;t+=1)for(e=w;e!==C;e+=S)A=4*(l*t+Math.round(e+p)%l),i=v.data[A+0],s=v.data[A+1],o=v.data[A+2],a=v.data[A+3],c=4*(l*t+e),v.data[c+0]=i,v.data[c+1]=s,v.data[c+2]=o,v.data[c+3]=a;for(t=0;t<h;t+=1)for(y=Math.floor(m),r=0;r<u;r+=1){for(e=0;e<y+1;e+=1)A=4*(l*t+e),i=v.data[A+0],s=v.data[A+1],o=v.data[A+2],a=v.data[A+3],c=4*(l*t+2*y-e-1),v.data[c+0]=i,v.data[c+1]=s,v.data[c+2]=o,v.data[c+3]=a;y*=2}(function(x,E,T){var P,F,U,I,D,$,M=x.data,G=E.data,V=x.width,Q=x.height,R=T.polarCenterX||V/2,B=T.polarCenterY||Q/2,O=0,k=0,L=0,j=0,K=Math.sqrt(R*R+B*B);F=V-R,U=Q-B,K=($=Math.sqrt(F*F+U*U))>K?$:K;var J,Y,ie,Z=Q,Te=V,mn=0;for(F=0;F<V;F+=1)for(U=0;U<Q;U+=1)I=F-R,D=U-B,J=Math.sqrt(I*I+D*D)*Z/K,Y=(Y=(180*Math.atan2(D,I)/Math.PI+360+mn)%360)*Te/360,ie=Math.floor(Y),O=M[0+(P=4*(Math.floor(J)*V+ie))],k=M[P+1],L=M[P+2],j=M[P+3],G[0+(P=4*(U*V+F))]=O,G[P+1]=k,G[P+2]=L,G[P+3]=j})(v,n,{polarRotation:0})}},td.Factory.addGetterSetter($S.Node,"kaleidoscopePower",2,(0,jS.getNumberValidator)(),td.Factory.afterSetFilter),td.Factory.addGetterSetter($S.Node,"kaleidoscopeAngle",0,(0,jS.getNumberValidator)(),td.Factory.afterSetFilter);var zp={};Object.defineProperty(zp,"__esModule",{value:!0}),zp.Mask=void 0;const KS=pe,Jle=lt,Zle=Ae;function nd(n,e,t){var r=4*(t*n.width+e),i=[];return i.push(n.data[r++],n.data[r++],n.data[r++],n.data[r++]),i}function Ll(n,e){return Math.sqrt(Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2))}zp.Mask=function(n){var e=function(t,r){var i=nd(t,0,0),s=nd(t,t.width-1,0),o=nd(t,0,t.height-1),a=nd(t,t.width-1,t.height-1),A=r||10;if(Ll(i,s)<A&&Ll(s,a)<A&&Ll(a,o)<A&&Ll(o,i)<A){for(var c=function(d){for(var p=[0,0,0],f=0;f<d.length;f++)p[0]+=d[f][0],p[1]+=d[f][1],p[2]+=d[f][2];return p[0]/=d.length,p[1]/=d.length,p[2]/=d.length,p}([s,i,a,o]),l=[],h=0;h<t.width*t.height;h++){var u=Ll(c,[t.data[4*h],t.data[4*h+1],t.data[4*h+2]]);l[h]=u<A?0:255}return l}}(n,this.threshold());return e&&function(t,r){for(var i=0;i<t.width*t.height;i++)t.data[4*i+3]=r[i]}(n,e=function(t,r,i){for(var s=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],o=Math.round(Math.sqrt(s.length)),a=Math.floor(o/2),A=[],c=0;c<i;c++)for(var l=0;l<r;l++){for(var h=c*r+l,u=0,d=0;d<o;d++)for(var p=0;p<o;p++){var f=c+d-a,v=l+p-a;if(f>=0&&f<i&&v>=0&&v<r){var m=s[d*o+p];u+=t[f*r+v]*m}}A[h]=u}return A}(e=function(t,r,i){for(var s=[1,1,1,1,1,1,1,1,1],o=Math.round(Math.sqrt(s.length)),a=Math.floor(o/2),A=[],c=0;c<i;c++)for(var l=0;l<r;l++){for(var h=c*r+l,u=0,d=0;d<o;d++)for(var p=0;p<o;p++){var f=c+d-a,v=l+p-a;if(f>=0&&f<i&&v>=0&&v<r){var m=s[d*o+p];u+=t[f*r+v]*m}}A[h]=u>=1020?255:0}return A}(e=function(t,r,i){for(var s=[1,1,1,1,0,1,1,1,1],o=Math.round(Math.sqrt(s.length)),a=Math.floor(o/2),A=[],c=0;c<i;c++)for(var l=0;l<r;l++){for(var h=c*r+l,u=0,d=0;d<o;d++)for(var p=0;p<o;p++){var f=c+d-a,v=l+p-a;if(f>=0&&f<i&&v>=0&&v<r){var m=s[d*o+p];u+=t[f*r+v]*m}}A[h]=u===2040?255:0}return A}(e,n.width,n.height),n.width,n.height),n.width,n.height)),n},KS.Factory.addGetterSetter(Jle.Node,"threshold",0,(0,Zle.getNumberValidator)(),KS.Factory.afterSetFilter);var Wp={};Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.Noise=void 0;const GS=pe,qle=lt,ece=Ae;Wp.Noise=function(n){var e,t=255*this.noise(),r=n.data,i=r.length,s=t/2;for(e=0;e<i;e+=4)r[e+0]+=s-2*s*Math.random(),r[e+1]+=s-2*s*Math.random(),r[e+2]+=s-2*s*Math.random()},GS.Factory.addGetterSetter(qle.Node,"noise",.2,(0,ece.getNumberValidator)(),GS.Factory.afterSetFilter);var Xp={};Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.Pixelate=void 0;const VS=pe,tce=bt,nce=lt,rce=Ae;Xp.Pixelate=function(n){var e,t,r,i,s,o,a,A,c,l,h,u,d,p,f=Math.ceil(this.pixelSize()),v=n.width,m=n.height,y=Math.ceil(v/f),w=Math.ceil(m/f),C=n.data;if(f<=0)tce.Util.error("pixelSize value can not be <= 0");else for(u=0;u<y;u+=1)for(d=0;d<w;d+=1){for(i=0,s=0,o=0,a=0,c=(A=u*f)+f,h=(l=d*f)+f,p=0,e=A;e<c;e+=1)if(!(e>=v))for(t=l;t<h;t+=1)t>=m||(i+=C[(r=4*(v*t+e))+0],s+=C[r+1],o+=C[r+2],a+=C[r+3],p+=1);for(i/=p,s/=p,o/=p,a/=p,e=A;e<c;e+=1)if(!(e>=v))for(t=l;t<h;t+=1)t>=m||(C[(r=4*(v*t+e))+0]=i,C[r+1]=s,C[r+2]=o,C[r+3]=a)}},VS.Factory.addGetterSetter(nce.Node,"pixelSize",8,(0,rce.getNumberValidator)(),VS.Factory.afterSetFilter);var Yp={};Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.Posterize=void 0;const zS=pe,ice=lt,sce=Ae;Yp.Posterize=function(n){var e,t=Math.round(254*this.levels())+1,r=n.data,i=r.length,s=255/t;for(e=0;e<i;e+=1)r[e]=Math.floor(r[e]/s)*s},zS.Factory.addGetterSetter(ice.Node,"levels",.5,(0,sce.getNumberValidator)(),zS.Factory.afterSetFilter);var Jp={};Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.RGB=void 0;const rd=pe,Ev=lt,oce=Ae;Jp.RGB=function(n){var e,t,r=n.data,i=r.length,s=this.red(),o=this.green(),a=this.blue();for(e=0;e<i;e+=4)t=(.34*r[e]+.5*r[e+1]+.16*r[e+2])/255,r[e]=t*s,r[e+1]=t*o,r[e+2]=t*a,r[e+3]=r[e+3]},rd.Factory.addGetterSetter(Ev.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),rd.Factory.addGetterSetter(Ev.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),rd.Factory.addGetterSetter(Ev.Node,"blue",0,oce.RGBComponent,rd.Factory.afterSetFilter);var Zp={};Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.RGBA=void 0;const Nl=pe,id=lt,ace=Ae;Zp.RGBA=function(n){var e,t,r=n.data,i=r.length,s=this.red(),o=this.green(),a=this.blue(),A=this.alpha();for(e=0;e<i;e+=4)t=1-A,r[e]=s*A+r[e]*t,r[e+1]=o*A+r[e+1]*t,r[e+2]=a*A+r[e+2]*t},Nl.Factory.addGetterSetter(id.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),Nl.Factory.addGetterSetter(id.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),Nl.Factory.addGetterSetter(id.Node,"blue",0,ace.RGBComponent,Nl.Factory.afterSetFilter),Nl.Factory.addGetterSetter(id.Node,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n});var qp={};Object.defineProperty(qp,"__esModule",{value:!0}),qp.Sepia=void 0;qp.Sepia=function(n){var e,t,r,i,s=n.data,o=s.length;for(e=0;e<o;e+=4)t=s[e+0],r=s[e+1],i=s[e+2],s[e+0]=Math.min(255,.393*t+.769*r+.189*i),s[e+1]=Math.min(255,.349*t+.686*r+.168*i),s[e+2]=Math.min(255,.272*t+.534*r+.131*i)};var eg={};Object.defineProperty(eg,"__esModule",{value:!0}),eg.Solarize=void 0;eg.Solarize=function(n){var e=n.data,t=n.width,r=4*t,i=n.height;do{var s=(i-1)*r,o=t;do{var a=s+4*(o-1),A=e[a],c=e[a+1],l=e[a+2];A>127&&(A=255-A),c>127&&(c=255-c),l>127&&(l=255-l),e[a]=A,e[a+1]=c,e[a+2]=l}while(--o)}while(--i)};var tg={};Object.defineProperty(tg,"__esModule",{value:!0}),tg.Threshold=void 0;const WS=pe,Ace=lt,lce=Ae;tg.Threshold=function(n){var e,t=255*this.threshold(),r=n.data,i=r.length;for(e=0;e<i;e+=1)r[e]=r[e]<t?0:255},WS.Factory.addGetterSetter(Ace.Node,"threshold",.5,(0,lce.getNumberValidator)(),WS.Factory.afterSetFilter),Object.defineProperty(wp,"__esModule",{value:!0}),wp.Konva=void 0;const XS=LO,cce=_p,hce=Sp,uce=Ep,dce=Fp,fce=Tp,YS=wA,pce=th,gce=HA,mce=nh,vce=Pp,yce=Op,bce=Ip,wce=Up,Cce=Vo,Bce=kp,xce=Dp,_ce=Qp,Sce=Mp,Ece=Lp,Fce=Np,Tce=Rp,Pce=Hp,Oce=$p,Ice=jp,Uce=Kp,kce=Gp,Dce=Vp,Qce=zp,Mce=Wp,Lce=Xp,Nce=Yp,Rce=Jp,Hce=Zp,$ce=qp,jce=eg,Kce=tg;wp.Konva=XS.Konva.Util._assign(XS.Konva,{Arc:cce.Arc,Arrow:hce.Arrow,Circle:uce.Circle,Ellipse:dce.Ellipse,Image:fce.Image,Label:YS.Label,Tag:YS.Tag,Line:pce.Line,Path:gce.Path,Rect:mce.Rect,RegularPolygon:vce.RegularPolygon,Ring:yce.Ring,Sprite:bce.Sprite,Star:wce.Star,Text:Cce.Text,TextPath:Bce.TextPath,Transformer:xce.Transformer,Wedge:_ce.Wedge,Filters:{Blur:Sce.Blur,Brighten:Ece.Brighten,Contrast:Fce.Contrast,Emboss:Tce.Emboss,Enhance:Pce.Enhance,Grayscale:Oce.Grayscale,HSL:Ice.HSL,HSV:Uce.HSV,Invert:kce.Invert,Kaleidoscope:Dce.Kaleidoscope,Mask:Qce.Mask,Noise:Mce.Noise,Pixelate:Lce.Pixelate,Posterize:Nce.Posterize,RGB:Rce.RGB,RGBA:Hce.RGBA,Sepia:$ce.Sepia,Solarize:jce.Solarize,Threshold:Kce.Threshold}});var Gce=xAe(Object.freeze({__proto__:null,default:{}}));Object.defineProperty(MO,"__esModule",{value:!0});const F1=wp,JS=Gce,T1=JS.default||JS;bp.DOMMatrix=T1.DOMMatrix;bp.document===void 0&&(F1.Konva.Util.createCanvasElement=()=>{const n=T1.createCanvas(300,300);return n.style||(n.style={}),n},F1.Konva.Util.createImageElement=()=>new T1.Image);var ue=MO.default=F1.Konva,P1=function(n,e){return P1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},P1(n,e)};function He(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}P1(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var W=function(){return W=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},W.apply(this,arguments)};function Yn(n,e,t,r){return new(t||(t=Promise))(function(i,s){function o(c){try{A(r.next(c))}catch(l){s(l)}}function a(c){try{A(r.throw(c))}catch(l){s(l)}}function A(c){var l;c.done?i(c.value):(l=c.value,l instanceof t?l:new t(function(h){h(l)})).then(o,a)}A((r=r.apply(n,[])).next())})}function Jn(n,e){var t,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(A){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||l[0]!==6&&l[0]!==2)){o=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(l[0]===6&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=e.call(n,o)}catch(h){l=[6,h],r=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([A,c])}}}function Ke(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r,i,s=t.call(n),o=[];try{for(;(e===void 0||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(t=s.return)&&t.call(s)}finally{if(i)throw i.error}}return o}function ge(n,e,t){if(arguments.length===2)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}var Vce=function(n){return function(e){return!!e&&typeof e=="object"}(n)&&!function(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||function(r){return r.$$typeof===zce}(e)}(n)},zce=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function rh(n,e){return e.clone!==!1&&e.isMergeableObject(n)?$A((t=n,Array.isArray(t)?[]:{}),n,e):n;var t}function Wce(n,e,t){return n.concat(e).map(function(r){return rh(r,t)})}function ZS(n){return Object.keys(n).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(n))}function qS(n,e){try{return e in n}catch{return!1}}function Xce(n,e,t){var r={};return t.isMergeableObject(n)&&ZS(n).forEach(function(i){r[i]=rh(n[i],t)}),ZS(e).forEach(function(i){(function(s,o){return qS(s,o)&&!(Object.hasOwnProperty.call(s,o)&&Object.propertyIsEnumerable.call(s,o))})(n,i)||(qS(n,i)&&t.isMergeableObject(e[i])?r[i]=function(s,o){if(!o.customMerge)return $A;var a=o.customMerge(s);return typeof a=="function"?a:$A}(i,t)(n[i],e[i],t):r[i]=rh(e[i],t))}),r}function $A(n,e,t){(t=t||{}).arrayMerge=t.arrayMerge||Wce,t.isMergeableObject=t.isMergeableObject||Vce,t.cloneUnlessOtherwiseSpecified=rh;var r=Array.isArray(e);return r===Array.isArray(n)?r?t.arrayMerge(n,e,t):Xce(n,e,t):rh(e,t)}$A.all=function(n,e){if(!Array.isArray(n))throw new Error("first argument should be an array");return n.reduce(function(t,r){return $A(t,r,e)},{})};var XO=$A,Md={borderDash:[15,10],borderStroke:"#fff",borderStrokeWidth:3,anchorSize:15,anchorFill:"#fff",anchorStroke:"#fff",anchorStrokeWidth:1,anchorCornerRadius:30},Vw={disableCanvasContextMenu:!0,containerClassName:"pikaso",transformer:Md,snapToGrid:null,cropper:{transformer:Md,circular:!1,fixed:!1,keepRatio:!0,aspectRatio:1,minWidth:100,minHeight:100,marginRatio:1.1,overlay:{color:"#262626",opacity:.5},guides:{show:!0,count:3,color:"#fff",width:1,dash:[15,10]}},drawing:{autoSelect:!1,keyboard:{cancelOnEscape:!0}},selection:{interactive:!0,keyboard:{enabled:!0,movingSpaces:5,map:{delete:["Backspace","Delete"],moveLeft:["ArrowLeft"],moveRight:["ArrowRight"],moveUp:["ArrowUp"],moveDown:["ArrowDown"],deselect:["Escape"]}},transformer:W(W({},Md),{borderDash:[0,0]}),zone:{fill:"rgba(105, 105, 105, 0.7)",stroke:"#dbdbdb"}},history:{keyboard:{enabled:!0}},measurement:null};function CA(n,e){return Object.entries(n).reduce(function(t,r){var i,s=Ke(r,2),o=s[0],a=s[1];return e.includes(o)?t:W(W({},t),((i={})[o]=a,i))},{})}function Yce(n){return W({container:n.container},XO(Vw,CA(n,["container"])))}function Yi(n,e){var t=n.getClientRect(),r=t.x+t.width/2,i=t.y+t.height/2;n.rotation(e);var s=n.getClientRect(),o=r-(s.x+s.width/2),a=i-(s.y+s.height/2);n.setAttrs({x:n.x()+o,y:n.y()+a})}var qn,zw=function(){function n(e){this.board=e}return n.prototype.apply=function(e,t){var r=this;this.board.history.create(this.board.layer,e.map(function(i){return i.node}),{undo:function(i){return r.clearCache(i)},redo:function(i){return r.addCache(i)}}),e.forEach(function(i){i.node.cache(),(Array.isArray(t)?t:[t]).forEach(function(s){"options"in s&&i.node.setAttrs(s.options);var o=i.node.filters()||[],a=r.getFilterFunction(s);o.includes(a)===!1&&i.node.filters(ge(ge([],Ke(o),!1),[a],!1))})}),this.board.events.emit("filter:add",{shapes:e,data:{filters:t}})},n.prototype.remove=function(e,t){var r=this;this.board.history.create(this.board.layer,e.map(function(i){return i.node}),{undo:function(i){return r.addCache(i)},redo:function(i){return r.clearCache(i)}}),e.forEach(function(i){if(i.node.filters()){var s=Array.isArray(t)?t.map(r.getFilterFunction):[r.getFilterFunction(t)],o=i.node.filters().filter(function(a){return!s.includes(a)});o.length===0&&i.node.clearCache(),i.node.filters(o)}}),this.board.events.emit("filter:remove",{shapes:e,data:{filters:t}})},n.prototype.addCache=function(e){e.forEach(function(t){return t.nodes.forEach(function(r){var i;!r.isCached()&&(!((i=r.filters())===null||i===void 0)&&i.length)&&r.cache()})}),this.board.selection.reselect()},n.prototype.clearCache=function(e){e.forEach(function(t){return t.nodes.forEach(function(r){var i;r.isCached()&&!(!((i=r.filters())===null||i===void 0)&&i.length)&&r.clearCache()})}),this.board.selection.reselect()},n.prototype.getFilterFunction=function(e){return"customFn"in e?e.customFn:ue.Filters[e.name]},n}(),YO=function(){function n(e){this.board=e}return n.prototype.horizontal=function(e){var t=(e??ge(ge([],Ke(this.board.activeShapes),!1),[this.board.background.image],!1)).filter(function(r){return!r.hasGroup()});this.board.history.create(this.board.layer,t.map(function(r){return r.node})),t.forEach(function(r){var i=r.node,s=i.getClientRect();i.scaleX(-1*i.scaleX());var o=i.getClientRect();i.setAttrs({x:i.x()+(s.x-o.x),y:i.y()+(s.y-o.y)})}),this.board.events.emit("flip:x",{shapes:t})},n.prototype.vertical=function(e){var t=(e??ge(ge([],Ke(this.board.activeShapes),!1),[this.board.background.image],!1)).filter(function(r){return!r.hasGroup()});this.board.history.create(this.board.layer,t.map(function(r){return r.node})),t.forEach(function(r){var i=r.node,s=i.getClientRect();i.scaleY(-1*i.scaleY());var o=i.getClientRect();i.setAttrs({x:i.x()+(s.x-o.x),y:i.y()+(s.y-o.y)})}),this.board.events.emit("flip:y",{shapes:t})},n}(),br=function(){function n(e,t,r){r===void 0&&(r={});var i,s,o,a,A=this;this.deleted=!1,this.selectable=!1,this.filtersList=[],this.board=e,this.node=t,this.flip=new YO(e),this.filter=new zw(e),this.selectable=(o=(i=r.selectable)!==null&&i!==void 0?i:(s=this.board.settings.selection)===null||s===void 0?void 0:s.interactive)===null||o===void 0||o,this.config=W({transformer:{}},r),((a=r.history)===null||a===void 0||a)&&this.board.history.create(this.board.layer,[],{undo:function(){return A.delete()},redo:function(){return A.undelete()}}),this.board.events.emit("shape:create",{shapes:[this]}),this.selectable&&(this.node.draggable(!0),this.board.addShape(this)),this.board.layer.add(this.node),this.registerEvents()}return Object.defineProperty(n.prototype,"isActive",{get:function(){return!this.isDeleted&&!this.isInvisible},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isDeleted",{get:function(){return this.deleted},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){return this.node.isVisible()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isInvisible",{get:function(){return this.isVisible===!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSelectable",{get:function(){return this.selectable},set:function(e){this.selectable=e,this.node.draggable(e),e?this.board.addShape(this):(this.deselect(),this.board.removeShape(this)),this.board.events.emit("shape:selectable",{shapes:[this],data:{selectable:e}})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"group",{get:function(){return this.node.getAttr("__group__")},set:function(e){this.group&&e!==this.group&&this.board.groups.detach([this],this.group),e&&e.length>0&&this.board.groups.attach([this],e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this.node.name()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this.filtersList},enumerable:!1,configurable:!0}),n.prototype.hasGroup=function(){return!!this.group},n.prototype.flipX=function(){this.flip.horizontal([this])},n.prototype.flipY=function(){this.flip.vertical([this])},n.prototype.select=function(){this.board.selection.add(this)},n.prototype.deselect=function(){this.board.selection.deselect(this)},n.prototype.addFilter=function(e){this.filter.apply([this],e),this.filtersList=ge(ge([],Ke(this.getFiltersDiff(e)),!1),Ke(Array.isArray(e)?e:[e]),!1)},n.prototype.removeFilter=function(e){this.filter.remove([this],e),this.filtersList=this.getFiltersDiff(e)},n.prototype.delete=function(){this.deleted||(this.deselect(),this.node.hide(),!this.node.isCached&&this.node.width()&&this.node.height()&&this.node.cache(),this.deleted=!0,this.board.events.emit("shape:delete",{shapes:[this]}))},n.prototype.undelete=function(){this.deleted&&(this.node.show(),this.node.isCached()&&this.node.clearCache(),this.deleted=!1,this.board.events.emit("shape:undelete",{shapes:[this]}))},n.prototype.destroy=function(){var e=this;this.node.destroy();var t=this.board.activeShapes.filter(function(r){return r.node!==e.node});this.board.setShapes(t),this.board.events.emit("shape:destroy",{shapes:[this]})},n.prototype.rotate=function(e){this.node.rotation(e),this.board.events.emit("shape:rotate",{shapes:[this]})},n.prototype.x=function(){return this.node.x()},n.prototype.y=function(){return this.node.y()},n.prototype.width=function(){return this.node.width()},n.prototype.height=function(){return this.node.height()},n.prototype.scale=function(){return this.node.scale()},n.prototype.scaleX=function(){return this.node.scaleX()},n.prototype.scaleY=function(){return this.node.scaleY()},n.prototype.show=function(){return this.node.show()},n.prototype.hide=function(){return this.node.hide()},n.prototype.update=function(e){this.board.history.create(this.board.layer,this.node),this.node.setAttrs(e)},n.prototype.to=function(e){this.board.history.create(this.board.layer,this.node),this.node.to(e)},n.prototype.registerEvents=function(){var e=this;this.node.addEventListener("mouseover",function(){e.selectable&&!e.board.activeDrawing&&(e.board.stage.getContent().style.cursor="move")}),this.node.addEventListener("mouseout",function(){e.board.stage.getContent().style.cursor="inherit"}),this.node.addEventListener("dragstart",function(){(e.selectable===!1||e.board.selection.isDisabled)&&e.node.stopDrag()}),this.node.on("dragend",function(t){return t.currentTarget.setAttrs({originalX:void 0,originalY:void 0})}),this.node.on("transformend",function(t){return t.currentTarget.setAttrs({originalScaleX:void 0,originalScaleY:void 0})})},n.prototype.getFiltersDiff=function(e){var t=Array.isArray(e)?e:[e];return this.filters.filter(function(r){return!t.find(function(i){return"name"in r&&"name"in i?i.name===r.name:"customFn"in r&&"customFn"in i&&r.customFn===i.customFn})})},n}(),Jce=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return He(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"group"},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){Yi(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(br),Zce=function(){function n(e){this.groups=[],this.board=e}return Object.defineProperty(n.prototype,"list",{get:function(){return this.groups},enumerable:!1,configurable:!0}),n.prototype.findGroup=function(e){return this.groups.find(function(t){var r=t.container;return r.name===e&&r.isActive})},n.prototype.createGroup=function(e,t,r){var i=this;t===void 0&&(t={}),r===void 0&&(r=!0);var s={container:new Jce(this.board,new ue.Group(W({name:e,draggable:this.isDraggable()},t)),{history:r}),children:[]};return this.groups=ge(ge([],Ke(this.groups),!1),[s],!1),r&&this.board.history.create(this.board.layer,[],{undo:function(){return i.destroyGroup(e)},redo:function(){return i.createGroup(e,t,!1)}}),this.board.events.emit("group:create",{data:{groupName:e}}),s},n.prototype.findOrCreateGroup=function(e,t,r){t===void 0&&(t={}),r===void 0&&(r=!0);var i=this.findGroup(e);return i??this.createGroup(e,t,r)},n.prototype.deleteGroup=function(e,t){var r=this;t===void 0&&(t=!0);var i=this.findGroup(e);i&&(i.container.delete(),i.children.forEach(function(s){return s.delete()}),t&&this.board.history.create(this.board.layer,[],{undo:function(){return r.undeleteGroup(e,!1)},redo:function(){return r.deleteGroup(e,!1)}}),this.board.events.emit("group:delete",{data:{groupName:e}}))},n.prototype.undeleteGroup=function(e,t){var r=this;t===void 0&&(t=!0);var i=this.groups.find(function(s){return s.container.name===e});i&&(i.container.undelete(),i.children.forEach(function(s){return s.undelete()}),t&&this.board.history.create(this.board.layer,[],{undo:function(){return r.deleteGroup(e,!1)},redo:function(){return r.undeleteGroup(e,!1)}}),this.board.events.emit("group:undelete",{data:{groupName:e}}))},n.prototype.destroyGroup=function(e){var t=this.findGroup(e);t&&(t.container.destroy(),t.children.forEach(function(r){return r.destroy()}),this.groups=this.groups.filter(function(r){var i=r.container;return t.container.name!==i.name}),this.board.events.emit("group:destroy",{data:{groupName:e}}))},n.prototype.splitGroup=function(e,t){var r=this;t===void 0&&(t=!0);var i=this.findGroup(e);i&&!i.container.node.isCached()&&(this.removeFromGroup(i.children,e,!1),i.container.delete(),this.groups=this.groups.filter(function(s){var o=s.container;return i.container.name!==o.name}),t&&this.board.history.create(this.board.layer,[],{undo:function(){return r.addToGroup(i.children,e,!1)},redo:function(){return r.splitGroup(e,!1)}}),this.board.events.emit("group:ungroup",{data:{groupName:e}}))},n.prototype.addToGroup=function(e,t,r){var i=this;r===void 0&&(r=!0);var s=this.findOrCreateGroup(t,{},r);return e.forEach(function(o){s.children.includes(o)||(i.groups=i.groups.map(function(a){var A=a.container,c=a.children;return A.name===t?{container:A,children:ge(ge([],Ke(c),!1),[o],!1)}:{container:A,children:c}}),s.container.node.add(o.node),o.node.draggable(!1),o.node.setAttr("__group__",t))}),r&&this.board.history.create(this.board.layer,[],{undo:function(){i.removeFromGroup(e,t,!1),i.deleteEmpty(t,!1)},redo:function(){return i.addToGroup(e,t,!1)}}),this.board.events.emit("group:attach",{shapes:e,data:{groupName:t}}),s},n.prototype.removeFromGroup=function(e,t,r){var i=this;r===void 0&&(r=!0);var s=this.findGroup(t);s&&(e.forEach(function(o){var a;if(s.children.includes(o)!==!1){i.groups=i.groups.map(function(u){var d=u.container,p=u.children;return d.name===t?{container:d,children:p.filter(function(f){return o.node!==f.node})}:{container:d,children:p}});var A=o.node.getAbsolutePosition(),c=o.node.getAbsoluteScale(),l=o.node.getAbsoluteRotation();o.node.moveTo(s.container.node.parent),o.node.x(A.x),o.node.y(A.y),o.node.scale({x:c.x,y:c.y}),o.node.rotation(l),o.node.draggable(i.isDraggable());var h=s.container.node;h.children=(a=h.children)===null||a===void 0?void 0:a.filter(function(u){return u!==o.node}),o.node.setAttr("__group__",null)}}),r&&this.board.history.create(this.board.layer,[],{undo:function(){return i.addToGroup(e,t,!1)},redo:function(){i.removeFromGroup(e,t,!1),i.deleteEmpty(t,!1)}}),this.board.events.emit("group:detach",{shapes:e,data:{groupName:t}}))},n.prototype.isDraggable=function(){var e,t;return(t=(e=this.board.settings.selection)===null||e===void 0?void 0:e.interactive)===null||t===void 0||t},n.prototype.deleteEmpty=function(e,t){var r,i;t===void 0&&(t=!0),((i=(r=this.findGroup(e))===null||r===void 0?void 0:r.children)===null||i===void 0?void 0:i.length)===0&&this.deleteGroup(e,t)},n}(),qce=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return He(e,n),e.prototype.create=function(t,r){return r===void 0&&(r={}),this.createGroup(t,r)},e.prototype.find=function(t){return this.findGroup(t)},e.prototype.findOrCreate=function(t,r){return r===void 0&&(r={}),this.findOrCreateGroup(t,r)},e.prototype.delete=function(t){this.deleteGroup(t)},e.prototype.undelete=function(t){this.undeleteGroup(t)},e.prototype.destroy=function(t){this.destroyGroup(t)},e.prototype.ungroup=function(t){this.splitGroup(t)},e.prototype.attach=function(t,r){return this.addToGroup(t,r)},e.prototype.detach=function(t,r){this.removeFromGroup(t,r)},e}(Zce),JO=function(){function n(e,t){var r,i;t===void 0&&(t=!1),this.board=e,this.node=new ue.Label,this.backgroundNode=new ue.Tag((r=this.board.settings.measurement)===null||r===void 0?void 0:r.background),this.textNode=new ue.Text(W({text:" "},(i=this.board.settings.measurement)===null||i===void 0?void 0:i.text)),this.node.add(this.backgroundNode,this.textNode),t===!1&&this.hide(),this.board.layer.add(this.node)}return Object.defineProperty(n.prototype,"position",{set:function(e){this.node.setAttrs({x:e.x,y:e.y}),this.node.moveToTop()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"text",{set:function(e){this.textNode.setAttr("text",e)},enumerable:!1,configurable:!0}),n.prototype.show=function(){this.node.isVisible()||(this.node.clearCache(),this.node.show())},n.prototype.hide=function(){this.node.isVisible()!==!1&&(this.node.hide(),this.node.cache())},n.prototype.measure=function(e,t){var r,i,s,o;if(e&&this.board.settings.measurement){var a=Math.max((r=this.board.settings.measurement.margin)!==null&&r!==void 0?r:0,(s=(i=this.board.settings.transformer)===null||i===void 0?void 0:i.anchorSize)!==null&&s!==void 0?s:0,(o=Md.anchorSize)!==null&&o!==void 0?o:0),A=t??e.getClientRect();this.text="".concat(A.width.toFixed(0)," × ").concat(A.height.toFixed(0));var c=A.x+A.width/2-this.node.width()/2,l=A.y+A.height+a;l+this.node.height()>this.board.getDimensions().height&&(l=A.y+e.height()-2*this.node.height()-a),this.position={x:c,y:l},this.node.isVisible()===!1&&this.show()}},n}();function ehe(n){n===void 0&&(n="");var e=String(n);return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/&nbsp;/gi," ")).replace(/&amp;/gi,"&")).replace(/<br>/gi,`
`)).replace(/<br\/>/gi,`
`)).replace(/<div>/gi,`
`)).replace(/<p>/gi,`
`)).replace(/<(.*?)>/g,"")).split(`
`).map(function(t){return t===void 0&&(t=""),t.trim()}).join(`
`)).replace(/\n\n+/g,`

`)).replace(/[ ]+/g," ")).trim()}function pi(){return typeof window<"u"&&window.document!==void 0}function tc(){var n;return!pi()&&typeof process<"u"&&!!(!((n=process.versions)===null||n===void 0)&&n.node)}(function(n){n.Svg="Svg",n.Text="Text",n.Pencil="Pencil",n.Line="Line",n.Arrow="Arrow",n.Circle="Circle",n.Rect="Rect",n.Ellipse="Ellipse",n.Polygon="Polygon",n.Triangle="Triangle"})(qn||(qn={}));var ZO=function(n){function e(t,r,i){i===void 0&&(i={});var s=n.call(this,t,r,i)||this;return s.isEditingEnabled=!1,s.config=i,r.on("transform",s.transform.bind(s)),r.on("dblclick",s.inlineEdit.bind(s)),s}return He(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"label"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEditing",{get:function(){return this.isEditingEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textNode",{get:function(){return this.node.getText()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagNode",{get:function(){return this.node.getTag()},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){Yi(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e.prototype.updateTag=function(t){this.board.history.create(this.board.layer,this.tagNode),this.tagNode.setAttrs(t)},e.prototype.updateText=function(t){this.board.history.create(this.board.layer,this.textNode),this.textNode.setAttrs(t),this.updateTransformer()},e.prototype.transform=function(){this.config.keepScale!==!1&&this.board.selection.transformer.getActiveAnchor()!=="rotater"&&(this.textNode.setAttrs({width:this.node.width()*this.node.scaleX(),scaleX:this.node.scaleY()}),this.node.scaleX(this.textNode.scaleY()),this.tagNode.scaleX(this.node.scaleY()))},e.prototype.inlineEdit=function(t){var r,i,s,o=this;if(!tc()&&!this.node.isCached()){t.cancelBubble=!0,this.isEditingEnabled=!0,this.board.setActiveDrawing(qn.Text);var a=t.target.absolutePosition(),A=this.textNode.getAttr("text");this.node.hide(),(r=this.node)===null||r===void 0||r.draggable(!1),this.board.selection.deselectAll();var c=document.createElement("span");(s=(i=this.board.container)===null||i===void 0?void 0:i.getElementsByClassName(this.board.settings.containerClassName)[0])===null||s===void 0||s.append(c),pi()&&this.setInputFocus(c),c.setAttribute("contenteditable",""),c.setAttribute("role","textbox"),c.innerText=this.textNode.getAttr("text"),Object.assign(c.style,{position:"absolute",display:"inline-block",left:"".concat(a.x-this.textNode.padding(),"px"),top:"".concat(a.y-this.textNode.padding(),"px"),width:"".concat(this.textNode.width()*this.node.scaleX(),"px"),minWidth:"".concat(2*this.textNode.padding(),"px"),maxWidth:"".concat(this.textNode.width()*this.node.scaleX(),"px"),minHeight:"".concat(this.textNode.height()*this.node.scaleY(),"px"),fontSize:"".concat(this.textNode.fontSize()*this.node.scaleY(),"px"),border:"none",padding:"".concat(this.textNode.padding(),"px"),margin:"".concat(this.textNode.padding(),"px"),overflow:"hidden",background:this.tagNode.fill(),borderRadius:"".concat(this.tagNode.cornerRadius(),"px"),outline:"none",resize:"none",lineHeight:this.textNode.lineHeight(),fontFamily:this.textNode.fontFamily(),transformOrigin:"left top",textAlign:this.textNode.align(),color:this.textNode.fill(),transform:"".concat(c.style.transform," rotateZ(").concat(this.node.rotation(),"deg)")}),c.addEventListener("blur",function(l){var h,u;o.isEditingEnabled=!1,(h=c.parentNode)===null||h===void 0||h.removeChild(c),o.board.setActiveDrawing(null);var d=ehe(l.target.innerHTML);d!==A&&o.board.history.create(o.board.layer,[],{undo:function(){return o.changeText(A)},redo:function(){return o.changeText(d)}}),o.textNode.setText(d),o.node.show(),o.node.setAttrs({draggable:(u=o.board.settings.selection)===null||u===void 0?void 0:u.interactive,width:o.textNode.width()}),o.board.selection.add(o)})}},e.prototype.changeText=function(t){this.textNode.setAttrs({text:t}),this.updateTransformer(),this.board.events.emit("label:update-text",{shapes:[this],data:{text:t}})},e.prototype.updateTransformer=function(){this.board.selection.isVisible&&this.board.selection.transformer.forceUpdate()},e.prototype.setInputFocus=function(t){return Yn(this,void 0,void 0,function(){var r,i;return Jn(this,function(s){switch(s.label){case 0:return[4,new Promise(function(o){return setTimeout(o,50)})];case 1:return s.sent(),(r=document.createRange()).selectNodeContents(t),r.collapse(!1),(i=window.getSelection()).removeAllRanges(),i.addRange(r),[2]}})})},e}(br),the=function(){function n(e){this.list=[],this.board=e,this.filter=new zw(e),this.createZone(),this.createTransformer(),this.board.settings.measurement&&(this.dimensionsTag=new JO(this.board)),this.board.stage.on("mousedown touchstart",this.onDragZoneStart.bind(this)),this.board.stage.on("mousemove touchmove",this.onDragZoneMove.bind(this)),this.board.stage.on("mouseup touchend",this.onDragZoneEnd.bind(this)),pi()&&(window.addEventListener("mouseup",this.onWindowMouseUp.bind(this)),window.addEventListener("touchend",this.onWindowMouseUp.bind(this)),window.addEventListener("keydown",this.onKeyDown.bind(this)))}return Object.defineProperty(n.prototype,"shapes",{get:function(){return this.list},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){return this.list.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isDisabled",{get:function(){return!!this.board.activeDrawing||this.board.activeShapes.some(function(e){return e instanceof ZO&&e.isEditing})},enumerable:!1,configurable:!0}),n.prototype.getTransformer=function(){return this.transformer},n.prototype.find=function(e){var t=this.board.activeShapes.filter(function(r){return e(r)});this.multi(t)},n.prototype.selectAll=function(){this.multi(this.board.activeShapes)},n.prototype.deselectAll=function(){this.multi([])},n.prototype.reselect=function(){var e=this.list;this.deselectAll(),this.multi(e)},n.prototype.multi=function(e){var t,r,i;this.list=e;var s=W(W({visible:!0,centeredScaling:!0,rotationSnaps:[0,45,90,135,180,225,270,315],keepRatio:e.length>1,rotateEnabled:!0,enabledAnchors:["top-left","top-right","bottom-left","bottom-right","top-center","bottom-center","middle-left","middle-right"]},this.board.settings.transformer),(t=this.board.settings.selection)===null||t===void 0?void 0:t.transformer),o=e.reduce(function(a,A){var c,l=A.node.isCached()?[]:(c=A.config.transformer)===null||c===void 0?void 0:c.enabledAnchors;return W(W(W({},a),A.config.transformer),{enabledAnchors:l})},s);this.transformer.setAttrs(o).nodes(e.map(function(a){return a.node})),(r=this.dimensionsTag)===null||r===void 0||r.measure(this.transformer,this.getTransformerRect()),this.transformer.show(),this.transformer.moveToTop(),e.length===0&&(this.transformer.hide(),(i=this.dimensionsTag)===null||i===void 0||i.hide()),this.board.events.emit("selection:change",{shapes:e})},n.prototype.add=function(e){this.list.some(function(t){return t.node===e.node})||this.multi(ge(ge([],Ke(this.list),!1),[e],!1))},n.prototype.toggle=function(e){this.list.some(function(t){return t.node===e.node})?this.deselect(e):this.multi(ge(ge([],Ke(this.list),!1),[e],!1))},n.prototype.deselect=function(e){this.list=this.list.filter(function(t){return t!==e}),this.multi(this.list)},n.prototype.delete=function(){if(this.list.length!==0){var e=this.list;this.list=[],this.board.stage.getContent().style.cursor="inherit",this.transformer.nodes([]),this.board.history.create(this.board.layer,[],{undo:function(){return e.forEach(function(t){return t.undelete()})},redo:function(){return e.forEach(function(t){return t.delete()})}}),e.forEach(function(t){return t.delete()}),this.board.events.emit("selection:delete",{shapes:e})}},n.prototype.moveX=function(e){return Yn(this,void 0,void 0,function(){var t=this;return Jn(this,function(r){return[2,new Promise(function(i){t.board.history.create(t.board.layer,t.transformer.nodes()),t.list.forEach(function(s){s.node.to({x:s.node.x()+e,onFinish:i})}),t.board.events.emit("selection:move",{shapes:t.list,data:{axis:"x",value:e}})})]})})},n.prototype.moveY=function(e){return Yn(this,void 0,void 0,function(){var t=this;return Jn(this,function(r){return[2,new Promise(function(i){t.board.history.create(t.board.layer,t.transformer.nodes()),t.list.forEach(function(s){s.node.to({y:s.node.y()+e,onFinish:i})}),t.board.events.emit("selection:move",{shapes:t.list,data:{axis:"y",value:e}})})]})})},n.prototype.addFilter=function(e){this.filter.apply(this.list,e),this.reselect()},n.prototype.removeFilter=function(e){this.filter.remove(this.list,e),this.reselect()},n.prototype.group=function(e){this.board.groups.attach(this.list,e)},n.prototype.createZone=function(){var e;this.zone=new ue.Rect(W({visible:!1},(e=this.board.settings.selection)===null||e===void 0?void 0:e.zone)),this.board.layer.add(this.zone)},n.prototype.createTransformer=function(){var e=this;this.transformer=new ue.Transformer,this.transformer.on("dragstart",function(){var t;e.transformer.hide(),(t=e.dimensionsTag)===null||t===void 0||t.hide(),e.board.history.create(e.board.layer,e.list.map(function(r){return r.node})),e.board.events.emit("selection:dragstart",{shapes:e.list})}),this.transformer.on("dragmove",function(){e.board.events.emit("selection:dragmove",{shapes:e.list})}),this.transformer.on("dragend",function(){var t;e.transformer.show(),(t=e.dimensionsTag)===null||t===void 0||t.measure(e.transformer,e.getTransformerRect()),e.board.events.emit("selection:dragend",{shapes:e.list})}),this.transformer.on("transformstart",function(){e.board.history.create(e.board.layer,e.list.map(function(t){return t.node}),{execute:function(){return e.board.selection.transformer.forceUpdate()}}),e.board.events.emit("selection:transformstart",{shapes:e.list})}),this.transformer.on("transform",function(){var t;(t=e.dimensionsTag)===null||t===void 0||t.measure(e.transformer,e.getTransformerRect()),e.board.events.emit("selection:transform",{shapes:e.list})}),this.transformer.on("transformend",function(){e.board.events.emit("selection:transformend",{shapes:e.list})}),this.board.layer.add(this.transformer)},n.prototype.onDragZoneStart=function(e){var t,r=this;if(((t=this.board.settings.selection)===null||t===void 0?void 0:t.interactive)!==!1&&!this.isDisabled){var i=this.board.activeShapes.find(function(a){return a.node===r.getParentNode(e.target)});if(i&&!this.list.includes(i)){var s=e.evt.shiftKey===!0,o=e.evt.ctrlKey===!0;return s||o?s&&!o?this.add(i):o&&!s&&this.toggle(i):this.multi([i]),void this.board.setActiveDrawing(null)}this.board.activeDrawing===null&&this.isBackgroundNode(e.target)!==!1&&(this.startPointerPosition=this.board.stage.getPointerPosition(),this.zone.setAttrs({width:0,height:0,visible:!0}).moveToTop())}},n.prototype.onDragZoneMove=function(){if(this.zone.visible()){var e=this.board.stage.getPointerPosition(),t=e.x,r=e.y;this.zone.setAttrs({x:Math.min(this.startPointerPosition.x,t),y:Math.min(this.startPointerPosition.y,r),width:Math.abs(t-this.startPointerPosition.x),height:Math.abs(r-this.startPointerPosition.y)})}},n.prototype.onDragZoneEnd=function(){var e=this;if(this.zone.visible()){setTimeout(function(){e.zone.visible(!1)},10);var t=this.zone.getClientRect(),r=this.board.activeShapes.filter(function(i){return ue.Util.haveIntersection(t,i.node.getClientRect())});this.multi(r)}},n.prototype.onWindowMouseUp=function(e){e.target instanceof HTMLCanvasElement||this.onDragZoneEnd()},n.prototype.onKeyDown=function(e){var t,r,i,s,o,a,A,c,l,h,u,d,p,f,v=(t=this.board.settings.selection)===null||t===void 0?void 0:t.keyboard;if((v==null?void 0:v.enabled)!==!1){var m=this.transformer.nodes(),y=(r=v==null?void 0:v.movingSpaces)!==null&&r!==void 0?r:5;this.transformer.getAttr("visible")!==!1&&m.length!==0&&(!((s=(i=v==null?void 0:v.map)===null||i===void 0?void 0:i.delete)===null||s===void 0)&&s.includes(e.key)&&this.delete(),!((a=(o=v==null?void 0:v.map)===null||o===void 0?void 0:o.moveLeft)===null||a===void 0)&&a.includes(e.key)&&this.moveX(-y),!((c=(A=v==null?void 0:v.map)===null||A===void 0?void 0:A.moveRight)===null||c===void 0)&&c.includes(e.key)&&this.moveX(y),!((h=(l=v==null?void 0:v.map)===null||l===void 0?void 0:l.moveUp)===null||h===void 0)&&h.includes(e.key)&&this.moveY(-y),!((d=(u=v==null?void 0:v.map)===null||u===void 0?void 0:u.moveDown)===null||d===void 0)&&d.includes(e.key)&&this.moveY(y),!((f=(p=v==null?void 0:v.map)===null||p===void 0?void 0:p.deselect)===null||f===void 0)&&f.includes(e.key)&&this.deselectAll())}},n.prototype.getParentNode=function(e){for(var t,r=e;r.parent&&((t=r.parent)===null||t===void 0?void 0:t.getType())!=="Layer";)r=r.parent;return r},n.prototype.isBackgroundNode=function(e){return e===this.board.stage||e===this.board.background.overlay.node},n.prototype.getTransformerRect=function(){return{x:this.transformer.x(),y:this.transformer.y(),width:this.transformer.width(),height:this.transformer.height()}},n}();function qO(n){return Yn(this,void 0,void 0,function(){return Jn(this,function(e){return[2,new Promise(function(t,r){var i=new FileReader;i.addEventListener("load",function(){t(i.result)}),i.addEventListener("error",function(s){r(s)}),i.readAsDataURL(n)})]})})}function Ww(n){return new Promise(function(e,t){ue.Image.fromURL(n,function(r){r?e(r):t()})})}var e5=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return He(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"image"},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){Yi(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(br),t5=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return He(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"rect"},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){Yi(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(br),nhe=function(){function n(e){this.board=e;var t=new ue.Image({image:void 0}),r=new ue.Rect;this.image=new e5(e,t,{selectable:!1,history:!1}),this.overlay=new t5(e,r,{selectable:!1,history:!1})}return Object.defineProperty(n.prototype,"nodes",{get:function(){return[this.image.node,this.overlay.node]},enumerable:!1,configurable:!0}),n.prototype.getPosition=function(){return{x:this.image.node.x()||this.overlay.node.x(),y:this.image.node.y()||this.overlay.node.y()}},n.prototype.setImageFromFile=function(e,t){return Yn(this,void 0,void 0,function(){var r;return Jn(this,function(i){switch(i.label){case 0:return[4,qO(e)];case 1:return r=i.sent(),this.setImageFromUrl(r,t),[2]}})})},n.prototype.setImageFromUrl=function(e,t){var r,i;return t===void 0&&(t={size:"resize"}),Yn(this,void 0,void 0,function(){var s,o,a,A,c;return Jn(this,function(l){switch(l.label){case 0:return this.board.history.create(this.board.layer,[this.board.stage,this.image.node,this.overlay.node],this.board.rescale.bind(this)),[4,Ww(e)];case 1:return s=l.sent(),o=s.width(),a=s.height(),A={width:this.board.stage.width()/o,height:this.board.stage.height()/a},t.size==="cover"&&(c=Math.max(A.width,A.height),o*=c,a*=c),t.size==="contain"&&(c=Math.min(A.width,A.height),o*=c,a*=c),t.size==="resize"&&this.board.stage.setAttrs({width:o,height:a}),t.size==="stretch"&&(o=this.board.stage.width(),a=this.board.stage.height()),this.image.node.setAttrs({width:o,height:a,image:s.image(),x:(r=t.x)!==null&&r!==void 0?r:s.x(),y:(i=t.y)!==null&&i!==void 0?i:s.y()}),this.overlay.node.setAttrs({width:o,height:a}),[2]}})})},n.prototype.fill=function(e){this.board.history.create(this.board.layer,this.overlay.node),this.overlay.node.setAttrs({width:this.board.stage.width(),height:this.board.stage.height(),fill:e})},n}(),rhe=function(){function n(e,t,r){var i,s,o,a,A,c,l;this.activeDrawing=null,this.shapesList=[],this.settings=e,this.history=r,this.events=t;var h=(o=(i=this.settings.width)!==null&&i!==void 0?i:(s=this.settings.container)===null||s===void 0?void 0:s.clientWidth)!==null&&o!==void 0?o:0,u=(c=(a=this.settings.height)!==null&&a!==void 0?a:(A=this.settings.container)===null||A===void 0?void 0:A.clientHeight)!==null&&c!==void 0?c:0;this.stage=new ue.Stage({width:h,height:u,container:this.settings.container}),this.stage.content&&(this.stage.content.className=this.settings.containerClassName,Object.assign(this.stage.content.style,{position:"relative",top:"50%",left:"50%",transform:"translate(-50%,-50%)"})),pi()&&(this.stage.on("widthChange",this.rescale.bind(this)),this.stage.on("heightChange",this.rescale.bind(this))),this.settings.disableCanvasContextMenu&&((l=this.settings.container)===null||l===void 0||l.addEventListener("contextmenu",function(d){return d.preventDefault()})),this.layer=new ue.Layer,this.stage.add(this.layer),this.background=new nhe(this),this.selection=new the(this),this.groups=new qce(this),this.container=this.settings.container}return Object.defineProperty(n.prototype,"shapes",{get:function(){return this.shapesList},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"activeShapes",{get:function(){return this.shapesList.filter(function(e){return e.isActive})},enumerable:!1,configurable:!0}),n.prototype.getDimensions=function(){return{width:this.background.image.node.width()||this.background.overlay.node.width()||this.stage.width()||this.settings.width,height:this.background.image.node.height()||this.background.overlay.node.height()||this.stage.height()||this.settings.height}},n.prototype.getNodes=function(){return ge(ge([],Ke(this.background.nodes),!1),Ke(this.shapesList.map(function(e){return e.node})),!1)},n.prototype.addShape=function(e){this.shapesList.some(function(t){return t.node===e.node})||this.shapesList.push(e)},n.prototype.removeShape=function(e){this.shapesList=this.shapesList.filter(function(t){return t.node!==e.node})},n.prototype.setShapes=function(e){this.shapesList=e},n.prototype.rescale=function(){var e=this.getContainerTransform();e&&this.stage.content.style.transform!==e&&(this.stage.content.style.transform=e,this.events.emit("board:rescale",{data:{transform:e}}))},n.prototype.setActiveDrawing=function(e){e&&(this.selection.transformer.hide(),this.draw()),e!==this.activeDrawing&&this.events.emit("board:change-active-drawing",{data:{type:e}}),this.activeDrawing=e},n.prototype.getContainerTransform=function(){if(this.container){var e=this.getDimensions(),t=this.container.clientWidth<this.container.clientHeight?this.stage.width()/e.width:this.stage.height()/e.height;return t*this.stage.width()>this.container.clientWidth&&(t=this.container.clientWidth/this.stage.width()),t*this.stage.height()>this.container.clientHeight&&(t=this.container.clientHeight/this.stage.height()),"translate(-50%, -50%) scale(".concat(t.toFixed(6),")")}},n.prototype.draw=function(){this.layer.batchDraw()},n.prototype.gc=function(){this.shapesList=this.shapesList.filter(function(e){return!e.isDeleted||(e.node.destroy(),!1)})},n}(),ihe=function(){function n(){this.listeners={}}return n.prototype.on=function(e,t){var r=this;(Array.isArray(e)?e:[e]).forEach(function(i){r.listeners[i]||(r.listeners[i]=[]),r.listeners[i].push(t)})},n.prototype.off=function(e,t){var r=this;(Array.isArray(e)?e:[e]).forEach(function(i){if(r.listeners[i]){var s=r.listeners[i].indexOf(t);s>-1&&r.listeners[i].splice(s,1)}})},n.prototype.emit=function(e,t){var r=this;(this.listeners[e]||this.listeners["*"])&&["*",e].forEach(function(i){var s;(s=r.listeners[i])===null||s===void 0||s.forEach(function(o){o(W({name:e},t))})})},n}(),she=function(){function n(e,t){this.list=[],this.step=-1,this.settings=e,this.events=t,pi()&&window.addEventListener("keydown",this.onKeyDown.bind(this))}return n.prototype.getStep=function(){return this.step},n.prototype.getList=function(){return this.list},n.prototype.getState=function(){return this.list[this.step]},n.prototype.create=function(e,t,r){var i=this,s=Array.isArray(t)?t:[t];this.step+=1,this.list=ge(ge([],Ke(this.list.slice(0,this.step)),!1),[{container:e,states:s.map(function(o){return i.getNodeState(o)}),hooks:r}],!1)},n.prototype.undo=function(){var e,t,r=this;this.step<0||(this.applyAttributes(function(i,s){return r.getNodeAttributes(i)}),(t=(e=this.list[this.step].hooks)===null||e===void 0?void 0:e.undo)===null||t===void 0||t.call(e,this.list[this.step].states),this.step-=1,this.events.emit("history:undo",this.getEventData()))},n.prototype.redo=function(){var e,t;this.step!==this.list.length-1&&(this.step+=1,this.applyAttributes(function(r,i){return i}),(t=(e=this.list[this.step].hooks)===null||e===void 0?void 0:e.redo)===null||t===void 0||t.call(e,this.list[this.step].states),this.events.emit("history:redo",this.getEventData()))},n.prototype.jump=function(e){if(!(e<0||e>this.list.length-1||this.step===e))for(;e!==this.step;)e<this.step?this.undo():this.redo()},n.prototype.getNodeState=function(e){var t=e.clone({});return e.getType()==="Group"?{nodes:this.getNodesTree(e),snapshots:this.getNodesTree(t).map(function(r){return r.attrs})}:{nodes:[e],snapshots:[t.attrs]}},n.prototype.applyAttributes=function(e){var t,r=this,i=this.list[this.step],s=i.container,o=i.states,a=i.hooks;o.forEach(function(A){var c=A.nodes,l=A.snapshots;c.forEach(function(h,u){var d=l[u],p=e(h,d);l[u]=W({},r.getNodeAttributes(h)),Object.entries(p).forEach(function(f){var v=Ke(f,1)[0];h.setAttr(v,d[v])})})}),(t=a==null?void 0:a.execute)===null||t===void 0||t.call(a,o),s.batchDraw()},n.prototype.getNodesTree=function(e){var t=this;return e?(Array.isArray(e)?e:[e]).reduce(function(r,i){return ge(ge(ge([],Ke(r),!1),[i],!1),Ke(t.getNodesTree(i.hasChildren()?i.children:[])),!1)},[]):[]},n.prototype.getNodeAttributes=function(e){return CA(W({x:e.x(),y:e.y(),scaleX:e.scaleX(),scaleY:e.scaleY(),width:e.width(),height:e.height()},e.attrs),["id","container"])},n.prototype.getEventData=function(){return{data:{step:this.step,total:this.list.length,canUndo:this.step>-1,canReset:this.step>-1,canRedo:this.step>-1&&this.step<this.list.length-1}}},n.prototype.onKeyDown=function(e){var t,r,i;if(((i=(r=(t=this.settings)===null||t===void 0?void 0:t.history)===null||r===void 0?void 0:r.keyboard)===null||i===void 0?void 0:i.enabled)!==!1){var s=e.metaKey||e.ctrlKey,o=e.shiftKey===!0,a=e.key.toLowerCase();s&&!o&&a==="z"&&this.undo(),s&&o&&a==="z"&&this.redo()}},n}(),ohe=function(){function n(e){this.board=e}return n.prototype.export=function(e){var t,r=(t=this.board.stage.children)===null||t===void 0?void 0:t.flatMap(function(s){var o;return(o=s.children)===null||o===void 0?void 0:o.filter(function(a){return a.getClassName()==="Transformer"&&a.nodes().length>0})});r==null||r.forEach(function(s){return s==null?void 0:s.hide()});var i=this.board.stage.toDataURL(e);return r==null||r.forEach(function(s){return s==null?void 0:s.show()}),i},n}(),ahe=function(){function n(e){this.board=e}return n.prototype.export=function(){var e=this,t=this.nodeToObject(this.board.stage,["container","children","zIndex"]),r=this.nodeToObject(this.board.layer,["children","zIndex"]),i=this.board.activeShapes.map(function(s){return W(W({},e.nodeToObject(s.node,[])),{group:s.group})});return{stage:t,layer:r,background:{image:W(W({},this.nodeToObject(this.board.background.image.node)),{group:this.board.background.image.group}),overlay:W(W({},this.nodeToObject(this.board.background.overlay.node)),{group:this.board.background.overlay.group})},shapes:i}},n.prototype.nodeToObject=function(e,t){var r,i;t===void 0&&(t=[]);var s=e.toObject();s.className==="Image"&&e.attrs.image&&(s.attrs.url=e.attrs.image.src);var o=(e.filters()||[]).map(function(A){return Object.keys(ue.Filters).find(function(c){return ue.Filters[c]===A})}),a=CA(W(W({},s.attrs),Object.entries({x:(r=e.x())!==null&&r!==void 0?r:void 0,y:(i=e.y())!==null&&i!==void 0?i:void 0,width:e.width()||void 0,height:e.height()||void 0}).reduce(function(A,c){var l,h=Ke(c,2),u=h[0],d=h[1];return W(W({},A),((l={})[u]=d&&Number(d==null?void 0:d.toFixed(2)),l))},{})),ge(["draggable","filters","__group__"],Ke(t),!1));return W(W({attrs:a,filters:o,className:s.className},!t.includes("zIndex")&&{zIndex:e.zIndex()}),["Label"].includes(s.className)&&{children:s.children})},n}(),Ahe=function(){function n(e,t){this.board=e,this.cropper=t,this.image=new ohe(this.board),this.json=new ahe(this.board)}return n.prototype.toImage=function(e){return this.cropper.stop(),this.image.export(e)},n.prototype.toJson=function(){return this.json.export()},n}(),lhe=function(){function n(e,t){this.board=e,this.shapes=t}return n.prototype.json=function(e){var t=e.stage,r=e.layer,i=e.background,s=e.shapes;return Yn(this,void 0,void 0,function(){var o=this;return Jn(this,function(a){switch(a.label){case 0:return this.board.background.overlay.update(i.overlay),i.image.attrs.url?[4,this.board.background.setImageFromUrl(i.image.attrs.url)]:[3,2];case 1:a.sent(),this.board.background.image.update(CA(i.image.attrs,["url"])),a.label=2;case 2:return this.board.layer.setAttrs(CA(r.attrs,["width","height"])),this.board.stage.setAttrs(t.attrs),s.forEach(function(A){A.className==="Group"&&o.board.groups.create(A.attrs.name,A.attrs)}),[4,Promise.all(s.map(function(A){return Yn(o,void 0,void 0,function(){var c,l,h,u;return Jn(this,function(d){switch(d.label){case 0:switch(A.className){case"Image":return[3,1];case"Label":return[3,3];case"Text":return[3,4];case"Line":return[3,5];case"Arrow":return[3,6];case"Circle":return[3,7];case"Ellipse":return[3,8];case"RegularPolygon":return[3,9];case"Rect":return[3,10];case"Path":return[3,11];case"Group":return[3,12]}return[3,13];case 1:return[4,this.shapes.image.insert(A.attrs.url,CA(A.attrs,["url"]))];case 2:return c=d.sent(),[3,13];case 3:return c=this.shapes.label.insert({container:A.attrs,tag:A.children[0].attrs,text:A.children[1].attrs}),[3,13];case 4:return c=this.shapes.text.insert(A.attrs),[3,13];case 5:return c=this.shapes.line.insert(A.attrs),[3,13];case 6:return c=this.shapes.arrow.insert(A.attrs),[3,13];case 7:return c=this.shapes.circle.insert(A.attrs),[3,13];case 8:return c=this.shapes.ellipse.insert(A.attrs),[3,13];case 9:return c=this.shapes.polygon.insert(A.attrs),[3,13];case 10:return c=this.shapes.rect.insert(A.attrs),[3,13];case 11:return c=this.shapes.svg.insert(A.attrs),[3,13];case 12:return c=(l=this.board.groups.find(A.attrs.name))===null||l===void 0?void 0:l.container,[3,13];case 13:return c&&(c.group=A.group,c.node.zIndex((h=A.zIndex)!==null&&h!==void 0?h:0)),c&&Array.isArray(A.filters)&&((u=A.filters)===null||u===void 0?void 0:u.length)>0&&(A.filters.forEach(function(p){c.node.filters(ge(ge([],Ke((c==null?void 0:c.node.filters())||[]),!1),[ue.Filters[p]],!1))}),c.node.cache()),[2]}})})}))];case 3:return a.sent(),[2]}})})},n}();function O1(n,e){return{x:n.x*Math.cos(e)+-n.y*Math.sin(e),y:n.x*Math.sin(e)- -n.y*Math.cos(e)}}function I1(n){return Number(n)*Math.PI/180}var n5=function(){function n(e,t){this.board=e,this.options=this.createOptions(t),this.layer=new ue.Layer;var r=new ue.Rect({fill:this.options.overlay.color,opacity:this.options.overlay.opacity,width:this.board.stage.width(),height:this.board.stage.height()});this.overlay=this.createOverlay(),this.cropzone=this.createCropzone(),this.layer.add(r,this.overlay,this.cropzone)}return n.prototype.getCursorEvents=function(){return pi()?[{name:"mouseout",cursor:"default"},{name:"mouseover",cursor:"grab"},{name:"dragmove",cursor:"grabbing"},{name:"dragend",cursor:"default"}]:[]},n.prototype.createCropzone=function(){var e,t,r,i,s,o,a,A=this,c=new ue.Group({x:this.options.x,y:this.options.y}),l={x:0,y:0,fill:"transparent",dash:this.options.transformer.borderDash};return this.options.circular?c.add(new ue.Circle(W(W({},l),{radius:this.options.radius,stroke:(t=(e=this.options.circle)===null||e===void 0?void 0:e.borderStroke)!==null&&t!==void 0?t:this.options.transformer.borderStroke,strokeWidth:(i=(r=this.options.circle)===null||r===void 0?void 0:r.borderStrokeWidth)!==null&&i!==void 0?i:this.options.transformer.borderStrokeWidth,dash:(o=(s=this.options.circle)===null||s===void 0?void 0:s.borderDash)!==null&&o!==void 0?o:this.options.transformer.borderDash}))):c.add(new ue.Rect(W(W({},l),{width:this.options.width,height:this.options.height,stroke:this.options.fixed?this.options.transformer.borderStroke:void 0,strokeWidth:this.options.fixed?this.options.transformer.borderStrokeWidth:void 0}))),!((a=this.options.guides)===null||a===void 0)&&a.show&&c.add.apply(c,ge([],Ke(this.createGuideLines()),!1)),this.getCursorEvents().forEach(function(h){var u=h.name,d=h.cursor;c.on(u,function(){A.board.stage.container().style.cursor=d})}),c},n.prototype.createGuideLines=function(){var e,t,r=this.options.guides,i={stroke:r.color,strokeWidth:r.width,dash:r.dash};if(this.options.circular)return[new ue.Line(W({points:[-this.options.radius,0,this.options.radius,0]},i)),new ue.Line(W({points:[0,-this.options.radius,0,this.options.radius]},i))];var s=this.options,o=s.width,a=s.height,A=r.count||((t=(e=Vw.cropper)===null||e===void 0?void 0:e.guides)===null||t===void 0?void 0:t.count);return Array.from({length:A}).flatMap(function(c,l){var h=o/(A+1),u=h+l*h,d=a/(A+1),p=d+l*d;return[new ue.Line(W({points:[u,0,u,a]},i)),new ue.Line(W({points:[0,p,o,p]},i))]})},n.prototype.createOverlay=function(){return new ue.Rect({x:0,y:0,width:this.board.stage.width(),height:this.board.stage.height()})},n.prototype.createOptions=function(e){var t,r=W(W(W({},this.board.settings.cropper),{transformer:W(W(W({},this.board.settings.transformer),(t=this.board.settings.cropper)===null||t===void 0?void 0:t.transformer),e.transformer)}),e);return e.circular?W(W({circular:!0},r),this.getCircularCropperOptions(r)):W(W({circular:!1},r),this.getRectangularCropperOptions(r))},n.prototype.getCircularCropperOptions=function(e){var t,r,i,s,o=(t=e.transformer)===null||t===void 0?void 0:t.borderStrokeWidth,a=(Math.min(this.board.stage.width(),this.board.stage.height())-2*o)/2,A=(r=e.x)!==null&&r!==void 0?r:-1,c=(i=e.y)!==null&&i!==void 0?i:-1;return{radius:(s=e.radius)!==null&&s!==void 0?s:a/e.marginRatio,x:A>=Math.max(A,o)?A:this.board.stage.width()/2,y:c>=Math.max(c,o)?c:this.board.stage.height()/2}},n.prototype.getRectangularCropperOptions=function(e){var t,r,i,s,o=(t=e.transformer)===null||t===void 0?void 0:t.borderStrokeWidth,a=e.fixed?2*o:2*((r=e.transformer)===null||r===void 0?void 0:r.anchorSize),A=e.aspectRatio||this.board.stage.width()/this.board.stage.height(),c=e.width||(this.board.stage.width()-a)/e.marginRatio,l=e.height||c/A;l>this.board.stage.height()-a&&(c=(l=this.board.stage.height()-a)*A);var h=(i=e.x)!==null&&i!==void 0?i:-1,u=(s=e.y)!==null&&s!==void 0?s:-1;return{aspectRatio:A,width:c,height:l,x:h>=0?Math.max(h,o):(this.board.stage.width()-c)/2,y:u>=0?Math.max(u,o):(this.board.stage.height()-l)/2}},n}(),r5=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.draggable=i.createDraggableOverlay(),i.layer.add(i.draggable),i.setupCropzone(),i.board.stage.add(i.layer),i}return He(e,n),e.prototype.zoom=function(t){this.board.layer.scale({x:t,y:t});var r=this.board.layer.width()*t,i=this.board.layer.height()*t,s=[this.draggable.width()/2,this.draggable.height()/2],o=[r/2,i/2];this.draggable.width(r),this.draggable.height(i);var a=this.getDraggableOverlayBoundRect({x:this.draggable.x()+s[0]-o[0],y:this.draggable.y()+s[1]-o[1]}),A=a.x,c=a.y;this.draggable.x(A),this.draggable.y(c),this.board.layer.x(this.draggable.x()),this.board.layer.y(this.draggable.y()),this.board.draw()},e.prototype.setDraggableOverlayPosition=function(t){var r=t.x,i=t.y,s=this.getDraggableOverlayBoundRect({x:r,y:i}),o=s.x,a=s.y;this.draggable.x(o),this.board.layer.x(o),this.draggable.y(a),this.board.layer.y(a),this.board.draw()},e.prototype.setupCropzone=function(){this.cropzone.draggable(!1)},e.prototype.getDraggableOverlayBoundRect=function(t){var r=this.draggable,i=this.options.circular?2*this.options.radius:this.options.width,s=this.options.circular?2*this.options.radius:this.options.height,o=this.options.circular?this.options.x-this.options.radius:this.options.x,a=this.options.circular?this.options.y-this.options.radius:this.options.y,A=o+i-r.width(),c=a+s-r.height(),l=t.x,h=t.y;return l>=o?l=o:l<=A&&(l=A),h>=a?h=a:h<=c&&(h=c),{x:l,y:h}},e.prototype.createDraggableOverlay=function(){var t=this,r=new ue.Rect({x:0,y:0,width:this.board.stage.width(),height:this.board.stage.height(),fill:"transparent",opacity:0,draggable:!0,dragBoundFunc:function(i){var s=t.getDraggableOverlayBoundRect(i),o=s.x,a=s.y;return t.board.layer.x(o),t.board.layer.y(a),t.board.draw(),{x:o,y:a}}});return this.getCursorEvents().forEach(function(i){var s=i.name,o=i.cursor;r.on(s,function(){t.board.stage.container().style.cursor=o})}),r},e}(n5),che=function(n){function e(t,r){var i=n.call(this,t,W(W({},r),{keepRatio:!0}))||this;return i.setupOverlay(),i}return He(e,n),e.prototype.getRect=function(){var t=this.options,r=this.draggable.width()/this.layer.width(),i=this.draggable.height()/this.layer.height();return{x:(t.x-t.radius-this.draggable.x())/r,y:(t.y-t.radius-this.draggable.y())/i,width:2*t.radius/r,height:2*t.radius/i}},e.prototype.setupOverlay=function(){var t=this.options;this.overlay.sceneFunc(function(r,i){r.beginPath(),r.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),r.clip(),r.clearRect(t.x-t.radius,t.y-t.radius,2*t.radius,2*t.radius),r.closePath(),r.fillStrokeShape(i)})},e}(r5),hhe=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.setupOverlay(),i}return He(e,n),e.prototype.getRect=function(){var t=this.options,r=this.draggable.width()/this.layer.width(),i=this.draggable.height()/this.layer.height();return{x:(t.x-this.draggable.x())/r,y:(t.y-this.draggable.y())/i,width:t.width/r,height:t.height/i}},e.prototype.setupOverlay=function(){var t=this.options;this.overlay.sceneFunc(function(r,i){r.beginPath(),r.clearRect(t.x,t.y,t.width,t.height),r.closePath(),r.fillStrokeShape(i)})},e}(r5),i5=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.transformer=i.createTransformer(),i.layer.add(i.transformer),i.setupCropzone(),i.board.stage.add(i.layer),i}return He(e,n),e.prototype.setPosition=function(t){var r=t===void 0?{x:this.options.x,y:this.options.y}:t,i=r.x,s=r.y,o=this.getCropzoneBoundRect({x:i,y:s}),a=o.x,A=o.y;this.cropzone.x(a),this.cropzone.y(A),this.layer.batchDraw()},e.prototype.getRect=function(){return{x:this.transformer.x(),y:this.transformer.y(),width:this.transformer.width(),height:this.transformer.height()}},e.prototype.setupCropzone=function(){var t=this;this.cropzone.draggable(!0),this.cropzone.dragBoundFunc(function(r){return t.getCropzoneBoundRect(r)})},e.prototype.getCropzoneBoundRect=function(t){var r=this.options.transformer.borderStrokeWidth,i=(this.options.circular?this.transformer.width()/2:0)+r,s=(this.options.circular?this.transformer.height()/2:0)+r,o=(this.options.circular?this.board.stage.width()-this.transformer.width()/2:this.board.stage.width()-this.transformer.width())-r,a=(this.options.circular?this.board.stage.height()-this.transformer.height()/2:this.board.stage.height()-this.transformer.height())-r;return{x:t.x<=i?Math.max(t.x,i):Math.min(t.x,o),y:t.y<=s?Math.max(t.y,s):Math.min(t.y,a)}},e.prototype.createTransformer=function(){var t=this;return new ue.Transformer(W(W({nodes:[this.cropzone],keepRatio:this.options.keepRatio,rotateEnabled:!1},this.options.transformer),{enabledAnchors:ge(["top-left","top-right","bottom-left","bottom-right"],Ke(this.options.keepRatio?[]:["top-center","bottom-center"]),!1),boundBoxFunc:function(r,i){return Math.ceil(i.x)<-1||Math.ceil(i.y)<-1||i.width<t.options.minWidth||i.height<t.options.minHeight||i.width>=t.board.stage.width()||i.height>=t.board.stage.height()||i.x+i.width>=t.board.stage.width()||i.y+i.height>=t.board.stage.height()?r:i}}))},e}(n5),uhe=function(n){function e(t,r){var i=n.call(this,t,W(W({},r),{circular:!0,keepRatio:!0}))||this;return i.setupOverlay(),i}return He(e,n),e.prototype.setupOverlay=function(){var t=this;this.overlay.sceneFunc(function(r,i){r.beginPath();var s=t.transformer.width()/2;r.arc(t.cropzone.x(),t.cropzone.y(),s,0,2*Math.PI,!1),r.clip(),r.clearRect(t.cropzone.x()-s,t.cropzone.y()-s,2*s,2*s),r.closePath(),r.fillStrokeShape(i)})},e}(i5),dhe=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.setupOverlay(),i}return He(e,n),e.prototype.setupOverlay=function(){var t=this;this.overlay.sceneFunc(function(r,i){r.beginPath(),r.clearRect(t.cropzone.x(),t.cropzone.y(),t.transformer.width(),t.transformer.height()),r.closePath(),r.fillStrokeShape(i)})},e}(i5),fhe=function(){function n(e){this.board=e}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this.active},enumerable:!1,configurable:!0}),n.prototype.getInstance=function(){return this.instance},n.prototype.start=function(e){if(!this.active){var t=XO(Vw.cropper,e);this.active=!0,this.board.selection.deselectAll();var r=t.circular,i=t.fixed&&this.board.stage.rotation()===0;!i&&r&&(this.instance=new uhe(this.board,W(W({},t),{fixed:!1,circular:!0}))),i||r||(this.instance=new dhe(this.board,W(W({},t),{fixed:!1,circular:!1}))),i&&r&&(this.instance=new che(this.board,W(W({},t),{fixed:!0,circular:!0}))),i&&!r&&(this.instance=new hhe(this.board,W(W({},t),{fixed:!0,circular:!1})))}},n.prototype.stop=function(){this.active&&(this.active=!1,this.instance.layer.remove(),this.board.layer.setAttrs({x:0,y:0,scale:{x:1,y:1}}),pi()&&(this.board.stage.container().style.cursor="default"))},n.prototype.zoom=function(e){if(!this.instance.options.fixed)return!1;this.instance.zoom(e)},n.prototype.setPosition=function(e){this.instance.options.fixed?this.instance.setDraggableOverlayPosition(e):this.instance.setPosition(e)},n.prototype.getRect=function(){return this.isActive?this.instance.getRect():null},n.prototype.crop=function(e){return e===void 0&&(e={}),Yn(this,void 0,void 0,function(){var t,r,i,s,o;return Jn(this,function(a){switch(a.label){case 0:return(t=e.rect||this.getRect())?(this.board.history.create(this.board.stage,ge([this.board.stage],Ke(this.board.layer.children||[]),!1)),r=this.board.selection.isVisible,this.stop(),i=this.board.stage,s=Math.min(i.width()/t.width,i.height()/t.height),i.setAttrs({scale:{x:s*i.scaleX(),y:s*i.scaleY()},width:t.width*s,height:t.height*s,x:-t.x*s+i.x()*s,y:-t.y*s+i.y()*s,rotation:i.rotation()}),this.board.background.overlay.hide(),r&&this.board.selection.transformer.hide(),this.board.activeShapes.forEach(function(A){A.hasGroup()||A.node.hide()}),[4,Ww(this.board.stage.toDataURL({pixelRatio:1}))]):[2,null];case 1:return o=a.sent(),this.board.background.nodes.forEach(function(A){A.setAttrs({width:o.width(),height:o.height(),rotation:0,x:0,y:0,scale:{x:1,y:1}})}),this.board.background.image.node.setAttrs({image:o.image()}),this.board.shapes.forEach(function(A){if(!A.isDeleted&&!A.hasGroup()){var c=A.node,l=O1({x:c.x(),y:c.y()},I1(i.rotation()));c.setAttrs({rotation:c.rotation(),x:l.x*i.scaleX()+i.x(),y:l.y*i.scaleY()+i.y(),scaleX:c.scaleX()*i.scaleX(),scaleY:c.scaleY()*i.scaleY()}).show()}}),this.board.background.overlay.show(),r&&this.board.selection.transformer.show(),i.setAttrs({rotation:0,scaleX:1,scaleY:1,x:0,y:0}),i.batchDraw(),this.board.events.emit("crop",{data:{options:e,rect:t}}),[2,t]}})})},n}(),phe=function(){function n(e){this.board=e}return n.prototype.transform=function(e){var t=this;this.board.history.create(this.board.stage,ge([this.board.stage],Ke(this.board.getNodes()),!1));var r=I1(Number(e)),i=this.board.getDimensions(),s=i.width,o=i.height,a=Math.abs(Math.cos(r)),A=Math.abs(Math.sin(r)),c=s*a+o*A,l=o,h=o/(o*a+s*A)*c,u=h/c,d=O1({x:s*u/2,y:o*u/2},r);this.board.stage.setAttrs({width:h,height:l}),[this.board.background.image,this.board.background.overlay].filter(function(p){return p.isSelectable===!1}).forEach(function(p){var f=p.node;f.scale({x:u,y:u}),f.rotation(Number(e)),f.x(h/2-d.x),f.y(l/2-d.y)}),this.board.activeShapes.forEach(function(p){var f,v,m,y;if(!p.hasGroup()){var w=(f=p.node.attrs.originalScaleX)!==null&&f!==void 0?f:p.node.scaleX(),C=(v=p.node.attrs.originalScaleY)!==null&&v!==void 0?v:p.node.scaleY(),S=(m=p.node.attrs.originalX)!==null&&m!==void 0?m:p.node.x(),x=(y=p.node.attrs.originalY)!==null&&y!==void 0?y:p.node.y(),E=O1({x:S,y:x},I1(e));p.node.setAttrs({originalX:S,originalY:x,originalScaleX:w,originalScaleY:C,rotation:Number(e),x:E.x*u+t.board.background.getPosition().x,y:E.y*u+t.board.background.getPosition().y,scaleX:w*u,scaleY:C*u})}}),this.board.events.emit("rotation:transform")},n.prototype.straighten=function(e){this.board.background.nodes.forEach(function(t){Yi(t,e)}),this.board.activeShapes.forEach(function(t){t.hasGroup()||t.rotate(e)}),this.board.events.emit("rotation:straighten")},n}(),ghe=function(){function n(e){this.lines=[],this.offset=5,this.options={},this.active=!1;var t=e.settings.snapToGrid;this.board=e,this.options=t,this.active=t!==null,this.active&&this.registerEvents()}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this.active},enumerable:!1,configurable:!0}),n.prototype.setOptions=function(e){this.options=e},n.prototype.setOffset=function(e){this.offset=e},n.prototype.enable=function(){this.active||(this.active=!0,this.registerEvents())},n.prototype.disable=function(){this.active!==!1&&(this.active=!1,this.unregisterEvents())},n.prototype.getLineStops=function(e){var t={vertical:[0,this.board.stage.width()/2,this.board.stage.width()],horizontal:[0,this.board.stage.height()/2,this.board.stage.height()]};return this.board.activeShapes.forEach(function(r){if(r.node!==e&&!r.hasGroup()){var i=r.node.getClientRect();t={vertical:ge(ge([],Ke(t.vertical),!1),[i.x,i.x+i.width,i.x+i.width/2],!1),horizontal:ge(ge([],Ke(t.horizontal),!1),[i.y,i.y+i.height,i.y+i.height/2],!1)}}}),t},n.prototype.getNodeEdgeBounds=function(e){var t=e.getClientRect(),r=e.absolutePosition();return[{guide:Math.round(t.x),offset:Math.round(r.x-t.x),snap:"start",orientation:"vertical"},{guide:Math.round(t.x+t.width/2),offset:Math.round(r.x-t.x-t.width/2),snap:"center",orientation:"vertical"},{guide:Math.round(t.x+t.width),offset:Math.round(r.x-t.x-t.width),snap:"end",orientation:"vertical"},{guide:Math.round(t.y),offset:Math.round(r.y-t.y),snap:"start",orientation:"horizontal"},{guide:Math.round(t.y+t.height/2),offset:Math.round(r.y-t.y-t.height/2),snap:"center",orientation:"horizontal"},{guide:Math.round(t.y+t.height),offset:Math.round(r.y-t.y-t.height),snap:"end",orientation:"horizontal"}]},n.prototype.getGuideLines=function(e,t){var r=this,i=[];t.forEach(function(o){Object.entries(e).forEach(function(a){var A=Ke(a,2),c=A[0],l=A[1];c===o.orientation&&l.forEach(function(h){var u=Math.abs(h-o.guide);u>=r.offset||i.push({diff:u,stop:h,snap:o.snap,offset:o.offset,orientation:o.orientation})})})});var s=function(o){return i.filter(function(a){return a.orientation===o}).sort(function(a,A){return a.diff-A.diff})[0]};return[s("vertical"),s("horizontal")].filter(function(o){return!!o})},n.prototype.draw=function(e){var t=this;e.length&&e.forEach(function(r){var i=W({stroke:"#000",strokeWidth:1,dash:[2,6]},t.options);r.orientation==="vertical"?i.points=[0,0,0,t.board.stage.height()]:r.orientation==="horizontal"&&(i.points=[0,0,t.board.stage.width(),0]);var s=new ue.Line(i);r.orientation==="vertical"?s.absolutePosition({x:r.stop,y:0}):r.orientation==="horizontal"&&s.absolutePosition({x:0,y:r.stop}),t.board.layer.add(s),t.lines.push(s)})},n.prototype.setNodePosition=function(e,t){t.forEach(function(r){var i=r.orientation,s=r.stop,o=r.offset,a=e.absolutePosition();i==="vertical"?a.x=s+o:i==="horizontal"&&(a.y=s+o),e.absolutePosition(a)})},n.prototype.onDragMove=function(e){var t=e.target;if(this.board.activeShapes.find(function(i){return i.node===t})){this.destroy();var r=this.getGuideLines(this.getLineStops(t),this.getNodeEdgeBounds(t));this.draw(r),this.setNodePosition(t,r)}},n.prototype.onDragEnd=function(){this.destroy()},n.prototype.destroy=function(){this.lines.length>0&&(this.lines.forEach(function(e){return e.destroy()}),this.lines=[])},n.prototype.registerEvents=function(){this.board.layer.on("dragmove",this.onDragMove.bind(this)),this.board.layer.on("dragend",this.onDragEnd.bind(this))},n.prototype.unregisterEvents=function(){this.board.layer.removeEventListener("dragmove"),this.board.layer.removeEventListener("dragend")},n}();function om(n,e){return Math.sqrt(Math.pow(Math.abs(n.x-e.x),2)+Math.pow(Math.abs(n.y-e.y),2))}var gi=function(){function n(e,t,r){this.board=e,this.drawType=t,this.board.settings.measurement&&(r==null?void 0:r.measurement)!==!1&&(this.dimensionsTag=new JO(this.board)),this.onStartDrawing=this.onStartDrawing.bind(this),this.onFinishDrawing=this.onFinishDrawing.bind(this),this.onDrawing=this.onDrawing.bind(this),this.onKeyDown=this.onKeyDown.bind(this)}return Object.defineProperty(n.prototype,"isDrawing",{get:function(){return this.board.activeDrawing===this.drawType},enumerable:!1,configurable:!0}),n.prototype.insert=function(e){return this.stopDrawing(),this.createShape(e)},n.prototype.draw=function(e){tc()||(this.config=e,this.stopDrawing(),this.board.setActiveDrawing(this.drawType),this.board.stage.on("mousedown touchstart",this.onStartDrawing),this.board.stage.on("mousemove touchmove",this.onDrawing),this.board.stage.on("mouseup touchend",this.onFinishDrawing),pi()&&(window.addEventListener("mouseup",this.onFinishDrawing),window.addEventListener("touchend",this.onFinishDrawing),window.addEventListener("keydown",this.onKeyDown)))},n.prototype.stopDrawing=function(){var e;tc()||(this.node=null,this.board.setActiveDrawing(null),this.board.stage.container().style.cursor="inherit",(e=this.dimensionsTag)===null||e===void 0||e.hide(),this.board.stage.off("mousedown touchstart",this.onStartDrawing),this.board.stage.off("mousemove touchmove",this.onDrawing),this.board.stage.off("mouseup touchend",this.onFinishDrawing),window.removeEventListener("mouseup",this.onFinishDrawing),window.removeEventListener("touchend",this.onFinishDrawing),window.removeEventListener("keydown",this.onKeyDown))},n.prototype.getShapePosition=function(){return{x:this.node.x(),y:this.node.y()}},n.prototype.onStartDrawing=function(){var e=this.board.stage.getPointerPosition(),t=e.x,r=e.y;this.startPoint={x:t,y:r}},n.prototype.onDrawing=function(e){tc()||this.isDrawing&&(this.board.stage.container().style.cursor="crosshair",this.node&&this.dimensionsTag&&this.dimensionsTag.measure(this.node,this.node.getClientRect()))},n.prototype.onFinishDrawing=function(){var e,t=this;tc()||(this.board.stage.container().style.cursor="inherit",this.node&&(!((e=this.board.settings.drawing)===null||e===void 0)&&e.autoSelect)&&this.board.selection.find(function(r){return r.node===t.node}),this.stopDrawing())},n.prototype.onKeyDown=function(e){var t,r;e.key==="Escape"&&!((r=(t=this.board.settings.drawing)===null||t===void 0?void 0:t.keyboard)===null||r===void 0)&&r.cancelOnEscape&&this.stopDrawing()},n}(),mhe=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return He(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"svg"},enumerable:!1,configurable:!0}),e.prototype.width=function(){return this.node.getClientRect().width},e.prototype.height=function(){return this.node.getClientRect().height},e.prototype.rotate=function(t){Yi(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(br),vhe=function(n){function e(t){return n.call(this,t,qn.Svg)||this}return He(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new ue.Path(t),new mhe(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&(this.createShape(W({x:this.startPoint.x,y:this.startPoint.y,scaleX:.001,scaleY:.001},this.config)),this.initialDimensions=this.node.getClientRect())},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.initialDimensions,i=this.board.stage.getPointerPosition(),s=om(i,this.getShapePosition());s&&this.node.setAttrs({x:i.x,scaleX:s/r.width*.001,scaleY:s/r.height*.001})}},e.prototype.onFinishDrawing=function(){n.prototype.onFinishDrawing.call(this),this.initialDimensions=void 0},e}(gi),yhe=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return He(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"text"},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){Yi(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(br),bhe=function(n){function e(t){return n.call(this,t,qn.Text)||this}return He(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new ue.Text(t),new yhe(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(W({x:this.startPoint.x,y:this.startPoint.y},this.config))},e.prototype.onDrawing=function(t){n.prototype.onDrawing.call(this,t)},e}(gi),s5=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return He(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"line"},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){Yi(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(br),whe=function(n){function e(t){return n.call(this,t,qn.Line)||this}return He(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new ue.Line(W({hitStrokeWidth:15},t)),new s5(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(W({globalCompositeOperation:"source-over",points:[this.startPoint.x,this.startPoint.y]},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition();this.node.points(ge(ge([],Ke(this.node.points().slice(0,2)),!1),[r.x,r.y],!1))}},e}(gi),Che=function(n){function e(t){return n.call(this,t,qn.Rect)||this}return He(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new ue.Rect(t),new t5(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(W({x:this.startPoint.x,y:this.startPoint.y},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition(),i=Math.abs(r.x-this.startPoint.x),s=Math.abs(r.y-this.startPoint.y);this.node.setAttrs({x:Math.min(this.startPoint.x,r.x),y:Math.min(this.startPoint.y,r.y),width:i,height:t.evt.shiftKey?i:s})}},e}(gi),Bhe=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return He(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"arrow"},enumerable:!1,configurable:!0}),e.prototype.rotate=function(t){Yi(this.node,t),this.board.events.emit("shape:rotate",{shapes:[this]})},e}(br),xhe=function(n){function e(t){return n.call(this,t,qn.Arrow)||this}return He(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new ue.Arrow(t),new Bhe(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(W({globalCompositeOperation:"source-over",points:[this.startPoint.x,this.startPoint.y]},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition();this.node.points(ge(ge([],Ke(this.node.points().slice(0,2)),!1),[r.x,r.y],!1))}},e}(gi),_he=function(){function n(e){this.board=e}return n.prototype.insert=function(e){var t,r,i=e.container,s=e.text,o=e.tag,a=e.config,A=new ue.Label(W(W({},i),{draggable:(t=this.board.settings.selection)===null||t===void 0?void 0:t.interactive})),c=new ue.Text(s),l=new ue.Tag(o);return c.setAttr("height","auto"),A.add(l).add(c),new ZO(this.board,A,W(W({},a),{transformer:W({centeredScaling:!1,enabledAnchors:["middle-left","middle-right"]},(r=a==null?void 0:a.transformer)!==null&&r!==void 0?r:{})}))},n}(),She=function(n){function e(t){return n.call(this,t,qn.Pencil,{measurement:!1})||this}return He(e,n),e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new ue.Line(t),new s5(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(W({globalCompositeOperation:"source-over",points:[this.startPoint.x,this.startPoint.y]},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition();this.node.points(this.node.points().concat([r.x,r.y]))}},e.prototype.onFinishDrawing=function(){n.prototype.onFinishDrawing.call(this),this.draw(this.config)},e}(gi),Ehe=function(){function n(e){this.board=e}return n.prototype.insert=function(e,t){var r;return t===void 0&&(t={}),Yn(this,void 0,void 0,function(){var i,s,o,a,A;return Jn(this,function(c){switch(c.label){case 0:return e instanceof ue.Image?(i=e,[3,6]):[3,1];case 1:return pi()&&e instanceof File?[4,qO(e)]:[3,3];case 2:return s=c.sent(),[3,4];case 3:s=e,c.label=4;case 4:return[4,Ww(s)];case 5:i=c.sent(),c.label=6;case 6:return o=i.width()/i.height(),a=this.board.stage.height()/2,A=a*o,i.setAttrs(W({width:A,height:a,x:(this.board.stage.width()-A)/2,y:(this.board.stage.height()-a)/2,rotation:-1*this.board.stage.rotation(),draggable:(r=this.board.settings.selection)===null||r===void 0?void 0:r.interactive},t)),[2,new e5(this.board,i,{transformer:{keepRatio:!0}})]}})})},n}(),Fhe=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return He(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"circle"},enumerable:!1,configurable:!0}),e}(br),The=function(n){function e(t){return n.call(this,t,qn.Circle)||this}return He(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new ue.Circle(t),new Fhe(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(W({x:this.startPoint.x,y:this.startPoint.y,radius:0},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition();this.node.setAttrs({radius:om(r,this.getShapePosition())})}},e}(gi),Phe=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return He(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"ellipse"},enumerable:!1,configurable:!0}),e}(br),Ohe=function(n){function e(t){return n.call(this,t,qn.Ellipse)||this}return He(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new ue.Ellipse(t),new Phe(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(W({x:this.startPoint.x,y:this.startPoint.y,radiusX:0,radiusY:0},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition(),i=Math.abs(r.x-this.node.x()),s=Math.abs(r.y-this.node.y());this.node.setAttrs({radiusX:i,radiusY:t.evt.shiftKey?i:s})}},e}(gi),Ihe=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return He(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"polygon"},enumerable:!1,configurable:!0}),e}(br),Uhe=function(n){function e(t){return n.call(this,t,qn.Polygon)||this}return He(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,t)},e.prototype.createShape=function(t){return this.node=new ue.RegularPolygon(t),new Ihe(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(W({x:this.startPoint.x,y:this.startPoint.y,radius:0,sides:4},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition();this.node.setAttrs({radius:om(r,this.getShapePosition())})}},e}(gi),khe=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return He(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return"triangle"},enumerable:!1,configurable:!0}),e}(br),Dhe=function(n){function e(t){return n.call(this,t,qn.Triangle)||this}return He(e,n),e.prototype.insert=function(t){return n.prototype.insert.call(this,t)},e.prototype.draw=function(t){t===void 0&&(t={}),n.prototype.draw.call(this,W(W({},t),{sides:3}))},e.prototype.createShape=function(t){return this.node=new ue.RegularPolygon(W({radius:10,sides:3},t)),new khe(this.board,this.node)},e.prototype.onStartDrawing=function(){n.prototype.onStartDrawing.call(this),this.isDrawing&&this.createShape(W({x:this.startPoint.x,y:this.startPoint.y,radius:0},this.config))},e.prototype.onDrawing=function(t){if(n.prototype.onDrawing.call(this,t),this.node){var r=this.board.stage.getPointerPosition();this.node.setAttrs({radius:om(r,this.getShapePosition())})}},e}(gi),Qhe=function(){function n(e,t){if(pi()&&!e.container)throw new Error("It needs to have a container element");this.settings=Yce(e),this.registerShapes=t,this.init()}return n.prototype.loadFromFile=function(e,t){return Yn(this,void 0,void 0,function(){return Jn(this,function(r){switch(r.label){case 0:return[4,this.board.background.setImageFromFile(e,t)];case 1:return r.sent(),[2]}})})},n.prototype.loadFromUrl=function(e,t){return Yn(this,void 0,void 0,function(){return Jn(this,function(r){switch(r.label){case 0:return[4,this.board.background.setImageFromUrl(e,t)];case 1:return r.sent(),[2]}})})},n.prototype.rescale=function(){this.board.rescale()},n.prototype.undo=function(){this.history.undo()},n.prototype.redo=function(){this.history.redo()},n.prototype.on=function(e,t){this.events.on(e,t)},n.prototype.off=function(e,t){this.events.off(e,t)},n.prototype.reset=function(){this.init(),this.events.emit("history:reset")},n.prototype.load=function(e){return Yn(this,void 0,void 0,function(){return Jn(this,function(t){switch(t.label){case 0:return this.reset(),[4,this.import.json(JSON.parse(e))];case 1:return t.sent(),[2]}})})},n.prototype.init=function(){var e,t=new ihe,r=new she(this.settings,t),i=new rhe(this.settings,t,r);this.selection=i.selection,this.flip=new YO(i),this.filters=new zw(i),this.cropper=new fhe(i),this.rotation=new phe(i),this.snapGrid=new ghe(i),this.shapes=W({arrow:new xhe(i),circle:new The(i),ellipse:new Ohe(i),image:new Ehe(i),label:new _he(i),line:new whe(i),pencil:new She(i),polygon:new Uhe(i),rect:new Che(i),triangle:new Dhe(i),text:new bhe(i),svg:new vhe(i)},(e=this.registerShapes)===null||e===void 0?void 0:e.call(this,i)),this.import=new lhe(i,this.shapes),this.export=new Ahe(i,this.cropper),this.board=i,this.events=t,this.history=r},n}();function e4(n={},e){const[t,r]=H.useState(null),i=H.useRef(null);return H.useEffect(()=>{const s=new Qhe({container:i.current,...n},e);r(s)},[]),[i,t]}function Mhe(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M9 4v16"},child:[]},{tag:"path",attr:{d:"M15 10l-2 2l2 2"},child:[]}]})(n)}function Lhe(n){return _e({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M9 4v16"},child:[]},{tag:"path",attr:{d:"M14 10l2 2l-2 2"},child:[]}]})(n)}const Nhe={code:"en-US",dateFnsLocale:gG,Pagination:{pageSize:"Items per page: ${pageSize}",total:"Total pages: ${total}",jumpTo:"Jump to",page:" page"},Modal:{confirm:"Confirm",cancel:"Cancel"},Tabs:{more:"More"},TimePicker:{placeholder:{time:"Select time",timeRange:"Select a time range"},begin:"Start Time",end:"End Time",hour:"",minute:"",second:"",AM:"AM",PM:"PM"},DatePicker:{placeholder:{date:"Select date",dateTime:"Select date and time",dateRange:["Start date","End date"],dateTimeRange:["Start date","End date"],monthRange:["Start month","End month"]},presets:"Presets",footer:{confirm:"Confirm",cancel:"Cancel"},selectDate:"Select Date",selectTime:"Select Time",year:"year",month:"month",day:"day",monthText:"${month} ${year}",months:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},fullMonths:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},weeks:{Mon:"Mon",Tue:"Tue",Wed:"Wed",Thu:"Thu",Fri:"Fri",Sat:"Sat",Sun:"Sun"},localeFormatToken:{FORMAT_SWITCH_DATE:"MM/dd/yyyy"}},Popconfirm:{confirm:"Confirm",cancel:"Cancel"},Navigation:{collapseText:"Collapse Sidebar",expandText:"Expand Sidebar"},Table:{emptyText:"No Result",pageText:"Showing ${currentStart} to ${currentEnd} of ${total}",descend:"Click to descend",ascend:"Click to ascend",cancelSort:"Cancel sorting"},Select:{emptyText:"No Result",createText:"Create"},Cascader:{emptyText:"No Result"},Tree:{emptyText:"No Result",searchPlaceholder:"Search"},List:{emptyText:"No Result"},Calendar:{allDay:"All Day",AM:"${time} AM",PM:"${time} PM",datestring:"",remaining:"${remained} more"},Upload:{mainText:"Click to Upload File or Drag File to here",illegalTips:"This type of file is not supported",legalTips:"Release and start uploading",retry:"Retry",replace:"Replace File",clear:"Clear",selectedFiles:"Selected Files",illegalSize:"Illegal file size",fail:"Upload fail"},TreeSelect:{searchPlaceholder:"Search"},Typography:{copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Transfer:{emptyLeft:"No Data",emptySearch:"No search results",emptyRight:"No content, check from the left",placeholder:"Search",clear:"Clear",selectAll:"Select all",clearSelectAll:"Unselect all",total:"Total items: ${total}",selected:"Items selected: ${total}"},Form:{optional:"(optional)"},Image:{preview:"Preview",loading:"Loading",loadError:"Failed to load",prevTip:"Previous",nextTip:"Next",zoomInTip:"Zoom in",zoomOutTip:"Zoom out",rotateTip:"Rotate",downloadTip:"Download",adaptiveTip:"Adapt to the page",originTip:"Original size"},Chat:{deleteConfirm:"Are you sure you want to delete this session?",clearContext:"Context cleared",copySuccess:"Copy successful.",stop:"Stop",copy:"Copy",copied:"Copied",dropAreaText:"Put the file here"}},Rhe={code:"ja-JP",dateFnsLocale:zG,Pagination:{pageSize:"1ページあたりのアイテム数：${pageSize}",total:"合計ページ数：${total}",jumpTo:"ページへ",page:"ページ"},Modal:{confirm:"確認する",cancel:"キャンセル"},Tabs:{more:"もっと"},TimePicker:{placeholder:{time:"時間を選択してください",timeRange:"時間範囲を選択してください"},begin:"始まる時間",end:"終了時間",hour:"時",minute:"分",second:"秒",AM:"午前",PM:"午後"},DatePicker:{placeholder:{date:"日付を選択してください",dateTime:"日時を選択してください",dateRange:["開始日","終了日"],dateTimeRange:["開始日","終了日"],monthRange:["開始月","終了月"]},presets:"クイック選択",footer:{confirm:"確認する",cancel:"キャンセル"},selectDate:"日付を選ぶ",selectTime:"時間を選ぶ",year:"年",month:"月",day:"日",monthText:"${year}年 ${month}",months:{1:"1月",2:"2月",3:"3月",4:"4月",5:"5月",6:"6月",7:"7月",8:"8月",9:"9月",10:"10月",11:"11月",12:"12月"},fullMonths:{1:"一月",2:"二月",3:"三月",4:"四月",5:"五月",6:"六月",7:"七月",8:"八月",9:"九月",10:"十月",11:"十一月",12:"十二月"},weeks:{Mon:"月",Tue:"火",Wed:"水",Thu:"木",Fri:"金",Sat:"土",Sun:"日"},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy/MM/dd"}},Popconfirm:{confirm:"確認する",cancel:"キャンセル"},Navigation:{collapseText:"サイドバーを折りたたむ",expandText:"サイドバーを展開"},Table:{emptyText:"データがありません",pageText:"{total}件のうち、{currentStart}～{currentEnd}件目を表示しています",descend:"クリックして降順",ascend:"クリックして昇順",cancelSort:"ソートのキャンセル"},Select:{emptyText:"データがありません",createText:"作成する"},Tree:{emptyText:"データがありません",searchPlaceholder:"検索する"},Cascader:{emptyText:"データがありません"},List:{emptyText:"データがありません"},Calendar:{allDay:"終日",AM:"午前${time}時",PM:"午後${time}時",datestring:"日",remaining:"あと${remained}つ"},Upload:{mainText:"[ファイルのアップロード]または[ファイルをここにドラッグ]をクリックします",illegalTips:"このタイプのファイルはサポートされていません",legalTips:"手放してアップロード",retry:"再試行",replace:"ファイルを置き換える",clear:"クリア",selectedFiles:"選択されたファイル",illegalSize:"不正なファイルサイズ",fail:"アップロードに失敗しました"},TreeSelect:{searchPlaceholder:"検索する"},Typography:{copy:"コピー",copied:"コピーしました",expand:"展開",collapse:"折り"},Transfer:{emptyLeft:"データがありません",emptySearch:"検索結果がありません",emptyRight:"内容なし、左から確認",placeholder:"検索する",clear:"空っぽ",selectAll:"すべて選択",clearSelectAll:"すべてを選択解除",total:"合計アイテム数：${total}",selected:"選択されているアイテム数：${total}"},Form:{optional:"(オプション)"},Image:{preview:"プレビュー",loading:"読み込み中",loadError:"読み込みに失敗しました",prevTip:"前へ",nextTip:"次へ",zoomInTip:"ズームイン",zoomOutTip:"ズームアウト",rotateTip:"回転",downloadTip:"ダウンロード",adaptiveTip:"ページに適応",originTip:"元のサイズ"},Chat:{deleteConfirm:"このセッションを削除してもよろしいですか？",clearContext:"コンテキストを削除しました",copySuccess:"正常にコピーされました",stop:"とめる",copy:"コピー",copied:"コピーしました",dropAreaText:"ファイルをここに置いてください"}},Hhe=({characterData:n})=>{const[e,t]=e4({width:1e3,height:1e3,selection:{transformer:{borderStroke:"rgba(77, 238, 234, 1)",anchorStroke:"rgba(77, 238, 234, 1)",anchorFill:"rgba(77, 238, 234, 1)"},zone:{fill:"rgba(77, 238, 234, 0.1)",stroke:"rgba(77, 238, 234, 1)"}}}),[r,i]=e4({width:1e3,height:1e3,selection:{interactive:!1,keyboard:{enabled:!1}},disableCanvasContextMenu:!0,history:{keyboard:{enabled:!1}}}),[s,o]=H.useState(PP),[a,A]=H.useState(jc.WindyTown),[c,l]=H.useState(IP),[h,u]=H.useState(!1),d=JZ(),[p,f]=H.useState("SELECT"),[v,m]=H.useState(d[2]),[y,w]=H.useState(d),[C,S]=H.useState(-1),[x,E]=H.useState(2),[T,P]=H.useState(2),[F,U]=H.useState(2),[I,D]=H.useState(!0),[$,M]=H.useState({imgPrepareLink:_f[0].imgPrepareLink,imgBlankLink:_f[0].imgBlankLink}),{Header:G,Footer:V,Sider:Q,Content:R}=Ni,B=Ow[s];document.body.setAttribute("theme-mode",c);const O=Z=>{o(Z),ene(Z)},k=Z=>{l(Z),Tne(Z),document.body.setAttribute("theme-mode",Z)},L=()=>{wZ({presentMap:a,mapPrepareMode:I,drawCanvasEditor:t})},j=()=>{CZ({setPresentMap:A,setPresentMapURL:M,setMapPrepareMode:D,drawCanvasEditor:t})},K=Z=>{dc({json:Z,setPresentMap:A,setPresentMapURL:M,setMapPrepareMode:D,drawCanvasEditor:t})},J=()=>{u0({ui:!0})};H.useLayoutEffect(()=>{const Z=()=>{u0()};return t&&(zZ({presentMap:a,setPresentMap:A,setPresentMapURL:M,mapPrepareMode:I,setMapPrepareMode:D,drawCanvasEditor:t}),location.hash&&u0(),window.addEventListener("hashchange",Z)),()=>{window.removeEventListener("hashchange",Z),WZ()}},[t]),H.useLayoutEffect(()=>{XZ({presentMap:a,mapPrepareMode:I}),tP(),nP()},[a,A,$,M,I,D]);const Y=_.jsxs("div",{id:"capture",style:{overflow:"hidden",position:"relative",top:0,left:0,width:"100%",height:"100%"},children:[_.jsxs("div",{className:"no-select",style:{position:"absolute",bottom:"20px",opacity:.1,fontSize:"25px",marginLeft:"30px"},children:[_.jsx("div",{children:"Strinova Map Assistant"}),_.jsx("div",{style:{fontSize:"18px"},children:"strinova.fsltech.cn"})]}),_.jsx(Wte,{currentMap:I?$.imgPrepareLink:$.imgBlankLink,pikasoEditor:i,pikasoRef:r,style:{position:"absolute",top:"0",left:"0"},panelcollaps:h}),_.jsx(zte,{pikasoRef:e,pikasoEditor:t,currentMap:I?$.imgPrepareLink:$.imgBlankLink,canvasTool:p,setTool:f,lineWidth:T,fontSize:F,penColor:v,penWidth:x,load:K,panelcollaps:h})]}),ie={English:Nhe,日本語:Rhe,简体中文:pf};return _.jsx(Bw,{locale:ie[s],children:_.jsx(yr.Provider,{value:B,children:_.jsx(UP.Provider,{value:c,children:_.jsxs(Ni,{style:{border:"1px solid var(--semi-color-border)",height:"100%",width:"100%"},children:[_.jsx(G,{style:{backgroundColor:"var(--semi-color-bg-1)"},children:_.jsx(Pne,{editor:t,currentMap:a,changeLanguage:O,changeTheme:k,setPresentMap:A,setPresentMapURL:M,mapPrepareMode:I,setMapPrepareMode:D,share:J})}),_.jsxs(Ni,{children:[_.jsxs(Q,{style:{backgroundColor:"var(--semi-color-bg-1)",height:"100%",position:"relative"},children:[_.jsx(Gne,{characterRegistry:n,collaps:h}),_.jsx("button",{style:{position:"absolute",width:"50px",height:"50px",backgroundColor:"var(--semi-color-bg-1)",color:"var(--semi-color-bg-7)"},onClick:()=>u(!h),children:h?_.jsx(Lhe,{}):_.jsx(Mhe,{})})]}),_.jsx(R,{style:{backgroundColor:"var(--semi-color-bg-2)",height:"100%",width:"100%",display:"flex",placeItems:"center",padding:"0 auto"},children:Y}),_.jsx("span",{className:"minHeightAvailable",style:{overflowX:"hidden",overflowY:"auto",maxHeight:"calc(100svh - 7.5rem)",minWidth:"4rem"},children:_.jsx("span",{style:{display:"table"},children:_.jsx(Q,{style:{backgroundColor:"var(--semi-color-bg-1)",width:"4rem"},children:_.jsx(BAe,{canvasTool:p,setTool:f,penColor:v,penWidth:x,setpenWidth:E,setLineWidth:P,lineWidth:T,fontSize:F,setFontSize:U,editor:t,setPenColor:m,colors:y,setColors:w,selectedColor:C,setSelectedColor:S,save:L,load:j})})})})]}),_.jsx(V,{style:{backgroundColor:"var(--semi-color-bg-1)"},children:_.jsx(hne,{})})]})})})})},$he=()=>{const[n,e]=H.useState(null),[t,r]=H.useState(!0);return H.useLayoutEffect(()=>{n||rZ().then(i=>{e(i),console.log(n),r(!1)})},[e,n]),t?_.jsx("div",{className:"minHeightAvailable",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100svh",width:"100%"},children:_.jsx(kg,{size:"large"})}):_.jsx(Hhe,{characterData:n})};dF(document.getElementById("root")).render(_.jsx(H.StrictMode,{children:_.jsx($he,{})}));export{Fw as P,Tw as T,Pw as U,bd as f};
